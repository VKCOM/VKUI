import{j as e,k as j,r as q,i as I,q as E,R as O,g as Y}from"./iframe-CGSrC79H.js";import{D as H,C as M}from"./constants-DdkjnEgz.js";import{c as P}from"./createStoryParameters-CcwS40kl.js";import{u as k}from"./useConfigDirection-BDt5-3HT.js";import{u as D}from"./useEnsuredControl-AiFtRieF.js";import{u as w}from"./useTabsNavigation-CxyT_5Xt.js";import{C as A}from"./Clickable-DvGk0QGJ.js";import{H as $}from"./Headline-DOU82LYx.js";import{V as F}from"./VisuallyHidden-Cv__RMJJ.js";const B="_host_1aeb2_1",K="_hover_1aeb2_19",U="_before_1aeb2_23",d={host:B,hover:K,before:U},_=({getRef:t,children:u,getRootRef:o,before:l,rootProps:g,inputProps:i})=>e.jsxs(A,{Component:"label",baseClassName:d.host,hoverClassName:d.hover,activeClassName:d.hover,getRootRef:o,...g,children:[i&&e.jsx(F,{...i,Component:"input",getRootRef:t,type:"radio"}),j(l)&&e.jsx("div",{className:d.before,children:l}),e.jsx($,{level:"2",weight:"2",children:u})]});try{_.displayName="SegmentedControlOption",_.__docgenInfo={description:"",displayName:"SegmentedControlOption",props:{rootProps:{defaultValue:null,description:"",name:"rootProps",required:!1,type:{name:"LabelHTMLAttributes<HTMLLabelElement>"}},inputProps:{defaultValue:null,description:"",name:"inputProps",required:!1,type:{name:"InputHTMLAttributes<HTMLInputElement>"}},before:{defaultValue:null,description:"",name:"before",required:!1,type:{name:"ReactNode"}},getRootRef:{defaultValue:null,description:"",name:"getRootRef",required:!1,type:{name:"Ref<HTMLLabelElement>"}},getRef:{defaultValue:null,description:"",name:"getRef",required:!1,type:{name:"Ref<HTMLInputElement>"}}}}}catch{}const G="_host_168ta_1",J="_sizeL_168ta_10",Q="_slider_168ta_23",W="_rtl_168ta_42",X="_sizeYRegular_168ta_49",Z="_sizeYNone_168ta_58",n={host:G,sizeL:J,in:"_in_168ta_14",slider:Q,rtl:W,sizeYRegular:X,sizeYNone:Z},ee={none:n.sizeYNone,regular:n.sizeYRegular},f=({size:t="l",name:u,options:o,defaultValue:l=o[0]?.value,children:g,onChange:i,value:y,role:r="radiogroup",...R})=>{const S=q.useId(),v=k()==="rtl",[h,x]=D({onChange:i,value:y,defaultValue:l}),{sizeY:C="none"}=I(),{tabsRef:N}=w(r==="tablist",v),c=o.findIndex(m=>m.value===h);E(()=>{},[c]);const V={"--vkui_internal--SegmentedControl_actual_index":String(c),"--vkui_internal--SegmentedControl_options":String(o.length)};return e.jsx(O,{...R,baseClassName:Y(n.host,C!=="compact"&&ee[C],t==="l"&&n.sizeL,v&&n.rtl),children:e.jsxs("div",{role:r,ref:N,className:n.in,children:[c>-1&&e.jsx("div",{"aria-hidden":!0,className:n.slider,style:V}),o.map(({label:m,before:z,...a})=>{const p=h===a.value,b=()=>x(a.value),L=r==="tablist"?{role:"tab","aria-selected":p,onClick:b,tabIndex:a.tabIndex??(p?0:-1),...a}:void 0,T=r!=="tablist"?{role:a.role||(r==="radiogroup"?"radio":void 0),checked:p,onChange:b,name:u??S,...a}:void 0;return e.jsx(_,{before:z,rootProps:L,inputProps:T,children:m},`${a.value}`)})]})})};try{f.displayName="SegmentedControl",f.__docgenInfo={description:"",displayName:"SegmentedControl",props:{options:{defaultValue:null,description:"Массив опций для отображения в компоненте.",name:"options",required:!0,type:{name:"SegmentedControlOptionInterface<T>[]"}},size:{defaultValue:{value:"l"},description:"Размер компонента.",name:"size",required:!1,type:{name:"enum",value:[{value:'"m"'},{value:'"l"'}]}},name:{defaultValue:null,description:"Имя для input-элементов внутри компонента.",name:"name",required:!1,type:{name:"string"}},onChange:{defaultValue:null,description:"Обработчик изменения выбранного значения.",name:"onChange",required:!1,type:{name:"((value: T) => void)"}},value:{defaultValue:null,description:"Текущее выбранное значение (для контролируемого компонента).",name:"value",required:!1,type:{name:"SegmentedControlValue"}},defaultValue:{defaultValue:{value:"options[0]?.value"},description:"Значение по умолчанию (для неконтролируемого компонента).",name:"defaultValue",required:!1,type:{name:"SegmentedControlValue"}},getRootRef:{defaultValue:null,description:"",name:"getRootRef",required:!1,type:{name:"Ref<HTMLDivElement>"}}}}}catch{}const{fn:te}=__STORYBOOK_MODULE_TEST__,ae={title:"Forms/SegmentedControl",component:f,parameters:P("SegmentedControl",M,H),args:{onChange:te()},argTypes:{role:{control:"select",options:["radiogroup","tablist"]}},tags:["Формы и поля ввода"]},s={args:{options:[{label:"Баг",value:"bug"},{label:"Идея",value:"idea"},{label:"Другое",value:"other"}],role:"radiogroup"},decorators:[t=>e.jsx("div",{style:{width:"100%"},children:e.jsx(t,{})})]};s.parameters={...s.parameters,docs:{...s.parameters?.docs,source:{originalSource:`{
  args: {
    options: [{
      label: 'Баг',
      value: 'bug'
    }, {
      label: 'Идея',
      value: 'idea'
    }, {
      label: 'Другое',
      value: 'other'
    }],
    role: 'radiogroup'
  },
  decorators: [Component => <div style={{
    width: '100%'
  }}>
        <Component />
      </div>]
}`,...s.parameters?.docs?.source}}};const ne=["Playground"],_e=Object.freeze(Object.defineProperty({__proto__:null,Playground:s,__namedExportsOrder:ne,default:ae},Symbol.toStringTag,{value:"Module"}));export{s as P,f as S,_e as a};
