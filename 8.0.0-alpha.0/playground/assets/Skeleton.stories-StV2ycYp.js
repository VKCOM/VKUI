import{D as g,C as F}from"./constants-DdkjnEgz.js";import{c as R}from"./createStoryParameters-CcwS40kl.js";import{h as v,j as f,R as T,a4 as P,g as x,r as m,o as h,N as L}from"./iframe-CGSrC79H.js";import{u as V}from"./useBooleanState-BkBFPaFP.js";import{u as O}from"./useResizeObserver-BDIywkiN.js";import{u as j}from"./useStateWithPrev-DYD-gkn1.js";import{a as q,s as I}from"./animationVisibilityDelay.module-DjZYURHD.js";const M="_host_ytm1y_1",N="_disableAnimation_ytm1y_55",A={host:M,disableAnimation:N},G="--vkui_internal--skeleton_gradient_left";function w(e,t=1.5){const[a,i,u]=V(),n=m.useRef(void 0),o=m.useCallback(()=>{clearTimeout(n.current),u();const s=t*L,r=s-performance.now()%s;return n.current=setTimeout(i,r),()=>clearTimeout(n.current)},[t,u,i]);return m.useEffect(()=>{if(e){u();return}if(!a)return o()},[e,a,u,o]),a}function z(e){const{document:t,window:a}=h(),[[i,u],n]=j("0"),o=m.useCallback(()=>{const s=e.current;if(!s||!t)return;const r=-(s.getBoundingClientRect().left-t.body.getBoundingClientRect().left),l=r===0?"0":`${r}px`;u!==l&&n(l)},[t,u,e,n]);return m.useEffect(o,[o]),O(a,o),i}const D=({width:e,height:t,inlineSize:a,blockSize:i,maxWidth:u,maxInlineSize:n,borderRadius:o,children:s,colorFrom:r,colorTo:l,noAnimation:y=!1,duration:E,margin:C,getRootRef:_,visibilityDelay:p,...S})=>{const B=v(_),k=!w(y,E),b=z(B),d={width:e,height:t,inlineSize:a,blockSize:i,maxWidth:u,maxInlineSize:n,borderRadius:o,margin:C,[G]:b};return r&&(d["--vkui_internal--skeleton_color_from"]=r),l&&(d["--vkui_internal--skeleton_color_to"]=l),Number.isFinite(E)&&(d["--vkui_internal--skeleton_animation_duration"]=`${E}s`),f.jsx(T,{getRootRef:B,Component:"span",baseClassName:x(A.host,k&&A.disableAnimation,p&&I.visibilityDelay),baseStyle:P(d,q(p)),...S,children:s||f.jsx(f.Fragment,{children:"‌"})})};try{D.displayName="Skeleton",D.__docgenInfo={description:`> Старайтесь минимизировать количество заглушек на экране. Не каждый элемент
> на экране должен заменяться заглушкой.
>
> Текстовые блоки лучше сокращать до трёх строк. Ширина последней строки
> скелета вычисляется, как 75% от ширины текстового блока. Высота скелетона
> автоматически подстраивается под размер шрифта, поэтому идеально
> вписывается в слоты компонентов, которые обычно ожидают текст.`,displayName:"Skeleton",props:{colorFrom:{defaultValue:null,description:"Начальный цвет анимации.",name:"colorFrom",required:!1,type:{name:"string"}},colorTo:{defaultValue:null,description:"Финальный цвет анимации.",name:"colorTo",required:!1,type:{name:"string"}},noAnimation:{defaultValue:{value:"false"},description:"Выключает анимацию, в результате чего показывается только один цвет.",name:"noAnimation",required:!1,type:{name:"boolean"}},duration:{defaultValue:null,description:"Длительность анимации в секундах.",name:"duration",required:!1,type:{name:"number"}},visibilityDelay:{defaultValue:null,description:"Задерживает отрисовку элемента на заданное количество миллисекунд.",name:"visibilityDelay",required:!1,type:{name:"number"}},getRootRef:{defaultValue:null,description:"",name:"getRootRef",required:!1,type:{name:"Ref<HTMLDivElement | HTMLSpanElement>"}}}}}catch{}const H={title:"Feedback/Skeleton",component:D,parameters:R("Skeleton",F,g),tags:["Обратная связь"]},c={};c.parameters={...c.parameters,docs:{...c.parameters?.docs,source:{originalSource:"{}",...c.parameters?.docs?.source}}};const $=["Playground"],Z=Object.freeze(Object.defineProperty({__proto__:null,Playground:c,__namedExportsOrder:$,default:H},Symbol.toStringTag,{value:"Module"}));export{c as P,D as S,Z as a};
