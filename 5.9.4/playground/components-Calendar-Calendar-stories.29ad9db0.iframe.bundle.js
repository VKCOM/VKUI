"use strict";(self.webpackChunk_vkontakte_vkui=self.webpackChunk_vkontakte_vkui||[]).push([[7978],{"../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[13].use[1]!../../node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[13].use[2]!./src/components/Calendar/Calendar.module.css":function(e,a,n){var r=n("../../node_modules/css-loader/dist/runtime/noSourceMaps.js"),t=n.n(r),o=n("../../node_modules/css-loader/dist/runtime/api.js"),l=n.n(o)()(t());l.push([e.id,".Calendar--zTx5x{background:#fff;background:var(--vkui--color_background_modal);border:.5px solid #d7d8d9;border:.5px solid var(--vkui--color_separator_primary);border-radius:8px;box-shadow:0 0 2px rgba(0,0,0,.03),0 2px 2px rgba(0,0,0,.06);box-shadow:var(--vkui--elevation1);box-sizing:border-box;display:flex;flex-direction:column;padding:12px;width:305px}.Calendar__time--CmaHe{border-top:1px solid #d7d8d9;border-top:1px solid var(--vkui--color_separator_primary);margin:12px -12px 0;padding:12px 12px 0}.Calendar__header--X9nkm{margin-bottom:4px}.Calendar--size-s--Ywffx{padding:8px;width:220px}.Calendar--size-s--Ywffx .Calendar__header--X9nkm{margin-bottom:0}",""]),l.locals={Calendar:"Calendar--zTx5x",Calendar__time:"Calendar__time--CmaHe",Calendar__header:"Calendar__header--X9nkm","Calendar--size-s":"Calendar--size-s--Ywffx"},a.Z=l},"../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[13].use[1]!../../node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[13].use[2]!./src/components/CalendarTime/CalendarTime.module.css":function(e,a,n){var r=n("../../node_modules/css-loader/dist/runtime/noSourceMaps.js"),t=n.n(r),o=n("../../node_modules/css-loader/dist/runtime/api.js"),l=n.n(o)()(t());l.push([e.id,".CalendarTime--m0_Km{align-items:center;display:flex}.CalendarTime__picker--UXQ5i{width:77px}.CalendarTime__divider--aqVbQ{color:#000;color:var(--vkui--color_text_primary);font-family:-apple-system,system-ui,Helvetica Neue,Roboto,sans-serif;font-family:var(--vkui--font_family_base);margin-left:6px;margin-right:6px}.CalendarTime__button--wWQWx{margin-left:auto}",""]),l.locals={CalendarTime:"CalendarTime--m0_Km",CalendarTime__picker:"CalendarTime__picker--UXQ5i",CalendarTime__divider:"CalendarTime__divider--aqVbQ",CalendarTime__button:"CalendarTime__button--wWQWx"},a.Z=l},"./src/components/Calendar/Calendar.stories.tsx":function(e,a,n){n.r(a),n.d(a,{Playground:function(){return p}});var r,t,o,l=n("../../node_modules/react/jsx-runtime.js");n("../../node_modules/react/index.js");var s=n("./src/storybook/constants.ts"),i=n("./src/components/Calendar/Calendar.tsx");function d(e){for(var a=1;a<arguments.length;a++){var n=null!=arguments[a]?arguments[a]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(a){!function(e,a,n){a in e?Object.defineProperty(e,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[a]=n}(e,a,n[a])})}return e}function u(e,a){return a=null!=a?a:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):(function(e,a){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);a&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n})(Object(a)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))}),e}var c={title:"Forms/Calendar",component:i.f,parameters:d({},s.tW,s.nB),argTypes:{value:{control:{type:"date"}}}};a.default=c;var p={render:function(e){var a=e.value,n=function(e,a){if(null==e)return{};var n,r,t=function(e,a){if(null==e)return{};var n,r,t={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],a.indexOf(n)>=0||(t[n]=e[n]);return t}(e,a);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],!(a.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(t[n]=e[n])}return t}(e,["value"]),r=a?new Date(a):a;return(0,l.jsx)(i.f,d({value:r},n))}};p.parameters=u(d({},p.parameters),{docs:u(d({},null===(r=p.parameters)||void 0===r?void 0:r.docs),{source:d({originalSource:"{\n  render: ({\n    value,\n    ...args\n  }) => {\n    const parsedValue = value ? new Date(value) : value;\n    return <Calendar value={parsedValue} {...args} />;\n  }\n}"},null===(o=p.parameters)||void 0===o?void 0:null===(t=o.docs)||void 0===t?void 0:t.source)})})},"./src/components/Calendar/Calendar.tsx":function(e,a,n){n.d(a,{f:function(){return H}});var r=n("../../node_modules/react/jsx-runtime.js"),t=n("../../node_modules/react/index.js"),o=n("../../node_modules/@vkontakte/vkjs/lib/es6/index.js"),l=n("./src/hooks/useCalendar.ts"),s=n("./src/lib/calendar.ts"),i=n("./src/lib/date.ts"),d=n("./src/lib/useIsomorphicLayoutEffect.ts"),u=n("./src/lib/warnOnce.ts"),c=n("./src/components/CalendarDays/CalendarDays.tsx"),p=n("./src/components/CalendarHeader/CalendarHeader.tsx"),m=n("./src/lib/adaptivity/constants.ts"),b=n("./src/components/AdaptivityProvider/AdaptivityProvider.tsx"),v=n("./src/components/Button/Button.tsx"),h=n("./src/components/CustomSelect/CustomSelect.tsx"),y=n("../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),f=n.n(y),g=n("../../node_modules/style-loader/dist/runtime/singletonStyleDomAPI.js"),C=n.n(g),x=n("../../node_modules/style-loader/dist/runtime/insertBySelector.js"),_=n.n(x),j=n("../../node_modules/style-loader/dist/runtime/setAttributesWithAttributesAndNonce.js"),O=n.n(j),P=n("../../node_modules/style-loader/dist/runtime/insertStyleElement.js"),A=n.n(P),M=n("../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[13].use[1]!../../node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[13].use[2]!./src/components/CalendarTime/CalendarTime.module.css"),D={attributes:{class:"vkui-style"}};D.setAttributes=O(),D.insert=_().bind(null,"head"),D.domAPI=C(),D.insertStyleElement=A(),f()(M.Z,D);for(var w=M.Z&&M.Z.locals?M.Z.locals:void 0,S=[],k=0;k<24;k+=1)S.push({value:k,label:String(k).padStart(2,"0")});for(var T=[],L=0;L<60;L+=1)T.push({value:L,label:String(L).padStart(2,"0")});var V=function(e){var a=e.value,n=e.doneButtonText,o=void 0===n?"Готово":n,l=e.onChange,s=e.onClose,d=e.changeHoursAriaLabel,u=e.changeMinutesAriaLabel,c=t.useCallback(function(e){return null==l?void 0:l((0,i.Bq)(a,Number(e.target.value)))},[l,a]),p=t.useCallback(function(e){return null==l?void 0:l((0,i.HZ)(a,Number(e.target.value)))},[l,a]);return(0,r.jsxs)("div",{className:w.CalendarTime,children:[(0,r.jsx)("div",{className:w.CalendarTime__picker,children:(0,r.jsx)(b.x,{sizeY:m.n$.COMPACT,children:(0,r.jsx)(h.A,{value:a.getHours(),options:S,onChange:c,forceDropdownPortal:!1,"aria-label":void 0===d?"Изменить час":d})})}),(0,r.jsx)("div",{className:w.CalendarTime__divider,children:":"}),(0,r.jsx)("div",{className:w.CalendarTime__picker,children:(0,r.jsx)(b.x,{sizeY:m.n$.COMPACT,children:(0,r.jsx)(h.A,{value:a.getMinutes(),options:T,onChange:p,forceDropdownPortal:!1,"aria-label":void 0===u?"Изменить минуту":u})})}),(0,r.jsx)("div",{className:w.CalendarTime__button,children:(0,r.jsx)(b.x,{sizeY:m.n$.COMPACT,children:(0,r.jsx)(v.z,{mode:"secondary",onClick:s,size:"l","aria-label":o,children:o})})})]})};try{V.displayName="CalendarTime",V.__docgenInfo={description:"",displayName:"CalendarTime",props:{value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"Date"}},doneButtonText:{defaultValue:{value:"Готово"},description:"",name:"doneButtonText",required:!1,type:{name:"string"}},changeHoursAriaLabel:{defaultValue:{value:"Изменить час"},description:"",name:"changeHoursAriaLabel",required:!1,type:{name:"string"}},changeMinutesAriaLabel:{defaultValue:{value:"Изменить минуту"},description:"",name:"changeMinutesAriaLabel",required:!1,type:{name:"string"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"((value: Date) => void)"}},onClose:{defaultValue:null,description:"",name:"onClose",required:!1,type:{name:"(() => void)"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/CalendarTime/CalendarTime.tsx#CalendarTime"]={docgenInfo:V.__docgenInfo,name:"CalendarTime",path:"src/components/CalendarTime/CalendarTime.tsx#CalendarTime"})}catch(e){}var q=n("./src/components/RootComponent/RootComponent.tsx"),N=n("../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[13].use[1]!../../node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[13].use[2]!./src/components/Calendar/Calendar.module.css"),I={attributes:{class:"vkui-style"}};I.setAttributes=O(),I.insert=_().bind(null,"head"),I.domAPI=C(),I.insertStyleElement=A(),f()(N.Z,I);var E=N.Z&&N.Z.locals?N.Z.locals:void 0;(0,u.O)("Calendar");var H=function(e){var a=e.value,n=e.onChange,u=e.disablePast,m=e.disableFuture,b=e.shouldDisableDate,v=e.onClose,h=e.enableTime,y=e.doneButtonText,f=e.weekStartsOn,g=e.disablePickers,C=e.changeHoursAriaLabel,x=e.changeMinutesAriaLabel,_=e.prevMonthAriaLabel,j=e.nextMonthAriaLabel,O=e.changeMonthAriaLabel,P=e.changeYearAriaLabel,A=e.showNeighboringMonth,M=e.changeDayAriaLabel,D=e.size,w=void 0===D?"m":D,S=e.viewDate,k=e.onHeaderChange,T=e.onNextMonth,L=e.onPrevMonth,N=e.prevMonthIcon,I=e.nextMonthIcon,H=e.prevMonthProps,R=e.nextMonthProps,B=e.dayProps,z=e.listenDayChangesForUpdate,Y=function(e,a){if(null==e)return{};var n,r,t=function(e,a){if(null==e)return{};var n,r,t={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],a.indexOf(n)>=0||(t[n]=e[n]);return t}(e,a);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],!(a.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(t[n]=e[n])}return t}(e,["value","onChange","disablePast","disableFuture","shouldDisableDate","onClose","enableTime","doneButtonText","weekStartsOn","disablePickers","changeHoursAriaLabel","changeMinutesAriaLabel","prevMonthAriaLabel","nextMonthAriaLabel","changeMonthAriaLabel","changeYearAriaLabel","showNeighboringMonth","changeDayAriaLabel","size","viewDate","onHeaderChange","onNextMonth","onPrevMonth","prevMonthIcon","nextMonthIcon","prevMonthProps","nextMonthProps","dayProps","listenDayChangesForUpdate"]),F=(0,l.G)({value:a,disableFuture:m,disablePast:u,shouldDisableDate:b,onHeaderChange:k,onNextMonth:T,onPrevMonth:L}),Z=F.viewDate,K=F.setViewDate,U=F.setPrevMonth,Q=F.setNextMonth,W=F.focusedDay,X=F.setFocusedDay,$=F.isDayFocused,G=F.isDayDisabled,J=F.resetSelectedDay;(0,d.L)(function(){a&&K(a)},[a]);var ee=t.useCallback(function(e){["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"].includes(e.key)&&e.preventDefault();var n=(0,s.it)(null!=W?W:a,e.key);n&&!(0,i.xj)(n,Z)&&K(n),X(n)},[W,X,K,a,Z]),ea=t.useCallback(function(e){null==n||n((0,s.VB)(e,a))},[a,n]),en=t.useCallback(function(e){return!!(a&&(0,i.KC)(e,a))},[a]);return(0,r.jsxs)(q.U,function(e,a){return a=null!=a?a:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):(function(e,a){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);a&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n})(Object(a)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))}),e}(function(e){for(var a=1;a<arguments.length;a++){var n=null!=arguments[a]?arguments[a]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(a){!function(e,a,n){a in e?Object.defineProperty(e,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[a]=n}(e,a,n[a])})}return e}({},Y),{baseClassName:(0,o.AK)(E.Calendar,"s"===w&&E["Calendar--size-s"]),children:[(0,r.jsx)(p.v,{viewDate:S||Z,onChange:K,onNextMonth:Q,onPrevMonth:U,disablePickers:g||"s"===w,className:E.Calendar__header,prevMonthAriaLabel:_,nextMonthAriaLabel:j,changeMonthAriaLabel:O,changeYearAriaLabel:P,prevMonthIcon:N,nextMonthIcon:I,prevMonthProps:H,nextMonthProps:R}),(0,r.jsx)(c.E,{viewDate:S||Z,value:a,weekStartsOn:void 0===f?1:f,isDayFocused:$,tabIndex:0,"aria-label":void 0===M?"Изменить день":M,onKeyDown:ee,onDayChange:ea,isDayActive:en,isDaySelectionStart:s.Dk,isDaySelectionEnd:s.Rw,isDayDisabled:G,onBlur:J,showNeighboringMonth:A,size:w,dayProps:B,listenDayChangesForUpdate:z}),void 0!==h&&h&&a&&"s"!==w&&(0,r.jsx)("div",{className:E.Calendar__time,children:(0,r.jsx)(V,{value:a,onChange:n,onClose:v,doneButtonText:y,changeHoursAriaLabel:C,changeMinutesAriaLabel:x})})]}))};try{H.displayName="Calendar",H.__docgenInfo={description:"",displayName:"Calendar",props:{value:{defaultValue:null,description:"",name:"value",required:!1,type:{name:"Date"}},disablePast:{defaultValue:null,description:"",name:"disablePast",required:!1,type:{name:"boolean"}},disableFuture:{defaultValue:null,description:"",name:"disableFuture",required:!1,type:{name:"boolean"}},enableTime:{defaultValue:{value:"false"},description:"",name:"enableTime",required:!1,type:{name:"boolean"}},disablePickers:{defaultValue:null,description:"",name:"disablePickers",required:!1,type:{name:"boolean"}},doneButtonText:{defaultValue:null,description:"",name:"doneButtonText",required:!1,type:{name:"string"}},changeDayAriaLabel:{defaultValue:{value:"Изменить день"},description:"",name:"changeDayAriaLabel",required:!1,type:{name:"string"}},weekStartsOn:{defaultValue:{value:"1"},description:"",name:"weekStartsOn",required:!1,type:{name:"enum",value:[{value:"0"},{value:"2"},{value:"1"},{value:"3"},{value:"4"},{value:"5"},{value:"6"}]}},showNeighboringMonth:{defaultValue:null,description:"",name:"showNeighboringMonth",required:!1,type:{name:"boolean"}},size:{defaultValue:{value:"m"},description:"",name:"size",required:!1,type:{name:"enum",value:[{value:'"s"'},{value:'"m"'}]}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"((value?: Date) => void)"}},shouldDisableDate:{defaultValue:null,description:"",name:"shouldDisableDate",required:!1,type:{name:"((value: Date) => boolean)"}},onClose:{defaultValue:null,description:"",name:"onClose",required:!1,type:{name:"(() => void)"}},viewDate:{defaultValue:null,description:"Дата отображаемого месяца.\nПри использовании обновление даты должно происходить вне компонента.",name:"viewDate",required:!1,type:{name:"Date"}},onHeaderChange:{defaultValue:null,description:"Изменение даты в шапке календаря.",name:"onHeaderChange",required:!1,type:{name:"((value: Date) => void)"}},getRootRef:{defaultValue:null,description:"",name:"getRootRef",required:!1,type:{name:"Ref<HTMLDivElement>"}},changeHoursAriaLabel:{defaultValue:null,description:"",name:"changeHoursAriaLabel",required:!1,type:{name:"string"}},changeMinutesAriaLabel:{defaultValue:null,description:"",name:"changeMinutesAriaLabel",required:!1,type:{name:"string"}},prevMonthAriaLabel:{defaultValue:null,description:"",name:"prevMonthAriaLabel",required:!1,type:{name:"string"}},nextMonthAriaLabel:{defaultValue:null,description:"",name:"nextMonthAriaLabel",required:!1,type:{name:"string"}},changeMonthAriaLabel:{defaultValue:null,description:"",name:"changeMonthAriaLabel",required:!1,type:{name:"string"}},changeYearAriaLabel:{defaultValue:null,description:"",name:"changeYearAriaLabel",required:!1,type:{name:"string"}},prevMonthIcon:{defaultValue:null,description:"",name:"prevMonthIcon",required:!1,type:{name:"ReactNode"}},nextMonthIcon:{defaultValue:null,description:"",name:"nextMonthIcon",required:!1,type:{name:"ReactNode"}},onNextMonth:{defaultValue:null,description:"Нажатие на кнопку переключения на следующий месяц.",name:"onNextMonth",required:!1,type:{name:"(() => void)"}},onPrevMonth:{defaultValue:null,description:"Нажатие на кнопку переключения на предыдущий месяц.",name:"onPrevMonth",required:!1,type:{name:"(() => void)"}},prevMonthProps:{defaultValue:null,description:"",name:"prevMonthProps",required:!1,type:{name:"ArrowMonthProps"}},nextMonthProps:{defaultValue:null,description:"",name:"nextMonthProps",required:!1,type:{name:"ArrowMonthProps"}},listenDayChangesForUpdate:{defaultValue:null,description:"",name:"listenDayChangesForUpdate",required:!1,type:{name:"boolean"}},dayProps:{defaultValue:null,description:"",name:"dayProps",required:!1,type:{name:"CalendarDayElementProps"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Calendar/Calendar.tsx#Calendar"]={docgenInfo:H.__docgenInfo,name:"Calendar",path:"src/components/Calendar/Calendar.tsx#Calendar"})}catch(e){}}}]);