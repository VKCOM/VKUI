"use strict";(self.webpackChunk_vkontakte_vkui=self.webpackChunk_vkontakte_vkui||[]).push([[1947],{"../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[13].use[1]!../../node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[13].use[2]!./src/components/CustomSelect/CustomSelect.module.css":function(e,t,n){var o=n("../../node_modules/css-loader/dist/runtime/noSourceMaps.js"),r=n.n(o),l=n("../../node_modules/css-loader/dist/runtime/api.js"),u=n.n(l)()(r());u.push([e.id,".CustomSelect--t8BBn{cursor:pointer;display:block;position:relative;width:100%}.CustomSelect--pop-down--YTLW6{border-bottom-left-radius:0;border-bottom-right-radius:0}.CustomSelect--pop-up--wZZnV{border-top-left-radius:0;border-top-right-radius:0}.CustomSelect__control--VcHiM{display:none}.CustomSelect__empty--Vt06J{color:#818c99;color:var(--vkui--color_text_secondary);padding:12px 0;text-align:center}.CustomSelect__fetching--kv01N{align-items:center;display:flex;justify-content:center}.CustomSelect__dropdown-icon--OR19l{margin-right:10px}.CustomSelect--clear-icon--Zu9v8{margin-right:-6px}.CustomSelect--sizeY-compact--_zPzn .CustomSelect__dropdown-icon--OR19l{margin-right:8px}.CustomSelect--sizeY-compact--_zPzn .CustomSelect--clear-icon--Zu9v8{margin-right:-2px}@media (max-height:414.9px),(pointer:fine) and (min-width:768px){.CustomSelect--sizeY-none--ScLah .CustomSelect__dropdown-icon--OR19l{margin-right:8px}.CustomSelect--sizeY-none--ScLah .CustomSelect--clear-icon--Zu9v8{margin-right:-2px}}",""]),u.locals={CustomSelect:"CustomSelect--t8BBn","CustomSelect--pop-down":"CustomSelect--pop-down--YTLW6","CustomSelect--pop-up":"CustomSelect--pop-up--wZZnV",CustomSelect__control:"CustomSelect__control--VcHiM",CustomSelect__empty:"CustomSelect__empty--Vt06J",CustomSelect__fetching:"CustomSelect__fetching--kv01N","CustomSelect__dropdown-icon":"CustomSelect__dropdown-icon--OR19l","CustomSelect--clear-icon":"CustomSelect--clear-icon--Zu9v8","CustomSelect--sizeY-compact":"CustomSelect--sizeY-compact--_zPzn","CustomSelect--sizeY-none":"CustomSelect--sizeY-none--ScLah"},t.Z=u},"../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[13].use[1]!../../node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[13].use[2]!./src/components/CustomSelect/CustomSelectInput.module.css":function(e,t,n){var o=n("../../node_modules/css-loader/dist/runtime/noSourceMaps.js"),r=n.n(o),l=n("../../node_modules/css-loader/dist/runtime/api.js"),u=n.n(l)()(r());u.push([e.id,".CustomSelectInput--DqvHQ{position:relative}.CustomSelectInput__el--YTaQr{-webkit-appearance:none;-moz-appearance:none;appearance:none;background:transparent;border:0;border-radius:inherit;box-shadow:none;box-sizing:border-box;color:#000;color:var(--vkui--color_text_primary);height:44px;height:var(--vkui--size_field_height--regular);left:0;line-height:44px;line-height:var(--vkui--size_field_height--regular);margin:0;padding:0 12px;position:absolute;top:0;width:100%;z-index:1;z-index:var(--vkui_internal--z_index_form_field_element)}.CustomSelectInput__el--cursor-pointer--FGam4{cursor:pointer}.CustomSelectInput--sizeY-compact--pVxPo .CustomSelectInput__el--YTaQr{height:36px;height:var(--vkui--size_field_height--compact)}@media (max-height:414.9px),(pointer:fine) and (min-width:768px){.CustomSelectInput--sizeY-none--CyzRX .CustomSelectInput__el--YTaQr{height:36px;height:var(--vkui--size_field_height--compact)}}.CustomSelectInput--hasBefore--qjWb8 .CustomSelectInput__el--YTaQr{padding-left:0}.CustomSelectInput--hasAfter--uk8Ef .CustomSelectInput__el--YTaQr{padding-right:0}.CustomSelectInput__el--YTaQr:disabled{opacity:.64;opacity:var(--vkui--opacity_disable_accessibility)}.CustomSelectInput__container--KcnLH{box-sizing:border-box;color:#000;color:var(--vkui--color_text_primary);max-height:100%;overflow:hidden;padding-left:12px;padding-right:0;pointer-events:none;width:100%;z-index:1;z-index:var(--vkui_internal--z_index_form_field_element)}.CustomSelectInput--hasBefore--qjWb8 .CustomSelectInput__container--KcnLH{padding-left:0}.CustomSelectInput--multiline--KeUIz .CustomSelectInput__container--KcnLH{padding-bottom:12px;padding-top:12px}.CustomSelectInput--sizeY-compact--pVxPo.CustomSelectInput--multiline--KeUIz .CustomSelectInput__container--KcnLH{padding-bottom:8px;padding-top:8px}@media (max-height:414.9px),(pointer:fine) and (min-width:768px){.CustomSelectInput--sizeY-none--CyzRX.CustomSelectInput--multiline--KeUIz .CustomSelectInput__container--KcnLH{padding-bottom:8px;padding-top:8px}}.CustomSelectInput__input-group--Zdfbs{align-items:center;align-self:stretch;display:flex;flex:1;overflow:hidden;position:relative}.CustomSelectInput--hasBefore--qjWb8 .CustomSelectInput__input-group--Zdfbs{border-radius:0}.CustomSelectInput__title--juUZ7{display:block}.CustomSelectInput--DqvHQ:not(.CustomSelectInput--multiline--KeUIz) .CustomSelectInput__title--juUZ7{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.CustomSelectInput--empty--9UXAt .CustomSelectInput__title--juUZ7{color:#818c99;color:var(--vkui--color_text_secondary)}.CustomSelectInput__el--YTaQr::-webkit-input-placeholder{opacity:0}.CustomSelectInput__el--YTaQr::-moz-placeholder{opacity:0}.CustomSelectInput__el--YTaQr::-ms-input-placeholder{opacity:0}.CustomSelectInput__el--YTaQr::placeholder{opacity:0}.CustomSelectInput--align-right--G0wA4 .CustomSelectInput__el--YTaQr,.CustomSelectInput--align-right--G0wA4 .CustomSelectInput__title--juUZ7{text-align:right}.CustomSelectInput--align-center--wi0Fz .CustomSelectInput__el--YTaQr,.CustomSelectInput--align-center--wi0Fz .CustomSelectInput__title--juUZ7{text-align:center}.vkuiInternalCalendarHeader__picker .CustomSelectInput__container--KcnLH{padding-right:4px}",""]),u.locals={CustomSelectInput:"CustomSelectInput--DqvHQ",CustomSelectInput__el:"CustomSelectInput__el--YTaQr","CustomSelectInput__el--cursor-pointer":"CustomSelectInput__el--cursor-pointer--FGam4","CustomSelectInput--sizeY-compact":"CustomSelectInput--sizeY-compact--pVxPo","CustomSelectInput--sizeY-none":"CustomSelectInput--sizeY-none--CyzRX","CustomSelectInput--hasBefore":"CustomSelectInput--hasBefore--qjWb8","CustomSelectInput--hasAfter":"CustomSelectInput--hasAfter--uk8Ef",CustomSelectInput__container:"CustomSelectInput__container--KcnLH","CustomSelectInput--multiline":"CustomSelectInput--multiline--KeUIz","CustomSelectInput__input-group":"CustomSelectInput__input-group--Zdfbs",CustomSelectInput__title:"CustomSelectInput__title--juUZ7","CustomSelectInput--empty":"CustomSelectInput--empty--9UXAt","CustomSelectInput--align-right":"CustomSelectInput--align-right--G0wA4","CustomSelectInput--align-center":"CustomSelectInput--align-center--wi0Fz"},t.Z=u},"./src/components/CustomSelect/CustomSelect.tsx":function(e,t,n){n.d(t,{A:function(){return el}});var o=n("../../node_modules/react/jsx-runtime.js"),r=n("../../node_modules/react/index.js"),l=n("../../node_modules/@vkontakte/vkjs/lib/es6/index.js"),u=n("./src/hooks/useAdaptivity.ts"),a=n("./src/hooks/useExternRef.ts"),i=n("./src/hooks/useFocusWithin.ts"),c=n("./src/hooks/useId.ts"),s=n("./src/lib/adaptivity/constants.ts"),p=n("./src/lib/dom.tsx"),d=n("./src/lib/select.ts"),m=n("./src/lib/useIsomorphicLayoutEffect.ts"),f=n("./src/lib/utils.ts"),y=n("./src/lib/warnOnce.ts"),b=n("./src/components/CustomSelectDropdown/CustomSelectDropdown.tsx"),v=n("./src/components/CustomSelectOption/CustomSelectOption.tsx"),S=n("./src/components/DropdownIcon/DropdownIcon.tsx"),g=n("./src/components/Typography/Footnote/Footnote.tsx"),C=n("./src/components/VisuallyHidden/VisuallyHidden.tsx"),h=n("../../node_modules/@vkontakte/icons/dist/es6/16/cancel_16.js"),_=n("./src/components/IconButton/IconButton.tsx"),O=function(e){var t=e.className,n=e.onClick,r=function(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n,o,r={},l=Object.keys(e);for(o=0;o<l.length;o++)n=l[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(o=0;o<l.length;o++)n=l[o],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(e,["className","onClick"]);return(0,o.jsx)(_.h,function(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),o.forEach(function(t){!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(e,t,n[t])})}return e}({Component:"button","aria-label":"Очистить поле",onKeyDown:f.UW,type:"button",activeMode:"opacity",hoverMode:"opacity"},r),{className:t,onClick:function(e){(0,f.UW)(e),e.preventDefault(),n()},children:(0,o.jsx)(h.Q,{})}))};try{O.displayName="CustomSelectClearButton",O.__docgenInfo={description:"",displayName:"CustomSelectClearButton",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},onClick:{defaultValue:null,description:"",name:"onClick",required:!0,type:{name:"() => void"}},disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/CustomSelect/CustomSelectClearButton.tsx#CustomSelectClearButton"]={docgenInfo:O.__docgenInfo,name:"CustomSelectClearButton",path:"src/components/CustomSelect/CustomSelectClearButton.tsx#CustomSelectClearButton"})}catch(e){}var I=n("./src/hooks/usePlatform.ts"),x=n("./src/components/FormField/FormField.tsx"),j=n("./src/components/SelectTypography/SelectTypography.tsx"),Text=n("./src/components/Typography/Text/Text.tsx"),w=n("../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),T=n.n(w),k=n("../../node_modules/style-loader/dist/runtime/singletonStyleDomAPI.js"),R=n.n(k),P=n("../../node_modules/style-loader/dist/runtime/insertBySelector.js"),D=n.n(P),V=n("../../node_modules/style-loader/dist/runtime/setAttributesWithAttributesAndNonce.js"),E=n.n(V),A=n("../../node_modules/style-loader/dist/runtime/insertStyleElement.js"),q=n.n(A),z=n("../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[13].use[1]!../../node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[13].use[2]!./src/components/CustomSelect/CustomSelectInput.module.css"),B={attributes:{class:"vkui-style"}};B.setAttributes=E(),B.insert=D().bind(null,"head"),B.domAPI=R(),B.insertStyleElement=q(),T()(z.Z,B);var Y=z.Z&&z.Z.locals?z.Z.locals:void 0;function N(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var H=N({none:Y["CustomSelectInput--sizeY-none"]},s.n$.COMPACT,Y["CustomSelectInput--sizeY-compact"]),M=function(e){var t=e.align,n=void 0===t?"left":t,r=e.getRef,c=e.className,p=e.getRootRef,m=e.style,f=e.before,y=e.after,b=e.status,v=e.children,S=e.placeholder,g=e.selectType,h=void 0===g?"default":g,_=e.multiline,O=e.disabled,w=e.fetching,T=e.labelTextTestId,k=function(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n,o,r={},l=Object.keys(e);for(o=0;o<l.length;o++)n=l[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(o=0;o<l.length;o++)n=l[o],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(e,["align","getRef","className","getRootRef","style","before","after","status","children","placeholder","selectType","multiline","disabled","fetching","labelTextTestId"]),R=(0,u.g)().sizeY,P=void 0===R?"none":R,D=v||S,V=!k.value,E=(0,a.Q)(p),A=(0,i.L)(E),q=(0,o.jsx)(Text.x,function(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),o.forEach(function(t){N(e,t,n[t])})}return e}({type:"text"},k),{disabled:O&&!w,readOnly:k.readOnly||O&&w,Component:"input",normalize:!1,className:(0,l.AK)(Y.CustomSelectInput__el,(k.readOnly||V&&!A)&&Y["CustomSelectInput__el--cursor-pointer"]),getRootRef:r,placeholder:v?"":S})),z=(0,I.F)();return(0,o.jsx)(x.W,{Component:"div",style:m,className:(0,l.AK)(Y.CustomSelectInput,"right"===n&&Y["CustomSelectInput--align-right"],"center"===n&&Y["CustomSelectInput--align-center"],!v&&Y["CustomSelectInput--empty"],_&&Y["CustomSelectInput--multiline"],P!==s.n$.REGULAR&&H[P],f&&Y["CustomSelectInput--hasBefore"],y&&Y["CustomSelectInput--hasAfter"],c),getRootRef:E,before:f,after:y,disabled:O,mode:(0,d.e)(h),status:b,children:(0,o.jsxs)("div",{className:Y["CustomSelectInput__input-group"],children:[(0,o.jsx)("div",{className:(0,l.AK)(Y.CustomSelectInput__container,c),tabIndex:-1,"aria-hidden":!0,"data-testid":T,children:(0,o.jsx)(j.S,{selectType:h,className:Y.CustomSelectInput__title,children:V&&D})}),k.readOnly&&"ios"===z?(0,o.jsx)(C.T,{children:q}):q]})})};try{M.displayName="CustomSelectInput",M.__docgenInfo={description:"",displayName:"CustomSelectInput",props:{selectType:{defaultValue:{value:"default"},description:"",name:"selectType",required:!1,type:{name:"enum",value:[{value:'"default"'},{value:'"accent"'},{value:'"plain"'}]}},multiline:{defaultValue:null,description:"",name:"multiline",required:!1,type:{name:"boolean"}},labelTextTestId:{defaultValue:null,description:"",name:"labelTextTestId",required:!1,type:{name:"string"}},fetching:{defaultValue:null,description:"",name:"fetching",required:!1,type:{name:"boolean"}},getRef:{defaultValue:null,description:"",name:"getRef",required:!1,type:{name:"Ref<HTMLInputElement>"}},getRootRef:{defaultValue:null,description:"",name:"getRootRef",required:!1,type:{name:"Ref<HTMLDivElement>"}},align:{defaultValue:{value:"left"},description:"",name:"align",required:!1,type:{name:"enum",value:[{value:'"center"'},{value:'"left"'},{value:'"right"'}]}},status:{defaultValue:null,description:"",name:"status",required:!1,type:{name:"enum",value:[{value:'"default"'},{value:'"error"'},{value:'"valid"'}]}},before:{defaultValue:null,description:"Добавляет иконку слева.\n\nРекомендации:\n\n- Используйте следующие размеры иконок `12` | `16` | `20` | `24` | `28`.\n- Используйте [IconButton](https://vkcom.github.io/VKUI/#/IconButton), если вам нужна кликабельная иконка.",name:"before",required:!1,type:{name:"ReactNode"}},after:{defaultValue:null,description:"Добавляет иконку справа.\n\nРекомендации:\n\n- Используйте следующие размеры иконок `12` | `16` | `20` | `24` | `28`.\n- Используйте [IconButton](https://vkcom.github.io/VKUI/#/IconButton), если вам нужна кликабельная иконка.",name:"after",required:!1,type:{name:"ReactNode"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/CustomSelect/CustomSelectInput.tsx#CustomSelectInput"]={docgenInfo:M.__docgenInfo,name:"CustomSelectInput",path:"src/components/CustomSelect/CustomSelectInput.tsx#CustomSelectInput"})}catch(e){}var K=n("../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[13].use[1]!../../node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[13].use[2]!./src/components/CustomSelect/CustomSelect.module.css"),L={attributes:{class:"vkui-style"}};L.setAttributes=E(),L.insert=D().bind(null,"head"),L.domAPI=R(),L.insertStyleElement=q(),T()(K.Z,L);var U=K.Z&&K.Z.locals?K.Z.locals:void 0;function F(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=Array(t);n<t;n++)o[n]=e[n];return o}function Z(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),o.forEach(function(t){Z(e,t,n[t])})}return e}function W(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n,o,r={},l=Object.keys(e);for(o=0;o<l.length;o++)n=l[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(o=0;o<l.length;o++)n=l[o],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function G(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n,o,r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var l=[],u=!0,a=!1;try{for(r=r.call(e);!(u=(n=r.next()).done)&&(l.push(n.value),!t||l.length!==t);u=!0);}catch(e){a=!0,o=e}finally{try{u||null==r.return||r.return()}finally{if(a)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return F(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return F(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var X=Z({none:U["CustomSelect--sizeY-none"]},s.n$.COMPACT,U["CustomSelect--sizeY-compact"]),$=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;return t>=e.length-1?-1:e.findIndex(function(e,n){return n>t&&!e.disabled})},J=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.length,n=-1;if(t<=0)return n;for(var o=t-1;o>=0;o--)if(!e[o].disabled){n=o;break}return n};function ee(e){e.option;var t=W(e,["option"]);return(0,o.jsx)(v.x,Q({},t))}(0,y.O)("CustomSelect");var et=function(e){e.preventDefault()};function en(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1?arguments[1]:void 0,o=arguments.length>2?arguments[2]:void 0;return o&&""===n?-1:null!==(e=t.findIndex(function(e){return n="number"==typeof e.value?Number(n):n,e.value===n}))&&void 0!==e?e:-1}var eo=function(e,t,n){return"function"==typeof n?e.filter(function(e){return n(t,e)}):e},er=[];function el(e){var t,n,y=G(r.useState(!1),2),v=y[0],h=y[1],_=e.before,I=e.name,x=e.className,j=e.getRef,w=e.getRootRef,T=e.popupDirection,k=e.style,R=e.onChange,P=(e.children,e.onInputChange),D=e.renderDropdown,V=e.onOpen,E=e.onClose,A=e.fetching,q=e.forceDropdownPortal,z=e.selectType,B=e.autoHideScrollbar,Y=e.autoHideScrollbarDelay,N=e.searchable,H=void 0!==N&&N,K=e.renderOption,L=void 0===K?ee:K,F=e.options,el=void 0===F?er:F,eu=e.emptyText,ea=void 0===eu?"Ничего не найдено":eu,ei=e.filterFn,ec=void 0===ei?d.B:ei,es=e.icon,ep=e.ClearButton,ed=void 0===ep?O:ep,em=e.allowClearButton,ef=void 0!==em&&em,ey=e.dropdownOffsetDistance,eb=void 0===ey?0:ey,ev=e.fixDropdownWidth,eS=e.noMaxHeight,eg=e["aria-labelledby"],eC=e.clearButtonTestId,eh=e.nativeSelectTestId,e_=e.defaultValue,eO=e.required,eI=W(e,["before","name","className","getRef","getRootRef","popupDirection","style","onChange","children","onInputChange","renderDropdown","onOpen","onClose","fetching","forceDropdownPortal","selectType","autoHideScrollbar","autoHideScrollbarDelay","searchable","renderOption","options","emptyText","filterFn","icon","ClearButton","allowClearButton","dropdownOffsetDistance","fixDropdownWidth","noMaxHeight","aria-labelledby","clearButtonTestId","nativeSelectTestId","defaultValue","required"]),ex=(0,u.g)().sizeY,ej=void 0===ex?"none":ex,ew=r.useRef(null),eT=(0,a.Q)(ew,w),ek=r.useRef(null),eR=(0,a.Q)(j),eP=G(r.useState(-1),2),eD=eP[0],eV=eP[1],eE=G(r.useState(void 0!==e.value),2),eA=eE[0],eq=eE[1],ez=G(r.useState(""),2),eB=ez[0],eY=ez[1],eN=G(r.useState(function(){var t,n;return null!==(n=null!==(t=e.value)&&void 0!==t?t:e_)&&void 0!==n?n:ef?"":void 0}),2),eH=eN[0],eM=eN[1],eK=G(r.useState(void 0),2),eL=eK[0],eU=eK[1],eF=G(r.useState(el),2),eZ=eF[0],eQ=eF[1],eW=G(r.useState(en(el,null!==(t=e.value)&&void 0!==t?t:e_,ef)),2),eG=eW[0],eX=eW[1];r.useEffect(function(){eq(void 0!==e.value),eM(function(t){var n;return null!==(n=e.value)&&void 0!==n?n:t})},[e.value]),(0,m.L)(function(){if(eZ.some(function(e){return eH===e.value})||ef&&""===eH){var e,t=new Event("change",{bubbles:!0});null===(e=eR.current)||void 0===e||e.dispatchEvent(t)}},[eH]);var e$=r.useMemo(function(){return eZ.length?void 0!==eG?eZ[eG]:void 0:null},[eZ,eG]),eJ=r.useMemo(function(){return v&&0===eb&&((null==eL?void 0:eL.includes("top"))?U["CustomSelect--pop-up"]:U["CustomSelect--pop-down"])||void 0},[eb,v,eL]),e0=r.useCallback(function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=ek.current,o=n?n.children[e]:null;if(o&&n){var r=n.offsetHeight,l=n.scrollTop,u=o.offsetTop,a=o.offsetHeight;t?n.scrollTop=u-r/2+a/2:u+a>r+l?n.scrollTop=u-r+a:u<l&&(n.scrollTop=u)}},[]),e1=r.useCallback(function(e){var t,n=!(arguments.length>1)||void 0===arguments[1]||arguments[1];if(void 0!==e&&!(e<0)&&!(e>(null!==(t=eZ.length)&&void 0!==t?t:0)-1)){var o=eZ[e];null!=o&&o.disabled||(n&&e0(e),eV(function(t){return t!==e?e:t}))}},[eZ,e0]),e2=r.useCallback(function(e){var t;return e>=0&&e<(null!==(t=eZ.length)&&void 0!==t?t:0)},[eZ.length]),e8=r.useCallback(function(e){ek.current=e,e&&void 0!==eG&&e2(eG)&&e0(eG,!0)},[e2,e0,eG]),e4=G(r.useState(""),2),e6=e4[0],e9=e4[1],e3=r.useCallback(function(){e9("")},[]),e7=r.useCallback(function(){eV(-1)},[]),e5=r.useCallback(function(e){v||h(!0),e7(),e9(e6+e)},[e6,v,e7]),te=r.useCallback(function(){e3(),eY(""),h(!1),e7(),null==E||E()},[E,e3,e7]),tt=r.useCallback(function(t){var n=eZ[t];if(eM(null==n?void 0:n.value),te(),eA&&e.value!==eH&&eH===(null==n?void 0:n.value)){var o,r=new Event("change",{bubbles:!0});null===(o=eR.current)||void 0===o||o.dispatchEvent(r)}},[te,eZ,eR,eA,e.value,eH]),tn=r.useCallback(function(){void 0!==eD&&e2(eD)&&tt(eD)},[eD,e2,tt]),to=r.useCallback(function(){h(!0),eV(eG),"function"==typeof V&&V()},[V,eG]),tr=r.useCallback(function(){te();var e,t=new Event("focusout",{bubbles:!0});null===(e=eR.current)||void 0===e||e.dispatchEvent(t)},[te,eR]),tl=r.useCallback(function(){var e,t=new Event("focusin",{bubbles:!0});null===(e=eR.current)||void 0===e||e.dispatchEvent(t)},[eR]),tu=r.useCallback(function(){v?te():to()},[te,to,v]),ta=r.useMemo(function(){return(0,f.Ds)(e3,1e3)},[e3]),ti=r.useCallback(function(e){var t=eD;if("next"===e){var n=$(eZ,t);t=-1===n?$(eZ):n}else if("prev"===e){var o=J(eZ,t);t=-1===o?J(eZ):o}e1(t)},[e1,eD,eZ]);r.useEffect(function(){var t,n,o=null!==(n=null!==(t=e.value)&&void 0!==t?t:eH)&&void 0!==n?n:e_,r=H&&void 0!==eB?eo(el,eB,ec):el;eQ(r),eX(en(r,o,ef))},[ec,eB,eH,el,e_,e.value,H,ef]);var tc=r.useCallback(function(e){if(P){var t=P(e,el);t&&(eQ(t),eX(en(t,eH,ef)))}else{var n=eo(el,e.target.value,ec);eQ(n),eX(en(n,eH,ef))}eY(e.target.value)},[ec,eH,P,el,ef]),ts=r.useCallback(function(){return null!==ek.current},[]),tp=r.useCallback(function(e){if(1===e.key.length&&" "!==e.key){e5(e.key);return}switch(["ArrowUp","ArrowDown","Escape","Enter"].includes(e.key)&&ts()&&e.preventDefault(),e.key){case"ArrowUp":v?ts()&&ti("prev"):to();break;case"ArrowDown":v?ts()&&ti("next"):to();break;case"Escape":te();break;case"Backspace":case"Delete":v||h(!0),e7();break;case"Enter":case"Spacebar":case" ":v?ts()&&tn():to()}},[ts,te,ti,e5,to,v,tn,e7]),td=r.useCallback(function(e){var t,n=Array.prototype.indexOf.call(null===(t=e.currentTarget.parentNode)||void 0===t?void 0:t.children,e.currentTarget),o=eZ[n];o&&!o.disabled&&tt(n)},[eZ,tt]),tm=r.useRef({x:0,y:0}),tf=r.useCallback(function(e){var t;(Math.abs(tm.current.x-e.clientX)>=1||Math.abs(tm.current.y-e.clientY)>=1)&&e1(Array.prototype.indexOf.call(null===(t=e.currentTarget.parentNode)||void 0===t?void 0:t.children,e.currentTarget),!1),tm.current={x:e.clientX,y:e.clientY}},[e1]),ty=(0,c.M)(),tb=r.useCallback(function(e,t){var n=t===eD,l=t===eG;return(0,o.jsx)(r.Fragment,{children:L({option:e,hovered:n,children:e.label,selected:l,disabled:e.disabled,onClick:td,onMouseDown:et,onMouseMove:tf,id:"".concat(ty,"-").concat(e.value)})},"".concat(e.value))},[eD,td,tf,L,eG,ty]),tv=r.useMemo(function(){var e=(null==eZ?void 0:eZ.length)>0?eZ.map(tb):(0,o.jsx)(g.w,{className:U.CustomSelect__empty,children:ea});return"function"==typeof D?D({defaultDropdownContent:e}):e},[ea,eZ,D,tb]),tS=r.useRef(null),tg=r.useRef(),tC=r.useCallback(function(){clearTimeout(tg.current),tg.current=setTimeout(function(){tS.current&&tS.current.focus()},0)},[]);(0,m.L)(function(){return function(){clearTimeout(tg.current)}},[]);var th=eA&&""!==e.value,t_=!eA&&""!==eH,tO=ef&&!v&&(th||t_),tI=r.useMemo(function(){return tO?(0,o.jsx)(ed,{className:void 0===es?U["CustomSelect--clear-icon"]:void 0,onClick:function(){eM(""),eY(""),tC()},disabled:eI.disabled,"data-testid":eC}):null},[tO,ed,es,eI.disabled,eC,tC]),tx=r.useMemo(function(){return void 0!==es?es:(0,o.jsx)(S.K,{className:tO?U["CustomSelect__dropdown-icon"]:void 0,opened:v})},[tO,es,v]),tj=(tx||tO)&&(0,o.jsxs)(r.Fragment,{children:[tI,tx]}),tw=(0,p.NG)().document,tT=r.useCallback(function(e){tS.current&&tw&&e.target!==tS.current&&(tS.current.click(),tw.activeElement!==tS.current&&tC())},[tw,tC]),tk=-1!==eD?eD:void 0,tR=void 0!==tk?eZ[tk]&&eZ[tk].value:null,tP=(Z(n={role:"combobox","aria-controls":ty,"aria-owns":ty,"aria-expanded":v},"aria-activedescendant",tR&&v?"".concat(ty,"-").concat(tR):void 0),Z(n,"aria-labelledby",eg),Z(n,"aria-haspopup","listbox"),Z(n,"aria-autocomplete","none"),n),tD=(0,i.L)(eT);return(0,o.jsxs)("div",{className:(0,l.AK)(U.CustomSelect,ej!==s.n$.REGULAR&&X[ej],x),style:k,ref:eT,onClick:tT,onMouseDown:function(e){tw&&tw.activeElement===tS.current&&e.preventDefault()},children:[tD&&e$&&!v&&(0,o.jsx)(C.T,{"aria-live":"polite",children:e$.label}),(0,o.jsx)(M,function(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}(Q({autoComplete:"off",autoCapitalize:"none",autoCorrect:"off",spellCheck:"false"},eI,tP),{getRef:tS,onFocus:tl,onBlur:tr,className:eJ,readOnly:!H,fetching:A,value:eB,onKeyUp:ta,onKeyDown:tp,onChange:tc,onClick:tu,before:_,after:tj,selectType:void 0===z?"default":z,children:null==e$?void 0:e$.label})),(0,o.jsxs)("select",{ref:eR,name:I,onChange:function(e){var t=en(eZ,e.currentTarget.value,ef);eG!==t&&(eA||eX(t),null==R||R(e))},onBlur:e.onBlur,onFocus:e.onFocus,onClick:e.onClick,value:eH,"aria-hidden":!0,className:U.CustomSelect__control,"data-testid":eh,required:eO,children:[ef&&(0,o.jsx)("option",{value:""},""),el.map(function(e){return(0,o.jsx)("option",{value:e.value},"".concat(e.value))})]}),v&&(0,o.jsx)(b.U,{targetRef:ew,placement:T,scrollBoxRef:e8,onPlacementChange:eU,onMouseLeave:e7,fetching:A,offsetDistance:eb,sameWidth:void 0===ev||ev,forcePortal:q,autoHideScrollbar:B,autoHideScrollbarDelay:Y,noMaxHeight:void 0!==eS&&eS,role:"listbox",id:ty,"aria-labelledby":eg,tabIndex:-1,children:tv})]})}try{el.displayName="CustomSelect",el.__docgenInfo={description:"",displayName:"CustomSelect",props:{searchable:{defaultValue:null,description:"Если `true`, то при клике на `CustomSelect` в нём появится текстовое поле для поиска по `options`. По умолчанию поиск\nпроизводится по `option.label`.",name:"searchable",required:!1,type:{name:"boolean"}},emptyText:{defaultValue:null,description:"Текст, который будет отображен, если приходит пустой `options`.",name:"emptyText",required:!1,type:{name:"string"}},onInputChange:{defaultValue:null,description:"> ⚠️ В **v6** из возвращаемых типов будет удалён `CustomSelectOptionInterface[]`. Для кастомной фильтрации используйте\n> `filterFn`.",name:"onInputChange",required:!1,type:{name:"((e: ChangeEvent<Element>, options: OptionInterfaceT[]) => void | OptionInterfaceT[])"}},options:{defaultValue:null,description:"",name:"options",required:!0,type:{name:"OptionInterfaceT[]"}},filterFn:{defaultValue:null,description:"Функция для кастомной фильтрации. По умолчанию поиск производится по `option.label`.",name:"filterFn",required:!1,type:{name:"false | FilterFn<OptionInterfaceT>"}},popupDirection:{defaultValue:null,description:"",name:"popupDirection",required:!1,type:{name:"enum",value:[{value:'"top"'},{value:'"bottom"'}]}},renderOption:{defaultValue:null,description:"Рендер-проп для кастомного рендера опции.\nВ объекте аргумента приходят [свойства опции](https://vkcom.github.io/VKUI/#/CustomSelectOption?id=props)\n\n> ⚠️  Важно: cвойство опции `disabled` должно выставляться только через проп `options`.\n> Запрещается выставлять `disabled` проп опциям в обход `options`, иначе `CustomSelect` не будет знать об актуальном состоянии\nопции.",name:"renderOption",required:!1,type:{name:"((props: CustomSelectRenderOption<OptionInterfaceT>) => ReactNode)"}},renderDropdown:{defaultValue:null,description:"Рендер-проп для кастомного рендера содержимого дропдауна.\nВ `defaultDropdownContent` содержится список опций в виде скроллящегося блока.",name:"renderDropdown",required:!1,type:{name:"(({ defaultDropdownContent, }: { defaultDropdownContent: ReactNode; }) => ReactNode)"}},fetching:{defaultValue:null,description:'Если `true`, то в дропдауне вместо списка опций рисуется спиннер. При переданных `renderDropdown` и `fetching: true`\n"победит" `renderDropdown`.',name:"fetching",required:!1,type:{name:"boolean"}},onClose:{defaultValue:null,description:"",name:"onClose",required:!1,type:{name:"VoidFunction"}},onOpen:{defaultValue:null,description:"",name:"onOpen",required:!1,type:{name:"VoidFunction"}},icon:{defaultValue:null,description:"Иконка раскрывающегося списка",name:"icon",required:!1,type:{name:"ReactNode"}},ClearButton:{defaultValue:null,description:"Кастомная кнопка для очистки значения.\nДолжна принимать обязательное свойство `onClick`",name:"ClearButton",required:!1,type:{name:"ComponentType<CustomSelectClearButtonProps>"}},allowClearButton:{defaultValue:null,description:"Если `true`, то справа будет отображаться кнопка для очистки значения",name:"allowClearButton",required:!1,type:{name:"boolean"}},clearButtonTestId:{defaultValue:null,description:"(e2e) testId кнопки очистки",name:"clearButtonTestId",required:!1,type:{name:"string"}},dropdownOffsetDistance:{defaultValue:null,description:"",name:"dropdownOffsetDistance",required:!1,type:{name:"number"}},fixDropdownWidth:{defaultValue:null,description:"",name:"fixDropdownWidth",required:!1,type:{name:"boolean"}},forceDropdownPortal:{defaultValue:null,description:"",name:"forceDropdownPortal",required:!1,type:{name:"boolean"}},selectType:{defaultValue:null,description:"",name:"selectType",required:!1,type:{name:"enum",value:[{value:'"default"'},{value:'"accent"'},{value:'"plain"'}]}},noMaxHeight:{defaultValue:null,description:"Отключает максимальную высоту по умолчанию",name:"noMaxHeight",required:!1,type:{name:"boolean"}},labelTextTestId:{defaultValue:null,description:"(e2e) testId элемента, внутри которого отображается текст выбранной опции `CustomSelect` или плейсхолдер.",name:"labelTextTestId",required:!1,type:{name:"string"}},nativeSelectTestId:{defaultValue:null,description:"",name:"nativeSelectTestId",required:!1,type:{name:"string"}},placeholder:{defaultValue:null,description:"",name:"placeholder",required:!1,type:{name:"string"}},multiline:{defaultValue:null,description:"",name:"multiline",required:!1,type:{name:"boolean"}},getRef:{defaultValue:null,description:"",name:"getRef",required:!1,type:{name:"Ref<HTMLSelectElement>"}},getRootRef:{defaultValue:null,description:"",name:"getRootRef",required:!1,type:{name:"Ref<HTMLDivElement>"}},align:{defaultValue:null,description:"",name:"align",required:!1,type:{name:"enum",value:[{value:'"center"'},{value:'"left"'},{value:'"right"'}]}},status:{defaultValue:null,description:"",name:"status",required:!1,type:{name:"enum",value:[{value:'"default"'},{value:'"error"'},{value:'"valid"'}]}},before:{defaultValue:null,description:"Добавляет иконку слева.\n\nРекомендации:\n\n- Используйте следующие размеры иконок `12` | `16` | `20` | `24` | `28`.\n- Используйте [IconButton](https://vkcom.github.io/VKUI/#/IconButton), если вам нужна кликабельная иконка.",name:"before",required:!1,type:{name:"ReactNode"}},after:{defaultValue:null,description:"Добавляет иконку справа.\n\nРекомендации:\n\n- Используйте следующие размеры иконок `12` | `16` | `20` | `24` | `28`.\n- Используйте [IconButton](https://vkcom.github.io/VKUI/#/IconButton), если вам нужна кликабельная иконка.",name:"after",required:!1,type:{name:"ReactNode"}},mode:{defaultValue:null,description:"",name:"mode",required:!1,type:{name:"enum",value:[{value:'"default"'},{value:'"plain"'}]}},autoHideScrollbar:{defaultValue:null,description:"Скрывать ли ползунок скроллбара",name:"autoHideScrollbar",required:!1,type:{name:"boolean"}},autoHideScrollbarDelay:{defaultValue:null,description:"Через какое кол-во миллисекунд ползунок скроллбара скрывается",name:"autoHideScrollbarDelay",required:!1,type:{name:"number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/CustomSelect/CustomSelect.tsx#CustomSelect"]={docgenInfo:el.__docgenInfo,name:"CustomSelect",path:"src/components/CustomSelect/CustomSelect.tsx#CustomSelect"})}catch(e){}},"./src/components/SelectTypography/SelectTypography.tsx":function(e,t,n){n.d(t,{S:function(){return l}});var o=n("../../node_modules/react/jsx-runtime.js");n("../../node_modules/react/index.js");var r=n("./src/components/Typography/Text/Text.tsx"),l=function(e){var t=e.selectType,n=e.children,l=function(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n,o,r={},l=Object.keys(e);for(o=0;o<l.length;o++)n=l[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(o=0;o<l.length;o++)n=l[o],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(e,["selectType","children"]);return(0,o.jsx)(r.x,function(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),o.forEach(function(t){!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(e,t,n[t])})}return e}({weight:"accent"===(void 0===t?"default":t)?"2":"3"},l),{children:n}))};try{l.displayName="SelectTypography",l.__docgenInfo={description:"",displayName:"SelectTypography",props:{selectType:{defaultValue:{value:"default"},description:"",name:"selectType",required:!1,type:{name:"enum",value:[{value:'"default"'},{value:'"accent"'},{value:'"plain"'}]}},getRootRef:{defaultValue:null,description:"",name:"getRootRef",required:!1,type:{name:"Ref<HTMLSpanElement>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/SelectTypography/SelectTypography.tsx#SelectTypography"]={docgenInfo:l.__docgenInfo,name:"SelectTypography",path:"src/components/SelectTypography/SelectTypography.tsx#SelectTypography"})}catch(e){}},"./src/hooks/useId.ts":function(e,t,n){n.d(t,{M:function(){return i}});var o,r=n("../../node_modules/react/index.js");function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=Array(t);n<t;n++)o[n]=e[n];return o}var u=(o||(o=n.t(r,2)))["useId".toString()],a=0,i=null!=u?u:function(){var e=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n,o,r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var l=[],u=!0,a=!1;try{for(r=r.call(e);!(u=(n=r.next()).done)&&(l.push(n.value),!t||l.length!==t);u=!0);}catch(e){a=!0,o=e}finally{try{u||null==r.return||r.return()}finally{if(a)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(r.useState(function(){return a++}),1)[0];return":r".concat(e,":")}}}]);