"use strict";(self.webpackChunk_vkontakte_vkui=self.webpackChunk_vkontakte_vkui||[]).push([[3005],{"./src/components/FocusTrap/FocusTrap.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{s:()=>FocusTrap});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/react/jsx-runtime.js"),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/react/index.js"),_hooks_useExternRef__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/hooks/useExternRef.ts"),_lib_accessibility__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/lib/accessibility.ts"),_lib_dom__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./src/lib/dom.tsx"),_lib_dom__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("../../node_modules/@vkontakte/vkui-floating-ui/utils/dom/floating-ui.utils.dom.esm.js"),_lib_useIsomorphicLayoutEffect__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/lib/useIsomorphicLayoutEffect.ts"),_AppRoot_AppRootContext__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/components/AppRoot/AppRootContext.ts");function _define_property(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _object_spread_props(target,source){return source=null!=source?source:{},Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))})),target}function _object_without_properties(source,excluded){if(null==source)return{};var key,i,target=function _object_without_properties_loose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}var FOCUSABLE_ELEMENTS=_lib_accessibility__WEBPACK_IMPORTED_MODULE_2__.C5.join(),FocusTrap=function(_param){var _param_Component=_param.Component,Component=void 0===_param_Component?"div":_param_Component,onClose=_param.onClose,_param_autoFocus=_param.autoFocus,autoFocus=void 0===_param_autoFocus||_param_autoFocus,_param_restoreFocus=_param.restoreFocus,restoreFocus=void 0===_param_restoreFocus||_param_restoreFocus,_param_timeout=_param.timeout,timeout=void 0===_param_timeout?0:_param_timeout,getRootRef=_param.getRootRef,children=_param.children,restProps=_object_without_properties(_param,["Component","onClose","autoFocus","restoreFocus","timeout","getRootRef","children"]),ref=(0,_hooks_useExternRef__WEBPACK_IMPORTED_MODULE_3__.Z)(getRootRef),keyboardInput=react__WEBPACK_IMPORTED_MODULE_1__.useContext(_AppRoot_AppRootContext__WEBPACK_IMPORTED_MODULE_4__.R).keyboardInput,focusableNodesRef=react__WEBPACK_IMPORTED_MODULE_1__.useRef([]);return(0,_lib_useIsomorphicLayoutEffect__WEBPACK_IMPORTED_MODULE_5__.E)((function collectFocusableNodesRef(){if(ref.current){var nodes=[];ref.current.querySelectorAll(FOCUSABLE_ELEMENTS).forEach((function(focusableEl){var _getComputedStyle=getComputedStyle(focusableEl),display=_getComputedStyle.display,visibility=_getComputedStyle.visibility;"none"!==display&&"hidden"!==visibility&&nodes.push(focusableEl)})),0===nodes.length&&nodes.push(ref.current),focusableNodesRef.current=nodes}}),[children]),(0,_lib_useIsomorphicLayoutEffect__WEBPACK_IMPORTED_MODULE_5__.E)((function tryToAutoFocusToFirstNode(){if(ref.current&&autoFocus&&keyboardInput){var timeoutId=setTimeout((function(){if(ref.current&&focusableNodesRef.current.length){var activeElement=(0,_lib_dom__WEBPACK_IMPORTED_MODULE_6__.HC)(ref.current);(0,_lib_dom__WEBPACK_IMPORTED_MODULE_6__.gR)(ref.current,activeElement)||focusableNodesRef.current[0].focus()}}),timeout);return function(){clearTimeout(timeoutId)}}}),[autoFocus,timeout,keyboardInput]),(0,_lib_useIsomorphicLayoutEffect__WEBPACK_IMPORTED_MODULE_5__.E)((function tryToRestoreFocusOnUnmount(){if(ref.current&&restoreFocus){var restoreFocusTo=(0,_lib_dom__WEBPACK_IMPORTED_MODULE_6__.HC)(ref.current);return function(){("function"==typeof restoreFocus?restoreFocus():restoreFocus)&&(0,_lib_dom__WEBPACK_IMPORTED_MODULE_7__.sb)(restoreFocusTo)&&setTimeout((function(){restoreFocusTo&&restoreFocusTo.focus()}),timeout)}}}),[restoreFocus,timeout]),(0,_lib_useIsomorphicLayoutEffect__WEBPACK_IMPORTED_MODULE_5__.E)((function(){if(ref.current){var onDocumentKeydown=function(event){switch((0,_lib_accessibility__WEBPACK_IMPORTED_MODULE_2__.Mv)(event)){case _lib_accessibility__WEBPACK_IMPORTED_MODULE_2__.D$.TAB:if(!focusableNodesRef.current.length)return!1;var lastIdx=focusableNodesRef.current.length-1,targetIdx=focusableNodesRef.current.findIndex((function(node){return node===event.target})),shouldFocusFirstNode=-1===targetIdx||targetIdx===lastIdx&&!event.shiftKey;if(shouldFocusFirstNode||0===targetIdx&&event.shiftKey){event.preventDefault();var node=focusableNodesRef.current[shouldFocusFirstNode?0:lastIdx];return node!==(0,_lib_dom__WEBPACK_IMPORTED_MODULE_6__.HC)(node)&&node.focus(),!1}break;case _lib_accessibility__WEBPACK_IMPORTED_MODULE_2__.D$.ESCAPE:onClose&&(event.preventDefault(),onClose())}return!0},doc=(0,_lib_dom__WEBPACK_IMPORTED_MODULE_7__.zk)(ref.current).document;return doc.addEventListener("keydown",onDocumentKeydown,{capture:!0}),function(){doc.removeEventListener("keydown",onDocumentKeydown,!0)}}}),[onClose,ref]),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Component,_object_spread_props(function _object_spread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{},ownKeys=Object.keys(source);"function"==typeof Object.getOwnPropertySymbols&&(ownKeys=ownKeys.concat(Object.getOwnPropertySymbols(source).filter((function(sym){return Object.getOwnPropertyDescriptor(source,sym).enumerable})))),ownKeys.forEach((function(key){_define_property(target,key,source[key])}))}return target}({tabIndex:-1,ref},restProps),{children}))};try{FocusTrap.displayName="FocusTrap",FocusTrap.__docgenInfo={description:"",displayName:"FocusTrap",props:{autoFocus:{defaultValue:{value:"true"},description:"",name:"autoFocus",required:!1,type:{name:"boolean"}},restoreFocus:{defaultValue:{value:"true"},description:"",name:"restoreFocus",required:!1,type:{name:"boolean | (() => boolean)"}},timeout:{defaultValue:{value:"0"},description:"",name:"timeout",required:!1,type:{name:"number"}},onClose:{defaultValue:null,description:"",name:"onClose",required:!1,type:{name:"(() => void)"}},getRootRef:{defaultValue:null,description:"",name:"getRootRef",required:!1,type:{name:"Ref<T>"}},Component:{defaultValue:{value:"div"},description:"",name:"Component",required:!1,type:{name:"ElementType<any, keyof IntrinsicElements>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/FocusTrap/FocusTrap.tsx#FocusTrap"]={docgenInfo:FocusTrap.__docgenInfo,name:"FocusTrap",path:"src/components/FocusTrap/FocusTrap.tsx#FocusTrap"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/ModalDismissButton/ModalDismissButton.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{w:()=>ModalDismissButton});var jsx_runtime=__webpack_require__("../../node_modules/react/jsx-runtime.js"),cancel_20=__webpack_require__("../../node_modules/@vkontakte/icons/dist/es6/20/cancel_20.js"),es6=__webpack_require__("../../node_modules/@vkontakte/vkjs/lib/es6/index.js"),Tappable=__webpack_require__("./src/components/Tappable/Tappable.tsx"),VisuallyHidden=__webpack_require__("./src/components/VisuallyHidden/VisuallyHidden.tsx"),injectStylesIntoStyleTag=__webpack_require__("../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),injectStylesIntoStyleTag_default=__webpack_require__.n(injectStylesIntoStyleTag),singletonStyleDomAPI=__webpack_require__("../../node_modules/style-loader/dist/runtime/singletonStyleDomAPI.js"),singletonStyleDomAPI_default=__webpack_require__.n(singletonStyleDomAPI),insertBySelector=__webpack_require__("../../node_modules/style-loader/dist/runtime/insertBySelector.js"),insertBySelector_default=__webpack_require__.n(insertBySelector),setAttributesWithAttributesAndNonce=__webpack_require__("../../node_modules/style-loader/dist/runtime/setAttributesWithAttributesAndNonce.js"),setAttributesWithAttributesAndNonce_default=__webpack_require__.n(setAttributesWithAttributesAndNonce),insertStyleElement=__webpack_require__("../../node_modules/style-loader/dist/runtime/insertStyleElement.js"),insertStyleElement_default=__webpack_require__.n(insertStyleElement),ModalDismissButton_module=__webpack_require__("../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[14].use[1]!../../node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[14].use[2]!./src/components/ModalDismissButton/ModalDismissButton.module.css"),options={attributes:{class:"vkui-style"}};options.setAttributes=setAttributesWithAttributesAndNonce_default(),options.insert=insertBySelector_default().bind(null,"head"),options.domAPI=singletonStyleDomAPI_default(),options.insertStyleElement=insertStyleElement_default();injectStylesIntoStyleTag_default()(ModalDismissButton_module.A,options);const ModalDismissButton_ModalDismissButton_module=ModalDismissButton_module.A&&ModalDismissButton_module.A.locals?ModalDismissButton_module.A.locals:void 0;function _define_property(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _object_spread_props(target,source){return source=null!=source?source:{},Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))})),target}function _object_without_properties(source,excluded){if(null==source)return{};var key,i,target=function _object_without_properties_loose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}var ModalDismissButton=function(_param){var _param_children=_param.children,children=void 0===_param_children?"Закрыть":_param_children,className=_param.className,restProps=_object_without_properties(_param,["children","className"]);return(0,jsx_runtime.jsxs)(Tappable.S,_object_spread_props(function _object_spread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{},ownKeys=Object.keys(source);"function"==typeof Object.getOwnPropertySymbols&&(ownKeys=ownKeys.concat(Object.getOwnPropertySymbols(source).filter((function(sym){return Object.getOwnPropertyDescriptor(source,sym).enumerable})))),ownKeys.forEach((function(key){_define_property(target,key,source[key])}))}return target}({className:(0,es6.xW)(ModalDismissButton_ModalDismissButton_module.ModalDismissButton,className)},restProps),{activeMode:ModalDismissButton_ModalDismissButton_module["ModalDismissButton--active"],hoverMode:ModalDismissButton_ModalDismissButton_module["ModalDismissButton--hover"],children:[children&&(0,jsx_runtime.jsx)(VisuallyHidden.s,{children}),(0,jsx_runtime.jsx)(cancel_20.Y,{})]}))};try{ModalDismissButton.displayName="ModalDismissButton",ModalDismissButton.__docgenInfo={description:"",displayName:"ModalDismissButton",props:{hasHover:{defaultValue:null,description:"Указывает, должен ли компонент реагировать на hover-состояние",name:"hasHover",required:!1,type:{name:"boolean"}},getRootRef:{defaultValue:null,description:"",name:"getRootRef",required:!1,type:{name:"Ref<HTMLElement>"}},Component:{defaultValue:null,description:"",name:"Component",required:!1,type:{name:"ElementType<any, keyof IntrinsicElements>"}},baseClassName:{defaultValue:null,description:"",name:"baseClassName",required:!1,type:{name:"string | false"}},borderRadiusMode:{defaultValue:null,description:"Задает border-radius элементу\nВ режиме `auto` на маленьких экранах `border-radius: 0`, иначе определяется токеном `--vkui--size_border_radius--regular`",name:"borderRadiusMode",required:!1,type:{name:"enum",value:[{value:'"inherit"'},{value:'"auto"'}]}},focusVisibleMode:{defaultValue:null,description:"Стиль аутлайна focus visible. Если передать произвольную строку, она добавится как css-класс при :focus-visible",name:"focusVisibleMode",required:!1,type:{name:"FocusVisibleMode"}},hovered:{defaultValue:null,description:"Позволяет управлять hovered-состоянием извне",name:"hovered",required:!1,type:{name:"boolean"}},activated:{defaultValue:null,description:"Позволяет управлять activated-состоянием извне",name:"activated",required:!1,type:{name:"boolean"}},hasActive:{defaultValue:null,description:"Указывает, должен ли компонент реагировать на active-состояние",name:"hasActive",required:!1,type:{name:"boolean"}},activeEffectDelay:{defaultValue:null,description:"Длительность показа `activated`-состояния",name:"activeEffectDelay",required:!1,type:{name:"number"}},activeClassName:{defaultValue:null,description:"Стиль подсветки active-состояния",name:"activeClassName",required:!1,type:{name:"string"}},hoverClassName:{defaultValue:null,description:"Стиль подсветки hover-состояния",name:"hoverClassName",required:!1,type:{name:"string"}},activeMode:{defaultValue:null,description:"Стиль подсветки active-состояния. Если передать произвольную строку, она добавится как css-класс во время active",name:"activeMode",required:!1,type:{name:"StateModeLiteral"}},hoverMode:{defaultValue:null,description:"Стиль подсветки hover-состояния. Если передать произвольную строку, она добавится как css-класс во время hover",name:"hoverMode",required:!1,type:{name:"StateModeLiteral"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/ModalDismissButton/ModalDismissButton.tsx#ModalDismissButton"]={docgenInfo:ModalDismissButton.__docgenInfo,name:"ModalDismissButton",path:"src/components/ModalDismissButton/ModalDismissButton.tsx#ModalDismissButton"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/ModalRoot/ModalRootAdaptive.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{E:()=>ModalRoot});var jsx_runtime=__webpack_require__("../../node_modules/react/jsx-runtime.js"),useAdaptivityWithJSMediaQueries=__webpack_require__("./src/hooks/useAdaptivityWithJSMediaQueries.ts"),ScrollContext=__webpack_require__("./src/components/AppRoot/ScrollContext.tsx"),react=__webpack_require__("../../node_modules/react/index.js"),es6=__webpack_require__("../../node_modules/@vkontakte/vkjs/lib/es6/index.js"),math=__webpack_require__("./src/helpers/math.ts");function _define_property(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _object_spread_props(target,source){return source=null!=source?source:{},Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))})),target}var ConfigProviderContext=__webpack_require__("./src/components/ConfigProvider/ConfigProviderContext.tsx");function withPlatform_define_property(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function withPlatform_object_spread_props(target,source){return source=null!=source?source:{},Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):function withPlatform_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))})),target}function withPlatform(Component){return function WithPlatform(props){var platform=(0,ConfigProviderContext.h)().platform;return(0,jsx_runtime.jsx)(Component,withPlatform_object_spread_props(function withPlatform_object_spread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{},ownKeys=Object.keys(source);"function"==typeof Object.getOwnPropertySymbols&&(ownKeys=ownKeys.concat(Object.getOwnPropertySymbols(source).filter((function(sym){return Object.getOwnPropertyDescriptor(source,sym).enumerable})))),ownKeys.forEach((function(key){withPlatform_define_property(target,key,source[key])}))}return target}({},props),{platform}))}}try{withPlatform.displayName="withPlatform",withPlatform.__docgenInfo={description:"",displayName:"withPlatform",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/hoc/withPlatform.tsx#withPlatform"]={docgenInfo:withPlatform.__docgenInfo,name:"withPlatform",path:"src/hoc/withPlatform.tsx#withPlatform"})}catch(__react_docgen_typescript_loader_error){}var dom=__webpack_require__("./src/lib/dom.tsx"),getNavId=__webpack_require__("./src/lib/getNavId.ts");var supportEvents=__webpack_require__("./src/lib/supportEvents.ts"),functions=__webpack_require__("./src/lib/touch/functions.ts"),warnOnce=__webpack_require__("./src/lib/warnOnce.ts"),FocusTrap=__webpack_require__("./src/components/FocusTrap/FocusTrap.tsx"),Touch=__webpack_require__("./src/components/Touch/Touch.tsx"),TouchContext=__webpack_require__("./src/components/Touch/TouchContext.ts"),ModalRootContext=__webpack_require__("./src/components/ModalRoot/ModalRootContext.tsx"),useIsomorphicLayoutEffect=__webpack_require__("./src/lib/useIsomorphicLayoutEffect.ts");function _array_like_to_array(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function useModalManager_define_property(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function useModalManager_object_spread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{},ownKeys=Object.keys(source);"function"==typeof Object.getOwnPropertySymbols&&(ownKeys=ownKeys.concat(Object.getOwnPropertySymbols(source).filter((function(sym){return Object.getOwnPropertyDescriptor(source,sym).enumerable})))),ownKeys.forEach((function(key){useModalManager_define_property(target,key,source[key])}))}return target}function useModalManager_object_spread_props(target,source){return source=null!=source?source:{},Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):function useModalManager_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))})),target}function _sliced_to_array(arr,i){return function _array_with_holes(arr){if(Array.isArray(arr))return arr}(arr)||function _iterable_to_array_limit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null!=_i){var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}}(arr,i)||_unsupported_iterable_to_array(arr,i)||function _non_iterable_rest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _to_consumable_array(arr){return function _array_without_holes(arr){if(Array.isArray(arr))return _array_like_to_array(arr)}(arr)||function _iterable_to_array(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||_unsupported_iterable_to_array(arr)||function _non_iterable_spread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _unsupported_iterable_to_array(o,minLen){if(o){if("string"==typeof o)return _array_like_to_array(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_array_like_to_array(o,minLen):void 0}}var warn=(0,warnOnce.m)("ModalRoot");function modalTransitionReducer(state,action){if("setActive"===action.type&&action.id!==state.activeModal){var nextModal=action.id,prevModal=state.exitingModal||state.activeModal,history=state.history?_to_consumable_array(state.history):[],isBack=Boolean(nextModal&&history.includes(nextModal));return null===nextModal?history=[]:isBack?history=history.splice(0,history.indexOf(nextModal)+1):history.push(nextModal),{activeModal:nextModal,enteringModal:null,exitingModal:prevModal,history,isBack}}return"entered"===action.type&&action.id===state.enteringModal?useModalManager_object_spread_props(useModalManager_object_spread({},state),{enteringModal:null}):"exited"===action.type&&action.id===state.exitingModal?useModalManager_object_spread_props(useModalManager_object_spread({},state),{exitingModal:null}):"inited"===action.type&&action.id===state.activeModal?useModalManager_object_spread_props(useModalManager_object_spread({},state),{enteringModal:action.id}):state}function useModalManager(activeModal,children){var onOpen=arguments.length>2&&void 0!==arguments[2]?arguments[2]:es6.lQ,onOpened=arguments.length>3&&void 0!==arguments[3]?arguments[3]:es6.lQ,onClose=arguments.length>4&&void 0!==arguments[4]?arguments[4]:es6.lQ,onClosed=arguments.length>5&&void 0!==arguments[5]?arguments[5]:es6.lQ,initModal=arguments.length>6&&void 0!==arguments[6]?arguments[6]:es6.lQ,modalsState=react.useRef({}).current;(function getModals(children){return react.Children.toArray(children)})(children).forEach((function(Modal){var modalProps=Modal.props,id=(0,getNavId.p)(modalProps,warn),state=void 0!==id&&modalsState[id]||{id:null!=id?id:null};state.onOpen=Modal.props.onOpen,state.onOpened=Modal.props.onOpened,state.onClose=Modal.props.onClose,state.onClosed=Modal.props.onClosed,state.preventClose=Modal.props.preventClose,"number"==typeof modalProps.settlingHeight&&(state.settlingHeight=modalProps.settlingHeight),null!==state.id&&(modalsState[state.id]=state)}));var safeActiveModal=activeModal&&!modalsState[activeModal]?null:activeModal,_React_useReducer=_sliced_to_array(react.useReducer(modalTransitionReducer,{activeModal:safeActiveModal,enteringModal:null,exitingModal:null,history:safeActiveModal?[safeActiveModal]:[],isBack:!1}),2),transitionState=_React_useReducer[0],dispatchTransition=_React_useReducer[1];(0,useIsomorphicLayoutEffect.E)((function(){dispatchTransition({type:"setActive",id:null!=safeActiveModal?safeActiveModal:null})}),[activeModal]),(0,useIsomorphicLayoutEffect.E)((function(){transitionState.activeModal&&(initModal(modalsState[transitionState.activeModal]),dispatchTransition({type:"inited",id:transitionState.activeModal}))}),[transitionState.activeModal]);var isCard=function(id){var _modalsState_id;return null!=id&&"card"===(null===(_modalsState_id=modalsState[id])||void 0===_modalsState_id?void 0:_modalsState_id.type)},onEntered=react.useCallback((function(id){if(id){var modalState=modalsState[id];(0,es6.Tn)(modalState.onOpened)?modalState.onOpened():(0,es6.Tn)(onOpened)&&onOpened(id)}dispatchTransition({type:"entered",id})}),[modalsState,onOpened]),onExited=react.useCallback((function(id){if(id){var modalState=modalsState[id];(0,es6.Tn)(modalState.onClosed)?modalState.onClosed():(0,es6.Tn)(onClosed)&&onClosed(id)}dispatchTransition({type:"exited",id})}),[modalsState,onClosed]),delayEnter=Boolean(transitionState.exitingModal&&(isCard(activeModal)||isCard(transitionState.exitingModal))),getModalState=react.useCallback((function(id){return id?modalsState[id]:void 0}),[modalsState]);return useModalManager_object_spread_props(useModalManager_object_spread({onEnter:function onEnter(){var modalState=transitionState.activeModal&&modalsState[transitionState.activeModal];modalState&&((0,es6.Tn)(modalState.onOpen)?modalState.onOpen():(0,es6.Tn)(onOpen)&&modalState.id&&onOpen(modalState.id))},onEntered,onExit:function onExit(){var modalState=transitionState.activeModal&&modalsState[transitionState.activeModal];modalState&&!modalState.preventClose&&((0,es6.Tn)(modalState.onClose)?modalState.onClose():(0,es6.Tn)(onClose)&&modalState.id&&onClose(modalState.id))},onExited},transitionState),{delayEnter,getModalState})}function withModalManager(){var initModal=arguments.length>0&&void 0!==arguments[0]?arguments[0]:es6.lQ;return function(Wrapped){return function WithModalManager(props){var transitionManager=useModalManager(props.activeModal,props.children,props.onOpen,props.onOpened,props.onClose,props.onClosed,initModal);return(0,jsx_runtime.jsx)(Wrapped,useModalManager_object_spread({},props,transitionManager))}}}try{useModalManager.displayName="useModalManager",useModalManager.__docgenInfo={description:"Реализует переход модалок. При смене activeModal m1 -> m2:\n1. activeModal: m1, exitingModal: null, enteringModal: null, триггер перехода\n2. activeModal: m2, exitingModal: m1, enteringModal: null, рендерим m2 чтобы прошел init, начинаем анимацию выхода\nодновременный переход между ModalPage:\n  3a. activeModal: m2, exitingModal: m1, enteringModal: m2\n  4a. exitingModal и enteringModal переходят в null в порядке завершения анимации\nИЛИ дожидаемся скрытия ModalCard\n  3b. activeModal: m2, exitingModal: null, enteringModal: m2\n  4b. enteringModal переходит в null после завершения анимации\n5. activeModal: m2, exitingModal: null, enteringModal: null, переход закончен",displayName:"useModalManager",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/ModalRoot/useModalManager.tsx#useModalManager"]={docgenInfo:useModalManager.__docgenInfo,name:"useModalManager",path:"src/components/ModalRoot/useModalManager.tsx#useModalManager"})}catch(__react_docgen_typescript_loader_error){}try{withModalManager.displayName="withModalManager",withModalManager.__docgenInfo={description:"",displayName:"withModalManager",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/ModalRoot/useModalManager.tsx#withModalManager"]={docgenInfo:withModalManager.__docgenInfo,name:"withModalManager",path:"src/components/ModalRoot/useModalManager.tsx#withModalManager"})}catch(__react_docgen_typescript_loader_error){}var injectStylesIntoStyleTag=__webpack_require__("../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),injectStylesIntoStyleTag_default=__webpack_require__.n(injectStylesIntoStyleTag),singletonStyleDomAPI=__webpack_require__("../../node_modules/style-loader/dist/runtime/singletonStyleDomAPI.js"),singletonStyleDomAPI_default=__webpack_require__.n(singletonStyleDomAPI),insertBySelector=__webpack_require__("../../node_modules/style-loader/dist/runtime/insertBySelector.js"),insertBySelector_default=__webpack_require__.n(insertBySelector),setAttributesWithAttributesAndNonce=__webpack_require__("../../node_modules/style-loader/dist/runtime/setAttributesWithAttributesAndNonce.js"),setAttributesWithAttributesAndNonce_default=__webpack_require__.n(setAttributesWithAttributesAndNonce),insertStyleElement=__webpack_require__("../../node_modules/style-loader/dist/runtime/insertStyleElement.js"),insertStyleElement_default=__webpack_require__.n(insertStyleElement),ModalRoot_module=__webpack_require__("../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[14].use[1]!../../node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[14].use[2]!./src/components/ModalRoot/ModalRoot.module.css"),options={attributes:{class:"vkui-style"}};options.setAttributes=setAttributesWithAttributesAndNonce_default(),options.insert=insertBySelector_default().bind(null,"head"),options.domAPI=singletonStyleDomAPI_default(),options.insertStyleElement=insertStyleElement_default();injectStylesIntoStyleTag_default()(ModalRoot_module.A,options);const ModalRoot_ModalRoot_module=ModalRoot_module.A&&ModalRoot_module.A.locals?ModalRoot_module.A.locals:void 0;function ModalRoot_array_like_to_array(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _assert_this_initialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function ModalRoot_define_property(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _get_prototype_of(o){return _get_prototype_of=Object.setPrototypeOf?Object.getPrototypeOf:function getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)},_get_prototype_of(o)}function ModalRoot_object_spread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{},ownKeys=Object.keys(source);"function"==typeof Object.getOwnPropertySymbols&&(ownKeys=ownKeys.concat(Object.getOwnPropertySymbols(source).filter((function(sym){return Object.getOwnPropertyDescriptor(source,sym).enumerable})))),ownKeys.forEach((function(key){ModalRoot_define_property(target,key,source[key])}))}return target}function _object_without_properties(source,excluded){if(null==source)return{};var key,i,target=function _object_without_properties_loose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}function _possible_constructor_return(self,call){return!call||"object"!==function _type_of(obj){return obj&&"undefined"!=typeof Symbol&&obj.constructor===Symbol?"symbol":typeof obj}(call)&&"function"!=typeof call?_assert_this_initialized(self):call}function _set_prototype_of(o,p){return _set_prototype_of=Object.setPrototypeOf||function setPrototypeOf(o,p){return o.__proto__=p,o},_set_prototype_of(o,p)}function ModalRoot_to_consumable_array(arr){return function ModalRoot_array_without_holes(arr){if(Array.isArray(arr))return ModalRoot_array_like_to_array(arr)}(arr)||function ModalRoot_iterable_to_array(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||function ModalRoot_unsupported_iterable_to_array(o,minLen){if(!o)return;if("string"==typeof o)return ModalRoot_array_like_to_array(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ModalRoot_array_like_to_array(o,minLen)}(arr)||function ModalRoot_non_iterable_spread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _create_super(Derived){var hasNativeReflectConstruct=function _is_native_reflect_construct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=_get_prototype_of(Derived);if(hasNativeReflectConstruct){var NewTarget=_get_prototype_of(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possible_constructor_return(this,result)}}var ModalRoot_warn=(0,warnOnce.m)("ModalRoot");function numberInRange(number,range){return!!range&&(number>=range[0]&&number<=range[1])}function rangeTranslate(number){return(0,math.qE)(number,0,98)}var ModalRootTouchComponent=function(_React_Component){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_set_prototype_of(subClass,superClass)}(ModalRootTouchComponent,_React_Component);var _super=_create_super(ModalRootTouchComponent);function ModalRootTouchComponent(props){var _this;return function _class_call_check(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,ModalRootTouchComponent),ModalRoot_define_property(_assert_this_initialized(_this=_super.call(this,props)),"documentScrolling",!1),ModalRoot_define_property(_assert_this_initialized(_this),"maskElementRef",void 0),ModalRoot_define_property(_assert_this_initialized(_this),"viewportRef",react.createRef()),ModalRoot_define_property(_assert_this_initialized(_this),"maskAnimationFrame",void 0),ModalRoot_define_property(_assert_this_initialized(_this),"modalRootContext",void 0),ModalRoot_define_property(_assert_this_initialized(_this),"frameIds",void 0),ModalRoot_define_property(_assert_this_initialized(_this),"restoreFocusTo",void 0),ModalRoot_define_property(_assert_this_initialized(_this),"preventTouch",(function(event){if(!event)return!1;for(;event.originalEvent;)event=event.originalEvent;return event.preventDefault&&event.preventDefault(),!1})),ModalRoot_define_property(_assert_this_initialized(_this),"updateModalHeight",(function(){var modalState=_this.props.getModalState(_this.props.activeModal);modalState&&"page"===modalState.type&&(_this.props.enteringModal?_this.waitTransitionFinish(modalState,(function(){requestAnimationFrame((function(){return _this.checkPageContentHeight()}))})):requestAnimationFrame((function(){return _this.checkPageContentHeight()})))})),ModalRoot_define_property(_assert_this_initialized(_this),"onTouchMove",(function(e){if(!_this.props.exitingModal){var modalState=_this.props.getModalState(_this.props.activeModal);if(modalState)return"page"===modalState.type?_this.onPageTouchMove(e,modalState):"card"===modalState.type?_this.onCardTouchMove(e,modalState):void 0}})),ModalRoot_define_property(_assert_this_initialized(_this),"onTouchEnd",(function(e){var modalState=_this.props.getModalState(_this.props.activeModal);return"page"===(null==modalState?void 0:modalState.type)?_this.onPageTouchEnd(e,modalState):"card"===(null==modalState?void 0:modalState.type)?_this.onCardTouchEnd(e,modalState):void 0})),ModalRoot_define_property(_assert_this_initialized(_this),"onScroll",(function(e){var _modalState_contentElement,activeModal=_this.props.activeModal,target=e.target;if(activeModal){var modalState=_this.props.getModalState(activeModal);"page"===(null==modalState?void 0:modalState.type)&&(null==modalState||null===(_modalState_contentElement=modalState.contentElement)||void 0===_modalState_contentElement?void 0:_modalState_contentElement.contains(target))&&(modalState.contentScrolled=!0,modalState.contentScrollStopTimeout&&clearTimeout(modalState.contentScrollStopTimeout),modalState.contentScrollStopTimeout=setTimeout((function(){modalState.contentScrolled&&(modalState.contentScrolled=!1)}),250))}})),_this.state={touchDown:!1,dragging:!1,modalOpenedLog:[]},_this.maskElementRef=react.createRef(),_this.modalRootContext={updateModalHeight:_this.updateModalHeight,registerModal:function(_param){var _this_props_getModalState,id=_param.id,data=_object_without_properties(_param,["id"]);return Object.assign(null!==(_this_props_getModalState=_this.props.getModalState(id))&&void 0!==_this_props_getModalState?_this_props_getModalState:{},data)},onClose:function(){return _this.props.onExit()},isInsideModal:!0},_this.frameIds={},_this}return function _create_class(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(ModalRootTouchComponent,[{key:"timeout",get:function get(){return"ios"===this.props.platform?400:320}},{key:"document",get:function get(){return this.props.document}},{key:"window",get:function get(){return this.props.window}},{key:"getModals",value:function getModals(){return react.Children.toArray(this.props.children)}},{key:"componentDidMount",value:function componentDidMount(){var _this_window;null===(_this_window=this.window)||void 0===_this_window||_this_window.addEventListener("resize",this.updateModalHeight,!1)}},{key:"componentWillUnmount",value:function componentWillUnmount(){this.toggleDocumentScrolling(!0),this.window.removeEventListener("resize",this.updateModalHeight,!1)}},{key:"componentDidUpdate",value:function componentDidUpdate(prevProps){var _this=this;if(this.props.exitingModal&&this.props.exitingModal!==prevProps.exitingModal&&this.closeModal(this.props.exitingModal),this.props.enteringModal&&this.props.enteringModal!==prevProps.enteringModal){var enteringState=this.props.getModalState(this.props.enteringModal);this.props.onEnter(),this.waitTransitionFinish(enteringState,(function(){enteringState&&(enteringState.innerElement&&(enteringState.innerElement.style.transitionDelay=""),_this.onEntered(enteringState))})),(null==enteringState?void 0:enteringState.innerElement)&&(enteringState.innerElement.style.transitionDelay=this.props.delayEnter?"".concat(this.timeout,"ms"):"",this.animateTranslate(enteringState,enteringState.translateY),this.setMaskOpacity(enteringState,1))}this.props.activeModal&&!prevProps.activeModal&&(this.restoreFocusTo=this.document.activeElement),this.props.activeModal||this.props.exitingModal||!this.restoreFocusTo||(this.restoreFocusTo.focus(),this.restoreFocusTo=null),this.toggleDocumentScrolling(!this.props.activeModal&&!this.props.exitingModal)}},{key:"toggleDocumentScrolling",value:function toggleDocumentScrolling(enabled){this.documentScrolling!==enabled&&(this.documentScrolling=enabled,enabled?(this.document.documentElement.classList.remove("vkui--disable-overscroll-behavior"),this.window.removeEventListener("touchmove",this.preventTouch,{passive:!1})):(this.document.documentElement.classList.add("vkui--disable-overscroll-behavior"),this.window.addEventListener("touchmove",this.preventTouch,{passive:!1})))}},{key:"checkPageContentHeight",value:function checkPageContentHeight(){var modalState=this.props.getModalState(this.props.activeModal);if("page"===(null==modalState?void 0:modalState.type)&&(null==modalState?void 0:modalState.modalElement)){var prevModalState=ModalRoot_object_spread({},modalState);initPageModal(modalState);var currentModalState=ModalRoot_object_spread({},modalState),needAnimate=!1;prevModalState.expandable===currentModalState.expandable?prevModalState.translateYFrom!==currentModalState.translateYFrom&&(needAnimate=!0):needAnimate=!0,needAnimate&&this.animateTranslate(modalState,modalState.translateY)}}},{key:"onEntered",value:function onEntered(param){var id=param.id,modalElement=param.modalElement;this.props.noFocusToDialog||!modalElement||modalElement.contains(this.document.activeElement)||modalElement.focus(),this.props.onEntered(id)}},{key:"closeModal",value:function closeModal(id){var _this=this;this.setState({touchDown:!1});var prevModalState=this.props.getModalState(id);if(prevModalState){this.state.modalOpenedLog.length||this.setState((function(prevState){return{modalOpenedLog:ModalRoot_to_consumable_array(prevState.modalOpenedLog).concat([id])}}));var _prevModalState_translateY,_nextModalState_translateYFrom,_nextModalState_translateYFrom1,nextModalState=this.props.getModalState(this.props.activeModal),nextIsPage=!!nextModalState&&"page"===nextModalState.type,prevIsPage=!!prevModalState&&"page"===prevModalState.type;this.waitTransitionFinish(prevModalState,(function(){return _this.props.onExited(id)}));var exitTranslate=prevIsPage&&nextIsPage&&(null!==(_prevModalState_translateY=prevModalState.translateY)&&void 0!==_prevModalState_translateY?_prevModalState_translateY:0)<=(null!==(_nextModalState_translateYFrom=null==nextModalState?void 0:nextModalState.translateYFrom)&&void 0!==_nextModalState_translateYFrom?_nextModalState_translateYFrom:0)&&!this.props.isBack?(null!==(_nextModalState_translateYFrom1=null==nextModalState?void 0:nextModalState.translateYFrom)&&void 0!==_nextModalState_translateYFrom1?_nextModalState_translateYFrom1:0)+10:100;this.animateTranslate(prevModalState,exitTranslate),nextModalState?nextModalState.id&&!this.state.modalOpenedLog.includes(nextModalState.id)&&(nextModalState.translateY=void 0,this.setState((function(prevState){return{modalOpenedLog:ModalRoot_to_consumable_array(prevState.modalOpenedLog).concat([nextModalState.id])}}))):(this.setMaskOpacity(prevModalState,0),this.setState({modalOpenedLog:[]}),prevModalState.translateY=void 0,prevModalState.expandable=void 0)}else id&&ModalRoot_warn("closeActiveModal: модальное окно (страница) ".concat(id," не существует"),"error")}},{key:"onPageTouchMove",value:function onPageTouchMove(event,modalState){var _modalState_innerElement,_modalState_headerElement,shiftY=event.shiftY,originalEvent=event.originalEvent,target=originalEvent.target;if(event.isY){if(!(null===(_modalState_innerElement=modalState.innerElement)||void 0===_modalState_innerElement?void 0:_modalState_innerElement.contains(target)))return originalEvent.preventDefault();originalEvent.stopPropagation();var _modalState_contentElement,_modalState_contentElement_scrollTop,expandable=modalState.expandable,contentScrolled=modalState.contentScrolled,collapsed=modalState.collapsed,expanded=modalState.expanded;if(!this.state.touchDown)modalState.touchStartContentScrollTop=null!==(_modalState_contentElement_scrollTop=null===(_modalState_contentElement=modalState.contentElement)||void 0===_modalState_contentElement?void 0:_modalState_contentElement.scrollTop)&&void 0!==_modalState_contentElement_scrollTop?_modalState_contentElement_scrollTop:0,this.setState({touchDown:!0});if(!contentScrolled&&(null===modalState.touchMovePositive&&(modalState.touchMovePositive=shiftY>0),!modalState.expandable||collapsed||expanded&&modalState.touchMovePositive&&0===modalState.touchStartContentScrollTop||(null===(_modalState_headerElement=modalState.headerElement)||void 0===_modalState_headerElement?void 0:_modalState_headerElement.contains(target)))){if(originalEvent.preventDefault(),!expandable&&shiftY<0||!this.window)return;!this.state.dragging&&this.setState({dragging:!0});var _modalState_translateY,shiftYPercent=shiftY/this.window.innerHeight*100,shiftYCurrent=(0,functions.VJ)(shiftYPercent,72,.8,"ios"!==this.props.platform);modalState.touchShiftYPercent=shiftYPercent,modalState.translateYCurrent=rangeTranslate((null!==(_modalState_translateY=modalState.translateY)&&void 0!==_modalState_translateY?_modalState_translateY:0)+shiftYCurrent),this.animateTranslate(modalState,modalState.translateYCurrent),this.setMaskOpacity(modalState)}}else{var _this_viewportRef_current;(null===(_this_viewportRef_current=this.viewportRef.current)||void 0===_this_viewportRef_current?void 0:_this_viewportRef_current.contains(target))&&originalEvent.preventDefault()}}},{key:"onCardTouchMove",value:function onCardTouchMove(event,modalState){var _modalState_innerElement,originalEvent=event.originalEvent,shiftY=event.shiftY,target=originalEvent.target;if(null===(_modalState_innerElement=modalState.innerElement)||void 0===_modalState_innerElement?void 0:_modalState_innerElement.contains(target)){this.state.touchDown||this.setState({touchDown:!0,dragging:!0});var _modalState_translateY,shiftYPercent=shiftY/modalState.innerElement.offsetHeight*100,shiftYCurrent=(0,functions.VJ)(shiftYPercent,72,1.2,"ios"!==this.props.platform);modalState.touchShiftYPercent=shiftYPercent,modalState.translateYCurrent=Math.max(0,(null!==(_modalState_translateY=modalState.translateY)&&void 0!==_modalState_translateY?_modalState_translateY:0)+shiftYCurrent),this.animateTranslate(modalState,modalState.translateYCurrent),this.setMaskOpacity(modalState)}}},{key:"onPageTouchEnd",value:function onPageTouchEnd(event,modalState){var setStateCallback,_this=this,startY=event.startY,shiftY=event.shiftY;if(modalState.contentScrolled=!1,modalState.touchMovePositive=null,this.state.dragging&&this.window){var _modalState_translateYCurrent,_modalState_touchShiftYPercent,_modalState_expandedRange,_modalState_expandedRange_,_modalState_translateYFrom3,shiftYEndPercent=(startY+shiftY)/this.window.innerHeight*100,translateY=null!==(_modalState_translateYCurrent=modalState.translateYCurrent)&&void 0!==_modalState_translateYCurrent?_modalState_translateYCurrent:0;if(translateY=rangeTranslate(translateY+translateY/event.duration*240*.6*((null!==(_modalState_touchShiftYPercent=modalState.touchShiftYPercent)&&void 0!==_modalState_touchShiftYPercent?_modalState_touchShiftYPercent:0)<0?-1:1)),100!==modalState.settlingHeight)if(numberInRange(translateY,modalState.expandedRange))translateY=null!==(_modalState_expandedRange_=null===(_modalState_expandedRange=modalState.expandedRange)||void 0===_modalState_expandedRange?void 0:_modalState_expandedRange[0])&&void 0!==_modalState_expandedRange_?_modalState_expandedRange_:0;else if(numberInRange(translateY,modalState.collapsedRange)){var _modalState_translateYFrom;translateY=null!==(_modalState_translateYFrom=modalState.translateYFrom)&&void 0!==_modalState_translateYFrom?_modalState_translateYFrom:0}else if(numberInRange(translateY,modalState.hiddenRange)){var _modalState_translateYFrom1;translateY=modalState.preventClose?null!==(_modalState_translateYFrom1=modalState.translateYFrom)&&void 0!==_modalState_translateYFrom1?_modalState_translateYFrom1:0:100}else{var _modalState_translateYFrom2;translateY=null!==(_modalState_translateYFrom2=modalState.translateYFrom)&&void 0!==_modalState_translateYFrom2?_modalState_translateYFrom2:0}else if(numberInRange(translateY,[0,25]))translateY=0;else translateY=modalState.preventClose?null!==(_modalState_translateYFrom3=modalState.translateYFrom)&&void 0!==_modalState_translateYFrom3?_modalState_translateYFrom3:0:100;100!==translateY&&shiftYEndPercent>=75&&!modalState.preventClose&&(translateY=100),modalState.translateY=translateY,modalState.translateYCurrent=translateY,modalState.collapsed=numberInRange(translateY,modalState.collapsedRange),modalState.expanded=0===translateY,modalState.hidden=100===translateY,modalState.hidden&&this.props.onExit(),setStateCallback=function(){modalState.hidden||_this.animateTranslate(modalState,modalState.translateY),_this.setMaskOpacity(modalState)}}this.setState({touchDown:!1,dragging:!1},setStateCallback)}},{key:"onCardTouchEnd",value:function onCardTouchEnd(param,modalState){var setStateCallback,_this=this,duration=param.duration;if(this.state.dragging){var _modalState_translateYCurrent,_modalState_touchShiftYPercent,translateY=null!==(_modalState_translateYCurrent=modalState.translateYCurrent)&&void 0!==_modalState_translateYCurrent?_modalState_translateYCurrent:0,expectTranslateY=translateY/duration*240*.6*((null!==(_modalState_touchShiftYPercent=modalState.touchShiftYPercent)&&void 0!==_modalState_touchShiftYPercent?_modalState_touchShiftYPercent:0)<0?-1:1);translateY=(translateY=Math.max(0,translateY+expectTranslateY))>=30?100:0,modalState.translateY=translateY,modalState.hidden=100===translateY,modalState.hidden&&this.props.onExit(),setStateCallback=function(){modalState.hidden||_this.animateTranslate(modalState,modalState.translateY),_this.setMaskOpacity(modalState)}}this.setState({touchDown:!1,dragging:!1},setStateCallback)}},{key:"waitTransitionFinish",value:function waitTransitionFinish(modalState,eventHandler){if(supportEvents.u.supported){var _modalState_innerElement,onceHandler=function(){var _modalState_innerElement;null==modalState||null===(_modalState_innerElement=modalState.innerElement)||void 0===_modalState_innerElement||_modalState_innerElement.removeEventListener(supportEvents.u.name,onceHandler),eventHandler()};null==modalState||null===(_modalState_innerElement=modalState.innerElement)||void 0===_modalState_innerElement||_modalState_innerElement.addEventListener(supportEvents.u.name,onceHandler)}else setTimeout(eventHandler,this.timeout)}},{key:"animateTranslate",value:function animateTranslate(modalState,percent){var frameId="animateTranslateFrame".concat(modalState.id);cancelAnimationFrame(this.frameIds[frameId]),this.frameIds[frameId]=requestAnimationFrame((function(){!function setTransformStyle(element,transform){element&&(element.style.transform=transform,element.style.webkitTransform=transform)}(modalState.innerElement,"translate3d(0, ".concat(percent,"%, 0)"))}))}},{key:"setMaskOpacity",value:function setMaskOpacity(modalState){var _this_props_history,_this=this,forceOpacity=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;null===forceOpacity&&(null===(_this_props_history=this.props.history)||void 0===_this_props_history?void 0:_this_props_history[0])!==modalState.id||(this.maskAnimationFrame&&cancelAnimationFrame(this.maskAnimationFrame),this.maskAnimationFrame=requestAnimationFrame((function(){if(_this.maskElementRef.current){var _modalState_translateY=modalState.translateY,translateY=void 0===_modalState_translateY?0:_modalState_translateY,_modalState_translateYCurrent=modalState.translateYCurrent,opacity=null===forceOpacity?1-((void 0===_modalState_translateYCurrent?0:_modalState_translateYCurrent)-translateY)/(100-translateY)||0:forceOpacity;_this.maskElementRef.current.style.opacity=(0,math.qE)(opacity,0,100).toString(),_this.maskElementRef.current.style.transitionDelay=opacity&&_this.props.delayEnter?"".concat(_this.timeout,"ms"):""}})))}},{key:"render",value:function render(){var _this_props_configProvider,_this=this,_this_props=this.props,activeModal=_this_props.activeModal,exitingModal=_this_props.exitingModal,enteringModal=_this_props.enteringModal,modalOverlayTestId=_this_props.modalOverlayTestId,_this_state=this.state,touchDown=_this_state.touchDown,dragging=_this_state.dragging;return activeModal||exitingModal?(0,jsx_runtime.jsx)(TouchContext.A.Provider,{value:!0,children:(0,jsx_runtime.jsx)(ModalRootContext.f.Provider,{value:this.modalRootContext,children:(0,jsx_runtime.jsxs)(Touch.U,{className:(0,es6.xW)(ModalRoot_ModalRoot_module.ModalRoot,(null===(_this_props_configProvider=this.props.configProvider)||void 0===_this_props_configProvider?void 0:_this_props_configProvider.hasCustomPanelHeaderAfter)&&ModalRoot_ModalRoot_module["ModalRoot--hasCustomPanelHeaderAfterSlot"],touchDown&&(0,es6.xW)(ModalRoot_ModalRoot_module["ModalRoot--touched"],"vkuiInternalModalRoot--touched"),!(!enteringModal&&!exitingModal)&&(0,es6.xW)(ModalRoot_ModalRoot_module["ModalRoot--switching"],"vkuiInternalModalRoot--switching")),onMove:this.onTouchMove,onEnd:this.onTouchEnd,onScroll:this.onScroll,children:[(0,jsx_runtime.jsx)("div",{"data-testid":modalOverlayTestId,className:ModalRoot_ModalRoot_module.ModalRoot__mask,onClick:this.props.onExit,ref:this.maskElementRef}),(0,jsx_runtime.jsx)("div",{className:ModalRoot_ModalRoot_module.ModalRoot__viewport,ref:this.viewportRef,children:this.getModals().map((function(Modal){var modalId=(0,getNavId.p)(Modal.props,ModalRoot_warn),_modalState=_this.props.getModalState(modalId);if(modalId!==activeModal&&modalId!==exitingModal||!_modalState)return null;var modalState=ModalRoot_object_spread({},_modalState),isPage="page"===modalState.type,key="modal-".concat(modalId);return(0,jsx_runtime.jsx)(FocusTrap.s,{onClose:_this.props.onExit,timeout:_this.timeout,className:(0,es6.xW)(ModalRoot_ModalRoot_module.ModalRoot__modal,dragging&&"vkuiInternalModalRoot__modal--dragging",isPage&&modalState.expandable&&"vkuiInternalModalRoot__modal--expandable",isPage&&modalState.collapsed&&"vkuiInternalModalRoot__modal--collapsed"),restoreFocus:!1,children:Modal},key)}))})]})})}):null}}]),ModalRootTouchComponent}(react.Component),ModalRootTouch=function withContext(Component,Ctx,prop){return function WithContext(props){var context=react.useContext(Ctx);return(0,jsx_runtime.jsx)(Component,_object_spread_props(function _object_spread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{},ownKeys=Object.keys(source);"function"==typeof Object.getOwnPropertySymbols&&(ownKeys=ownKeys.concat(Object.getOwnPropertySymbols(source).filter((function(sym){return Object.getOwnPropertyDescriptor(source,sym).enumerable})))),ownKeys.forEach((function(key){_define_property(target,key,source[key])}))}return target}({},props),_define_property({},prop,context)))}}(withPlatform((0,dom.Hk)(withModalManager((function initModal(modalState){switch(modalState.type){case"page":return modalState.settlingHeight=modalState.settlingHeight||75,initPageModal(modalState);case"card":return function initCardModal(modalState){modalState.translateY=0}(modalState)}}))(ModalRootTouchComponent))),ConfigProviderContext.T,"configProvider");function initPageModal(modalState){var _contentElement_clientHeight,contentElement=modalState.contentElement,bottomInset=modalState.bottomInset,contentHeight=function calculateModalContentHeight(element,isExpandable){if(!isExpandable)return element.scrollHeight;var currentHeightStyle=element.style.height;element.style.height="auto";var elementHeight=element.scrollHeight;return element.style.height=currentHeightStyle,elementHeight}(null==contentElement?void 0:contentElement.firstElementChild,modalState.expandable)+((null==bottomInset?void 0:bottomInset.offsetHeight)||0),prevTranslateY=modalState.translateY,prevExpandable=modalState.expandable;modalState.expandable=contentHeight>(null!==(_contentElement_clientHeight=null==contentElement?void 0:contentElement.clientHeight)&&void 0!==_contentElement_clientHeight?_contentElement_clientHeight:0)||100===modalState.settlingHeight;var translateYFrom,translateY,expandedRange,collapsedRange,hiddenRange,collapsed=!1,expanded=!1,hasCollapsedState=Boolean(modalState.expandable&&100!==modalState.settlingHeight);if(modalState.expandable){var _modalState_settlingHeight,shiftHalf=(translateYFrom=100-(null!==(_modalState_settlingHeight=modalState.settlingHeight)&&void 0!==_modalState_settlingHeight?_modalState_settlingHeight:0))/2,visiblePart=100-translateYFrom;expandedRange=[0,shiftHalf],collapsedRange=hasCollapsedState?[shiftHalf,translateYFrom+visiblePart/4]:void 0,hiddenRange=[translateYFrom+visiblePart/4,100],collapsed=hasCollapsedState&&translateYFrom>0,expanded=translateYFrom<=0,translateY=translateYFrom}else{var _modalState_headerElement,_modalState_innerElement_parentElement,_modalState_innerElement,_modalState_headerElement_offsetHeight,_modalState_innerElement_parentElement_offsetHeight;expandedRange=[translateY=translateYFrom=100-(contentHeight+(null!==(_modalState_headerElement_offsetHeight=null===(_modalState_headerElement=modalState.headerElement)||void 0===_modalState_headerElement?void 0:_modalState_headerElement.offsetHeight)&&void 0!==_modalState_headerElement_offsetHeight?_modalState_headerElement_offsetHeight:0))/(null!==(_modalState_innerElement_parentElement_offsetHeight=null===(_modalState_innerElement=modalState.innerElement)||void 0===_modalState_innerElement||null===(_modalState_innerElement_parentElement=_modalState_innerElement.parentElement)||void 0===_modalState_innerElement_parentElement?void 0:_modalState_innerElement_parentElement.offsetHeight)&&void 0!==_modalState_innerElement_parentElement_offsetHeight?_modalState_innerElement_parentElement_offsetHeight:0)*100,translateY+25],collapsedRange=void 0,hiddenRange=[translateY+25,translateY+100]}(prevExpandable&&modalState.expandable&&translateY>(null!=prevTranslateY?prevTranslateY:100)||100===modalState.settlingHeight)&&(translateY=0),0===translateY&&(expanded=!0,collapsed=!1),modalState.expandedRange=expandedRange,modalState.collapsedRange=collapsedRange,modalState.hiddenRange=hiddenRange,modalState.translateY=translateY,modalState.translateYFrom=translateYFrom,modalState.collapsed=collapsed,modalState.expanded=expanded}try{ModalRootTouch.displayName="ModalRootTouch",ModalRootTouch.__docgenInfo={description:"",displayName:"ModalRootTouch",props:{document:{defaultValue:null,description:"@ignore",name:"document",required:!1,type:{name:"Document"}},window:{defaultValue:null,description:"@ignore",name:"window",required:!1,type:{name:"Window"}},onClose:{defaultValue:null,description:"Будет вызвано при начале закрытия активной модалки с её id",name:"onClose",required:!1,type:{name:"((modalId: string) => void)"}},onOpen:{defaultValue:null,description:"Будет вызвано при начале открытия активной модалки с её id",name:"onOpen",required:!1,type:{name:"((modalId: string) => void)"}},activeModal:{defaultValue:null,description:"",name:"activeModal",required:!1,type:{name:"string | null"}},onOpened:{defaultValue:null,description:"Будет вызвано при окончательном открытии активной модалки с её id",name:"onOpened",required:!1,type:{name:"((modalId: string) => void)"}},onClosed:{defaultValue:null,description:"Будет вызвано при окончательном закрытии активной модалки с её id",name:"onClosed",required:!1,type:{name:"((modalId: string) => void)"}},modalOverlayTestId:{defaultValue:null,description:"`data-testid` для маски",name:"modalOverlayTestId",required:!1,type:{name:"string"}},noFocusToDialog:{defaultValue:null,description:"Отключает фокус на контейнер диалогового окна при открытии.",name:"noFocusToDialog",required:!1,type:{name:"boolean"}},configProvider:{defaultValue:null,description:"@ignore",name:"configProvider",required:!1,type:{name:"ConfigProviderContextInterface"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/ModalRoot/ModalRoot.tsx#ModalRootTouch"]={docgenInfo:ModalRootTouch.__docgenInfo,name:"ModalRootTouch",path:"src/components/ModalRoot/ModalRoot.tsx#ModalRootTouch"})}catch(__react_docgen_typescript_loader_error){}var useObjectMemo=__webpack_require__("./src/hooks/useObjectMemo.ts"),usePrevious=__webpack_require__("./src/hooks/usePrevious.ts"),useWaitTransitionFinish=__webpack_require__("./src/hooks/useWaitTransitionFinish.ts");function ModalRootDesktop_object_without_properties(source,excluded){if(null==source)return{};var key,i,target=function ModalRootDesktop_object_without_properties_loose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}var ModalRootDesktop_warn=(0,warnOnce.m)("ModalRoot"),ModalRootDesktop=function(param){var activeModalProp=param.activeModal,children=param.children,_param_noFocusToDialog=param.noFocusToDialog,noFocusToDialog=void 0!==_param_noFocusToDialog&&_param_noFocusToDialog,onOpen=param.onOpen,onOpened=param.onOpened,onClose=param.onClose,onClosed=param.onClosed,modalOverlayTestId=param.modalOverlayTestId,maskElementRef=react.useRef(null),maskAnimationFrame=react.useRef(void 0),restoreFocusTo=react.useRef(void 0),document=(0,dom.a4)().document,_useConfigProvider=(0,ConfigProviderContext.h)(),hasCustomPanelHeaderAfter=_useConfigProvider.hasCustomPanelHeaderAfter,platform=_useConfigProvider.platform,_useModalManager=useModalManager(activeModalProp,children,onOpen,onOpened,onClose,onClosed,es6.lQ),activeModal=_useModalManager.activeModal,exitingModal=_useModalManager.exitingModal,onExit=_useModalManager.onExit,getModalState=_useModalManager.getModalState,enteringModal=_useModalManager.enteringModal,onEnter=_useModalManager.onEnter,onEnteredProp=_useModalManager.onEntered,onExited=_useModalManager.onExited,history=_useModalManager.history,delayEnter=_useModalManager.delayEnter,waitTransitionFinish=(0,useWaitTransitionFinish.h)().waitTransitionFinish,prevProps=(0,usePrevious.Z)({exitingModal,enteringModal,activeModal}),modalRootContext=(0,useObjectMemo.d)({updateModalHeight:function(){},registerModal:function(_param){var _getModalState,id=_param.id,data=ModalRootDesktop_object_without_properties(_param,["id"]);return Object.assign(null!==(_getModalState=getModalState(id))&&void 0!==_getModalState?_getModalState:{},data)},onClose:onExit,isInsideModal:!0}),timeout="ios"===platform?400:320,modals=react.Children.toArray(children),animateModalOpacity=function(modalState,display){(null==modalState?void 0:modalState.innerElement)&&(modalState.innerElement.style.transition="",modalState.innerElement.style.transitionDelay=display&&delayEnter?"".concat(timeout,"ms"):"",modalState.innerElement.style.opacity=display?"1":"0")},setMaskOpacity=function(modalState){var forceOpacity=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;null===forceOpacity&&(null==history?void 0:history[0])!==modalState.id||(maskAnimationFrame.current&&cancelAnimationFrame(maskAnimationFrame.current),maskAnimationFrame.current=requestAnimationFrame((function(){if(maskElementRef.current){var _modalState_translateY=modalState.translateY,translateY=void 0===_modalState_translateY?0:_modalState_translateY,_modalState_translateYCurrent=modalState.translateYCurrent,opacity=null===forceOpacity?1-((void 0===_modalState_translateYCurrent?0:_modalState_translateYCurrent)-translateY)/(100-translateY)||0:forceOpacity;maskElementRef.current.style.opacity=(0,math.qE)(opacity,0,100).toString()}})))},onEntered=function(param){var id=param.id,modalElement=param.modalElement;noFocusToDialog||!modalElement||modalElement.contains(document.activeElement)||modalElement.focus(),onEnteredProp(id)};return react.useEffect((function(){if(prevProps){var id,prevModalState,_document_activeElement;if(exitingModal&&exitingModal!==prevProps.exitingModal&&(prevModalState=getModalState(id=exitingModal))&&(activeModal?onExited(id):requestAnimationFrame((function(){waitTransitionFinish(null==prevModalState?void 0:prevModalState.innerElement,(function(){return onExited(id)}),timeout),animateModalOpacity(prevModalState,!1),setMaskOpacity(prevModalState,0)}))),enteringModal&&enteringModal!==prevProps.enteringModal&&function(){if(enteringModal&&prevProps){var enteringState=getModalState(enteringModal);onEnter(),prevProps.exitingModal?(requestAnimationFrame((function(){(null==enteringState?void 0:enteringState.innerElement)&&(enteringState.innerElement.style.transition="none",enteringState.innerElement.style.opacity="1",setMaskOpacity(enteringState,1))})),enteringState&&onEntered(enteringState)):requestAnimationFrame((function(){enteringModal==enteringModal&&enteringState&&(waitTransitionFinish(enteringState.innerElement,(function(){return onEntered(enteringState)}),timeout),animateModalOpacity(enteringState,!0),setMaskOpacity(enteringState,1))}))}}(),activeModal&&!prevProps.activeModal)restoreFocusTo.current=null!==(_document_activeElement=null==document?void 0:document.activeElement)&&void 0!==_document_activeElement?_document_activeElement:void 0;activeModal||exitingModal||!restoreFocusTo.current||(restoreFocusTo.current.focus(),restoreFocusTo.current=void 0)}})),activeModal||exitingModal?(0,jsx_runtime.jsx)(ModalRootContext.f.Provider,{value:modalRootContext,children:(0,jsx_runtime.jsxs)("div",{className:(0,es6.xW)(ModalRoot_ModalRoot_module.ModalRoot,hasCustomPanelHeaderAfter&&ModalRoot_ModalRoot_module["ModalRoot--hasCustomPanelHeaderAfterSlot"],ModalRoot_ModalRoot_module["ModalRoot--desktop"]),children:[(0,jsx_runtime.jsx)("div",{"data-testid":modalOverlayTestId,className:ModalRoot_ModalRoot_module.ModalRoot__mask,ref:maskElementRef,onClick:onExit}),(0,jsx_runtime.jsx)("div",{className:ModalRoot_ModalRoot_module.ModalRoot__viewport,children:modals.map((function(Modal){var modalId=(0,getNavId.p)(Modal.props,ModalRootDesktop_warn);if(modalId!==activeModal&&modalId!==exitingModal)return null;var key="modal-".concat(modalId);return(0,jsx_runtime.jsx)(FocusTrap.s,{restoreFocus:!1,onClose:onExit,timeout,className:ModalRoot_ModalRoot_module.ModalRoot__modal,children:Modal},key)}))})]})}):null};try{ModalRootDesktop.displayName="ModalRootDesktop",ModalRootDesktop.__docgenInfo={description:"",displayName:"ModalRootDesktop",props:{configProvider:{defaultValue:null,description:"@ignore",name:"configProvider",required:!1,type:{name:"ConfigProviderContextInterface"}},platform:{defaultValue:null,description:"@ignore",name:"platform",required:!1,type:{name:"enum",value:[{value:'"android"'},{value:'"ios"'},{value:'"vkcom"'}]}},activeModal:{defaultValue:null,description:"",name:"activeModal",required:!1,type:{name:"string | null"}},onOpen:{defaultValue:null,description:"Будет вызвано при начале открытия активной модалки с её id",name:"onOpen",required:!1,type:{name:"((modalId: string) => void)"}},onOpened:{defaultValue:null,description:"Будет вызвано при окончательном открытии активной модалки с её id",name:"onOpened",required:!1,type:{name:"((modalId: string) => void)"}},onClose:{defaultValue:null,description:"Будет вызвано при начале закрытия активной модалки с её id",name:"onClose",required:!1,type:{name:"((modalId: string) => void)"}},onClosed:{defaultValue:null,description:"Будет вызвано при окончательном закрытии активной модалки с её id",name:"onClosed",required:!1,type:{name:"((modalId: string) => void)"}},modalOverlayTestId:{defaultValue:null,description:"`data-testid` для маски",name:"modalOverlayTestId",required:!1,type:{name:"string"}},noFocusToDialog:{defaultValue:{value:"false"},description:"Отключает фокус на контейнер диалогового окна при открытии.",name:"noFocusToDialog",required:!1,type:{name:"boolean"}},window:{defaultValue:null,description:"@ignore",name:"window",required:!1,type:{name:"Window"}},document:{defaultValue:null,description:"@ignore",name:"document",required:!1,type:{name:"Document"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/ModalRoot/ModalRootDesktop.tsx#ModalRootDesktop"]={docgenInfo:ModalRootDesktop.__docgenInfo,name:"ModalRootDesktop",path:"src/components/ModalRoot/ModalRootDesktop.tsx#ModalRootDesktop"})}catch(__react_docgen_typescript_loader_error){}function ModalRootAdaptive_define_property(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var ModalRoot=function(props){var isDesktop=(0,useAdaptivityWithJSMediaQueries.w)().isDesktop;(0,ScrollContext.K$)(!!props.activeModal);var RootComponent=isDesktop?ModalRootDesktop:ModalRootTouch;return(0,jsx_runtime.jsx)(RootComponent,function ModalRootAdaptive_object_spread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{},ownKeys=Object.keys(source);"function"==typeof Object.getOwnPropertySymbols&&(ownKeys=ownKeys.concat(Object.getOwnPropertySymbols(source).filter((function(sym){return Object.getOwnPropertyDescriptor(source,sym).enumerable})))),ownKeys.forEach((function(key){ModalRootAdaptive_define_property(target,key,source[key])}))}return target}({},props))};try{ModalRoot.displayName="ModalRoot",ModalRoot.__docgenInfo={description:"",displayName:"ModalRoot",props:{activeModal:{defaultValue:null,description:"",name:"activeModal",required:!1,type:{name:"string | null"}},onOpen:{defaultValue:null,description:"Будет вызвано при начале открытия активной модалки с её id",name:"onOpen",required:!1,type:{name:"((modalId: string) => void)"}},onOpened:{defaultValue:null,description:"Будет вызвано при окончательном открытии активной модалки с её id",name:"onOpened",required:!1,type:{name:"((modalId: string) => void)"}},onClose:{defaultValue:null,description:"Будет вызвано при начале закрытия активной модалки с её id",name:"onClose",required:!1,type:{name:"((modalId: string) => void)"}},onClosed:{defaultValue:null,description:"Будет вызвано при окончательном закрытии активной модалки с её id",name:"onClosed",required:!1,type:{name:"((modalId: string) => void)"}},modalOverlayTestId:{defaultValue:null,description:"`data-testid` для маски",name:"modalOverlayTestId",required:!1,type:{name:"string"}},noFocusToDialog:{defaultValue:null,description:"Отключает фокус на контейнер диалогового окна при открытии.",name:"noFocusToDialog",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/ModalRoot/ModalRootAdaptive.tsx#ModalRoot"]={docgenInfo:ModalRoot.__docgenInfo,name:"ModalRoot",path:"src/components/ModalRoot/ModalRootAdaptive.tsx#ModalRoot"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/Placeholder/Placeholder.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{O:()=>Placeholder});var jsx_runtime=__webpack_require__("../../node_modules/react/jsx-runtime.js"),es6=(__webpack_require__("../../node_modules/react/index.js"),__webpack_require__("../../node_modules/@vkontakte/vkjs/lib/es6/index.js")),RootComponent=__webpack_require__("./src/components/RootComponent/RootComponent.tsx"),Headline=__webpack_require__("./src/components/Typography/Headline/Headline.tsx"),Title=__webpack_require__("./src/components/Typography/Title/Title.tsx"),injectStylesIntoStyleTag=__webpack_require__("../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),injectStylesIntoStyleTag_default=__webpack_require__.n(injectStylesIntoStyleTag),singletonStyleDomAPI=__webpack_require__("../../node_modules/style-loader/dist/runtime/singletonStyleDomAPI.js"),singletonStyleDomAPI_default=__webpack_require__.n(singletonStyleDomAPI),insertBySelector=__webpack_require__("../../node_modules/style-loader/dist/runtime/insertBySelector.js"),insertBySelector_default=__webpack_require__.n(insertBySelector),setAttributesWithAttributesAndNonce=__webpack_require__("../../node_modules/style-loader/dist/runtime/setAttributesWithAttributesAndNonce.js"),setAttributesWithAttributesAndNonce_default=__webpack_require__.n(setAttributesWithAttributesAndNonce),insertStyleElement=__webpack_require__("../../node_modules/style-loader/dist/runtime/insertStyleElement.js"),insertStyleElement_default=__webpack_require__.n(insertStyleElement),Placeholder_module=__webpack_require__("../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[14].use[1]!../../node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[14].use[2]!./src/components/Placeholder/Placeholder.module.css"),options={attributes:{class:"vkui-style"}};options.setAttributes=setAttributesWithAttributesAndNonce_default(),options.insert=insertBySelector_default().bind(null,"head"),options.domAPI=singletonStyleDomAPI_default(),options.insertStyleElement=insertStyleElement_default();injectStylesIntoStyleTag_default()(Placeholder_module.A,options);const Placeholder_Placeholder_module=Placeholder_module.A&&Placeholder_module.A.locals?Placeholder_module.A.locals:void 0;function _define_property(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _object_spread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{},ownKeys=Object.keys(source);"function"==typeof Object.getOwnPropertySymbols&&(ownKeys=ownKeys.concat(Object.getOwnPropertySymbols(source).filter((function(sym){return Object.getOwnPropertyDescriptor(source,sym).enumerable})))),ownKeys.forEach((function(key){_define_property(target,key,source[key])}))}return target}function _object_spread_props(target,source){return source=null!=source?source:{},Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))})),target}function _object_without_properties(source,excluded){if(null==source)return{};var key,i,target=function _object_without_properties_loose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}var PlaceholderContainer=function(_param){var stretched=_param.stretched,_param_noPadding=_param.noPadding,noPadding=void 0!==_param_noPadding&&_param_noPadding,restProps=_object_without_properties(_param,["stretched","noPadding"]);return(0,jsx_runtime.jsx)(RootComponent.I,_object_spread({baseClassName:(0,es6.xW)(Placeholder_Placeholder_module.Placeholder,stretched&&Placeholder_Placeholder_module["Placeholder--stretched"],!noPadding&&Placeholder_Placeholder_module["Placeholder--withPadding"])},restProps))},PlaceholderIcon=function(props){return(0,jsx_runtime.jsx)(RootComponent.I,_object_spread({baseClassName:Placeholder_Placeholder_module.Placeholder__icon},props))},PlaceholderHeader=function(_param){var className=_param.className,restProps=_object_without_properties(_param,["className"]);return(0,jsx_runtime.jsx)(Title.h,_object_spread({level:"2",weight:"2",className:(0,es6.xW)(className,Placeholder_Placeholder_module.Placeholder__header)},restProps))},PlaceholderText=function(_param){var className=_param.className,restProps=_object_without_properties(_param,["className"]);return(0,jsx_runtime.jsx)(Headline.$,_object_spread({weight:"3",className:(0,es6.xW)(className,Placeholder_Placeholder_module.Placeholder__text)},restProps))},PlaceholderActions=function(props){return(0,jsx_runtime.jsx)(RootComponent.I,_object_spread({baseClassName:Placeholder_Placeholder_module.Placeholder__action},props))},Placeholder=function(_param){var icon=_param.icon,header=_param.header,children=_param.children,action=_param.action,_param_noPadding=_param.noPadding,noPadding=void 0!==_param_noPadding&&_param_noPadding,restProps=_object_without_properties(_param,["icon","header","children","action","noPadding"]);return(0,jsx_runtime.jsxs)(PlaceholderContainer,_object_spread_props(_object_spread({noPadding},restProps),{children:[(0,es6.G1)(icon)&&(0,jsx_runtime.jsx)(PlaceholderIcon,{children:icon}),(0,es6.G1)(header)&&(0,jsx_runtime.jsx)(PlaceholderHeader,{children:header}),(0,es6.G1)(children)&&(0,jsx_runtime.jsx)(PlaceholderText,{children}),(0,es6.G1)(action)&&(0,jsx_runtime.jsx)(PlaceholderActions,{children:action})]}))};Placeholder.Container=PlaceholderContainer,Placeholder.Icon=PlaceholderIcon,Placeholder.Header=PlaceholderHeader,Placeholder.Text=PlaceholderText,Placeholder.Actions=PlaceholderActions;try{Placeholder.displayName="Placeholder",Placeholder.__docgenInfo={description:"",displayName:"Placeholder",props:{icon:{defaultValue:null,description:"Иконка",name:"icon",required:!1,type:{name:"ReactNode"}},header:{defaultValue:null,description:"Заголовок плейсхолдера",name:"header",required:!1,type:{name:"ReactNode"}},action:{defaultValue:null,description:"Кнопка действия",name:"action",required:!1,type:{name:"ReactNode"}},stretched:{defaultValue:null,description:"Растягивает плейсхолдер на весь экран, но в таком случае на экране должен быть только плейсхолдер",name:"stretched",required:!1,type:{name:"boolean"}},noPadding:{defaultValue:{value:"false"},description:"Убирает отступы у компонента",name:"noPadding",required:!1,type:{name:"boolean"}},getRootRef:{defaultValue:null,description:"",name:"getRootRef",required:!1,type:{name:"Ref<HTMLDivElement>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Placeholder/Placeholder.tsx#Placeholder"]={docgenInfo:Placeholder.__docgenInfo,name:"Placeholder",path:"src/components/Placeholder/Placeholder.tsx#Placeholder"})}catch(__react_docgen_typescript_loader_error){}try{Container.displayName="Placeholder.Container",Container.__docgenInfo={description:"",displayName:"Placeholder.Container",props:{stretched:{defaultValue:null,description:"Растягивает плейсхолдер на весь экран, но в таком случае на экране должен быть только плейсхолдер",name:"stretched",required:!1,type:{name:"boolean"}},noPadding:{defaultValue:{value:"false"},description:"Убирает отступы у компонента",name:"noPadding",required:!1,type:{name:"boolean"}},getRootRef:{defaultValue:null,description:"",name:"getRootRef",required:!1,type:{name:"Ref<HTMLDivElement>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Placeholder/Placeholder.tsx#Placeholder.Container"]={docgenInfo:Placeholder.Container.__docgenInfo,name:"Placeholder.Container",path:"src/components/Placeholder/Placeholder.tsx#Placeholder.Container"})}catch(__react_docgen_typescript_loader_error){}try{Icon.displayName="Placeholder.Icon",Icon.__docgenInfo={description:"",displayName:"Placeholder.Icon",props:{getRootRef:{defaultValue:null,description:"",name:"getRootRef",required:!1,type:{name:"Ref<HTMLDivElement>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Placeholder/Placeholder.tsx#Placeholder.Icon"]={docgenInfo:Placeholder.Icon.__docgenInfo,name:"Placeholder.Icon",path:"src/components/Placeholder/Placeholder.tsx#Placeholder.Icon"})}catch(__react_docgen_typescript_loader_error){}try{Header.displayName="Placeholder.Header",Header.__docgenInfo={description:"",displayName:"Placeholder.Header",props:{getRootRef:{defaultValue:null,description:"",name:"getRootRef",required:!1,type:{name:"Ref<HTMLElement>"}},Component:{defaultValue:null,description:"",name:"Component",required:!1,type:{name:"ElementType<any, keyof IntrinsicElements>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Placeholder/Placeholder.tsx#Placeholder.Header"]={docgenInfo:Placeholder.Header.__docgenInfo,name:"Placeholder.Header",path:"src/components/Placeholder/Placeholder.tsx#Placeholder.Header"})}catch(__react_docgen_typescript_loader_error){}try{Text.displayName="Placeholder.Text",Text.__docgenInfo={description:"",displayName:"Placeholder.Text",props:{getRootRef:{defaultValue:null,description:"",name:"getRootRef",required:!1,type:{name:"Ref<HTMLElement>"}},Component:{defaultValue:null,description:"",name:"Component",required:!1,type:{name:"ElementType<any, keyof IntrinsicElements>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Placeholder/Placeholder.tsx#Placeholder.Text"]={docgenInfo:Placeholder.Text.__docgenInfo,name:"Placeholder.Text",path:"src/components/Placeholder/Placeholder.tsx#Placeholder.Text"})}catch(__react_docgen_typescript_loader_error){}try{Actions.displayName="Placeholder.Actions",Actions.__docgenInfo={description:"",displayName:"Placeholder.Actions",props:{getRootRef:{defaultValue:null,description:"",name:"getRootRef",required:!1,type:{name:"Ref<HTMLDivElement>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Placeholder/Placeholder.tsx#Placeholder.Actions"]={docgenInfo:Placeholder.Actions.__docgenInfo,name:"Placeholder.Actions",path:"src/components/Placeholder/Placeholder.tsx#Placeholder.Actions"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/Touch/TouchContext.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__=__webpack_require__("../../node_modules/react/index.js").createContext(!1)},"./src/hooks/useAdaptivityWithJSMediaQueries.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{w:()=>useAdaptivityWithJSMediaQueries});var react=__webpack_require__("../../node_modules/react/index.js"),es6=__webpack_require__("../../node_modules/@vkontakte/vkjs/lib/es6/index.js"),AdaptivityContext=__webpack_require__("./src/components/AdaptivityProvider/AdaptivityContext.tsx");function getOrDefault(value,defaultValue){return null!=value?value:defaultValue}var functions=__webpack_require__("./src/lib/adaptivity/functions.ts"),matchMedia=__webpack_require__("./src/lib/matchMedia.ts"),useMediaQueries=__webpack_require__("./src/hooks/useMediaQueries.ts"),usePlatform=__webpack_require__("./src/hooks/usePlatform.ts");function _array_like_to_array(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _sliced_to_array(arr,i){return function _array_with_holes(arr){if(Array.isArray(arr))return arr}(arr)||function _iterable_to_array_limit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null!=_i){var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}}(arr,i)||function _unsupported_iterable_to_array(o,minLen){if(!o)return;if("string"==typeof o)return _array_like_to_array(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _array_like_to_array(o,minLen)}(arr,i)||function _non_iterable_rest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var useAdaptivityWithJSMediaQueries=function(){es6.Sw||console.error("[useAdaptivityWithJSMediaQueries] Похоже, вы пытаетесь использовать хук вне браузера.\n\nПостарайтесь этого избегать, чтобы не было ошибок при гидратации: при SSR нет информации о размерах экрана.\n\nИспользуйте CSS Media Query или библиотеку по типу https://github.com/artsy/fresnel.");var _React_useContext=react.useContext(AdaptivityContext.D),viewWidthContext=_React_useContext.viewWidth,viewHeightContext=_React_useContext.viewHeight,sizeXContext=_React_useContext.sizeX,sizeYContext=_React_useContext.sizeY,hasPointerContext=_React_useContext.hasPointer,hasHoverContext=_React_useContext.hasHover,platform=(0,usePlatform.V)(),mediaQueries=(0,useMediaQueries.e)(),_React_useState=_sliced_to_array(react.useState((function(){return[getOrDefault(viewWidthContext,(0,functions.z6)(mediaQueries)),getOrDefault(viewHeightContext,(0,functions.EL)(mediaQueries))]})),2),_React_useState_=_sliced_to_array(_React_useState[0],2),viewWidthLocal=_React_useState_[0],viewHeightLocal=_React_useState_[1],setViewSizeLocal=_React_useState[1],adaptivityProps=react.useMemo((function(){var hasPointer=getOrDefault(hasPointerContext,es6.Wt),hasHover=getOrDefault(hasHoverContext,es6.pp),viewWidth=getOrDefault(viewWidthContext,viewWidthLocal),viewHeight=getOrDefault(viewHeightContext,viewHeightLocal);return{viewWidth,viewHeight,sizeX:getOrDefault(sizeXContext,(0,functions.Io)(viewWidth)),sizeY:getOrDefault(sizeYContext,(0,functions.BM)(viewWidth,viewHeight,hasPointer)),hasPointer,hasHover,isDesktop:(0,functions.RL)(viewWidth,viewHeight,hasPointer,platform)}}),[viewWidthLocal,viewHeightLocal,viewWidthContext,viewHeightContext,sizeXContext,sizeYContext,hasPointerContext,hasHoverContext,platform]);return react.useEffect((function(){var handleMediaQuery=function(){setViewSizeLocal((function(prevSizeLocal){var newViewWidthLocal=getOrDefault(viewWidthContext,(0,functions.z6)(mediaQueries)),newViewHeightLocal=getOrDefault(viewHeightContext,(0,functions.EL)(mediaQueries)),_prevSizeLocal=_sliced_to_array(prevSizeLocal,2),prevViewWidthLocal=_prevSizeLocal[0],prevViewHeightLocal=_prevSizeLocal[1];return prevViewWidthLocal!==newViewWidthLocal||prevViewHeightLocal!==newViewHeightLocal?[newViewWidthLocal,newViewHeightLocal]:prevSizeLocal}))};return viewWidthContext||[mediaQueries.desktopPlus,mediaQueries.tablet,mediaQueries.smallTablet,mediaQueries.mobile].forEach((function(matchMediaListener){return(0,matchMedia.d)(matchMediaListener,handleMediaQuery)})),viewHeightContext||[mediaQueries.mediumHeight,mediaQueries.mobileLandscapeHeight].forEach((function(matchMediaListener){return(0,matchMedia.d)(matchMediaListener,handleMediaQuery)})),function(){[mediaQueries.desktopPlus,mediaQueries.tablet,mediaQueries.smallTablet,mediaQueries.mobile,mediaQueries.mediumHeight,mediaQueries.mobileLandscapeHeight].forEach((function(matchMediaListener){return(0,matchMedia.Q)(matchMediaListener,handleMediaQuery)}))}}),[mediaQueries,viewWidthContext,viewHeightContext]),adaptivityProps}},"../../node_modules/@vkontakte/icons/dist/es6/20/cancel_20.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Y:()=>Icon20Cancel});var Icon20Cancel=(0,__webpack_require__("../../node_modules/@vkontakte/icons-sprite/dist/index.js").mT)("Icon20Cancel","cancel_20","0 0 20 20",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 20 20" id="cancel_20"><path fill="currentColor" fill-rule="evenodd" d="M4.72 4.72a.75.75 0 0 1 1.06 0L10 8.94l4.22-4.22a.75.75 0 1 1 1.06 1.06L11.06 10l4.22 4.22a.75.75 0 1 1-1.06 1.06L10 11.06l-4.22 4.22a.75.75 0 0 1-1.06-1.06L8.94 10 4.72 5.78a.75.75 0 0 1 0-1.06" clip-rule="evenodd" /></symbol>',20,20,!1,void 0)},"../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[14].use[1]!../../node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[14].use[2]!./src/components/ModalDismissButton/ModalDismissButton.module.css":(module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/css-loader/dist/runtime/sourceMaps.js"),_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__),_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/css-loader/dist/runtime/api.js"),___CSS_LOADER_EXPORT___=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__)()(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default());___CSS_LOADER_EXPORT___.push([module.id,'.ModalDismissButton--wR4Ll{block-size:56px;box-sizing:border-box;color:var(--vkui--color_icon_contrast);inline-size:56px;inset-block-start:0;inset-inline-end:-56px;justify-content:center;padding:18px;position:absolute;transition:opacity .15s ease-out}.ModalDismissButton--wR4Ll:before{background:var(--vkui--color_overlay_primary);border-radius:50%;content:"";display:block;inset:14px;position:absolute}.ModalDismissButton--wR4Ll .vkuiIcon{transform:translateX(0)}.ModalDismissButton--hover--NGjCj.ModalDismissButton--wR4Ll:before{background:var(--vkui--color_overlay_primary--hover)}.ModalDismissButton--active--fSG9o.ModalDismissButton--wR4Ll:before{background:var(--vkui--color_overlay_primary--active)}',"",{version:3,sources:["webpack://./src/components/ModalDismissButton/ModalDismissButton.module.css"],names:[],mappings:"AAAA,2BAME,eAAgB,CAEhB,qBAAsB,CACtB,sCAAuC,CAJvC,gBAAiB,CAFjB,mBAAoB,CACpB,sBAAuB,CAFvB,sBAAuB,CAKvB,YAAa,CANb,iBAAkB,CASlB,gCACF,CAEA,kCAIE,6CAA8C,CAC9C,iBAAkB,CAHlB,UAAW,CADX,aAAc,CAEd,UAAW,CAGX,iBACF,CAGA,qCACE,uBACF,CAEA,mEACE,oDACF,CAEA,oEACE,qDACF",sourcesContent:[".ModalDismissButton {\n  position: absolute;\n  justify-content: center;\n  inset-block-start: 0;\n  inset-inline-end: -56px;\n  inline-size: 56px;\n  block-size: 56px;\n  padding: 18px;\n  box-sizing: border-box;\n  color: var(--vkui--color_icon_contrast);\n  transition: opacity 0.15s ease-out;\n}\n\n.ModalDismissButton::before {\n  display: block;\n  content: '';\n  inset: 14px;\n  background: var(--vkui--color_overlay_primary);\n  border-radius: 50%;\n  position: absolute;\n}\n\n/* stylelint-disable-next-line selector-pseudo-class-disallowed-list -- fixes icon misplacement on Safari in some cases */\n.ModalDismissButton :global(.vkuiIcon) {\n  transform: translateX(0);\n}\n\n.ModalDismissButton--hover.ModalDismissButton::before {\n  background: var(--vkui--color_overlay_primary--hover);\n}\n\n.ModalDismissButton--active.ModalDismissButton::before {\n  background: var(--vkui--color_overlay_primary--active);\n}\n"],sourceRoot:""}]),___CSS_LOADER_EXPORT___.locals={ModalDismissButton:"ModalDismissButton--wR4Ll","ModalDismissButton--hover":"ModalDismissButton--hover--NGjCj","ModalDismissButton--active":"ModalDismissButton--active--fSG9o"};const __WEBPACK_DEFAULT_EXPORT__=___CSS_LOADER_EXPORT___},"../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[14].use[1]!../../node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[14].use[2]!./src/components/ModalRoot/ModalRoot.module.css":(module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/css-loader/dist/runtime/sourceMaps.js"),_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__),_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/css-loader/dist/runtime/api.js"),___CSS_LOADER_EXPORT___=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__)()(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default());___CSS_LOADER_EXPORT___.push([module.id,".ModalRoot--YulRP,.ModalRoot__mask--_VotF{block-size:100%;inline-size:100%}.ModalRoot__mask--_VotF{animation:animation-fade-in--AVtO_ .32s ease;background:rgba(0,0,0,.4);inset-block-start:0;inset-inline-start:0;opacity:1;position:absolute;transition:opacity 167ms ease-out;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.ModalRoot--touched--z3J8A .ModalRoot__mask--_VotF{transition:none}.ModalRoot--switching--AZk_F .ModalRoot__mask--_VotF{pointer-events:none}.ModalRoot__viewport--h9Qpt{inset:0;pointer-events:none;position:absolute}:not(.ModalRoot--desktop--Y5IrY).ModalRoot--YulRP .ModalRoot__viewport--h9Qpt{inset-block-start:var(--vkui_internal--safe_area_inset_top)}:not(.ModalRoot--desktop--Y5IrY).ModalRoot--hasCustomPanelHeaderAfterSlot--ys0K2 .ModalRoot__viewport--h9Qpt{inset-block-start:calc(var(--vkui_internal--safe_area_inset_top) + var(--vkui_internal--panel_header_height))}.ModalRoot__modal--wfUdy{block-size:100%;box-sizing:border-box;inline-size:100%;position:absolute}@keyframes animation-fade-in--AVtO_{0%{opacity:0}to{opacity:1}}","",{version:3,sources:["webpack://./src/components/ModalRoot/ModalRoot.module.css"],names:[],mappings:"AAKA,0CAHE,eAAgB,CADhB,gBAeF,CAXA,wBAUE,4CAAuC,CAHvC,yBAA8B,CAD9B,mBAAoB,CADpB,oBAAqB,CAJrB,SAAU,CAGV,iBAAkB,CAKlB,iCAAkC,CADlC,wBAAiB,CAAjB,qBAAiB,CAAjB,oBAAiB,CAAjB,gBAGF,CAEA,mDACE,eACF,CAEA,qDAEE,mBACF,CAEA,4BAEE,OAAQ,CACR,mBAAoB,CAFpB,iBAGF,CAEA,8EACE,2DACF,CAEA,6GACE,6GAGF,CAEA,yBAGE,eAAgB,CAChB,qBAAsB,CAFtB,gBAAiB,CADjB,iBAIF,CAEA,oCACE,GACE,SACF,CAEA,GACE,SACF,CACF",sourcesContent:[".ModalRoot {\n  inline-size: 100%;\n  block-size: 100%;\n}\n\n.ModalRoot__mask {\n  opacity: 1;\n  inline-size: 100%;\n  block-size: 100%;\n  position: absolute;\n  inset-inline-start: 0;\n  inset-block-start: 0;\n  background: rgba(0, 0, 0, 0.4);\n  user-select: none;\n  transition: opacity 167ms ease-out;\n  animation: animation-fade-in 0.32s ease;\n}\n\n.ModalRoot--touched .ModalRoot__mask {\n  transition: none;\n}\n\n.ModalRoot--switching .ModalRoot__mask {\n  /** Во время автоматической анимации смены модалок с фоном взаимодействовать нельзя */\n  pointer-events: none;\n}\n\n.ModalRoot__viewport {\n  position: absolute;\n  inset: 0;\n  pointer-events: none;\n}\n\n:not(.ModalRoot--desktop).ModalRoot .ModalRoot__viewport {\n  inset-block-start: var(--vkui_internal--safe_area_inset_top);\n}\n\n:not(.ModalRoot--desktop).ModalRoot--hasCustomPanelHeaderAfterSlot .ModalRoot__viewport {\n  inset-block-start: calc(\n    var(--vkui_internal--safe_area_inset_top) + var(--vkui_internal--panel_header_height)\n  );\n}\n\n.ModalRoot__modal {\n  position: absolute;\n  inline-size: 100%;\n  block-size: 100%;\n  box-sizing: border-box;\n}\n\n@keyframes animation-fade-in {\n  from {\n    opacity: 0;\n  }\n\n  to {\n    opacity: 1;\n  }\n}\n"],sourceRoot:""}]),___CSS_LOADER_EXPORT___.locals={ModalRoot:"ModalRoot--YulRP",ModalRoot__mask:"ModalRoot__mask--_VotF","animation-fade-in":"animation-fade-in--AVtO_","ModalRoot--touched":"ModalRoot--touched--z3J8A","ModalRoot--switching":"ModalRoot--switching--AZk_F",ModalRoot__viewport:"ModalRoot__viewport--h9Qpt","ModalRoot--desktop":"ModalRoot--desktop--Y5IrY","ModalRoot--hasCustomPanelHeaderAfterSlot":"ModalRoot--hasCustomPanelHeaderAfterSlot--ys0K2",ModalRoot__modal:"ModalRoot__modal--wfUdy"};const __WEBPACK_DEFAULT_EXPORT__=___CSS_LOADER_EXPORT___},"../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[14].use[1]!../../node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[14].use[2]!./src/components/Placeholder/Placeholder.module.css":(module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/css-loader/dist/runtime/sourceMaps.js"),_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__),_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/css-loader/dist/runtime/api.js"),___CSS_LOADER_EXPORT___=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__)()(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default());___CSS_LOADER_EXPORT___.push([module.id,".Placeholder--QT9fK{align-items:center;box-sizing:border-box;display:flex;flex-direction:column;justify-content:center;text-align:center}.Placeholder--withPadding--U9MOX{padding-block:48px;padding-inline:32px}.Placeholder--stretched--t1fH0{block-size:100%;flex:1 0;padding-block:inherit}.Placeholder__icon--if6hr{-webkit-margin-after:12px;color:var(--vkui--color_icon_secondary);display:inline-block;margin-block-end:12px;vertical-align:top}.Placeholder__header--WnYo4{color:var(--vkui--color_text_primary)}.Placeholder__text--V1RgX{color:var(--vkui--color_text_secondary)}.Placeholder__header--WnYo4+.Placeholder__text--V1RgX{-webkit-margin-before:8px;margin-block-start:8px}.Placeholder__action--iajYO:not(:first-child){-webkit-margin-before:16px;margin-block-start:16px}","",{version:3,sources:["webpack://./src/components/Placeholder/Placeholder.module.css"],names:[],mappings:"AAAA,oBAEE,kBAAmB,CAInB,qBAAsB,CALtB,YAAa,CAGb,qBAAsB,CADtB,sBAAuB,CAEvB,iBAEF,CAEA,iCACE,kBAAmB,CACnB,mBACF,CAEA,+BAGE,eAAgB,CAFhB,QAAS,CACT,qBAEF,CAEA,0BACE,yBAAsB,CAGtB,uCAAwC,CAFxC,oBAAqB,CADrB,qBAAsB,CAEtB,kBAEF,CAEA,4BACE,qCACF,CAEA,0BACE,uCACF,CAEA,sDACE,yBAAuB,CAAvB,sBACF,CAEA,8CACE,0BAAwB,CAAxB,uBACF",sourcesContent:[".Placeholder {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-direction: column;\n  text-align: center;\n  box-sizing: border-box;\n}\n\n.Placeholder--withPadding {\n  padding-block: 48px;\n  padding-inline: 32px;\n}\n\n.Placeholder--stretched {\n  flex: 1 0;\n  padding-block: inherit;\n  block-size: 100%;\n}\n\n.Placeholder__icon {\n  margin-block-end: 12px;\n  display: inline-block;\n  vertical-align: top;\n  color: var(--vkui--color_icon_secondary);\n}\n\n.Placeholder__header {\n  color: var(--vkui--color_text_primary);\n}\n\n.Placeholder__text {\n  color: var(--vkui--color_text_secondary);\n}\n\n.Placeholder__header + .Placeholder__text {\n  margin-block-start: 8px;\n}\n\n.Placeholder__action:not(:first-child) {\n  margin-block-start: 16px;\n}\n"],sourceRoot:""}]),___CSS_LOADER_EXPORT___.locals={Placeholder:"Placeholder--QT9fK","Placeholder--withPadding":"Placeholder--withPadding--U9MOX","Placeholder--stretched":"Placeholder--stretched--t1fH0",Placeholder__icon:"Placeholder__icon--if6hr",Placeholder__header:"Placeholder__header--WnYo4",Placeholder__text:"Placeholder__text--V1RgX",Placeholder__action:"Placeholder__action--iajYO"};const __WEBPACK_DEFAULT_EXPORT__=___CSS_LOADER_EXPORT___}}]);