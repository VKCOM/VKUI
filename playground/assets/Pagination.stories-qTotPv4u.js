import{r as E,as as Y,j as t,i as S,g as h,T as O,R as Z}from"./iframe-DP0c1f9Y.js";import{D as u4,C as e4}from"./constants-DdkjnEgz.js";import{c as t4}from"./createStoryParameters-CcwS40kl.js";import{u as a4}from"./useCustomArgs-CdkvlwkJ.js";import{u as n4}from"./useConfigDirection-BNkwGAZM.js";import{r as v}from"./range-rFhSCI5u.js";import{V as D}from"./VisuallyHidden-CsBByQHJ.js";import{B as i4}from"./Button-DYe3R3CT.js";import{T as s4}from"./Tappable-B2ZLiGfg.js";import{I as M}from"./chevron_compact_right_24-DRgaqZzi.js";import{I as H}from"./chevron_compact_left_24-xieOcwrf.js";const r4=({currentPage:u=1,siblingCount:a=1,boundaryCount:e=1,totalPages:n=1}={})=>E.useMemo(()=>{const s=v(1,Math.min(e,n)),o=v(Math.max(n-e+1,e+1),n),g=n-e-1-2*a,p=Y(u-a,e+2,g),m=e+2+2*a,c=Math.min(Math.max(u+a,m),o.length>0?o[0]-2:n-1),r=s;return p>e+2?r.push("start-ellipsis"):e+1<n-e&&r.push(e+1),r.push(...v(p,c)),c<n-e-1?r.push("end-ellipsis"):n-e>e&&r.push(n-e),r.push(...o),r},[u,n,a,e]),o4=u=>{const a=u.style!=="caption"?t.jsxs(t.Fragment,{children:[t.jsx(D,{children:u.a11yLabel}),t.jsx(u.Icon,{})]}):null,e=u.style==="caption"?t.jsxs(t.Fragment,{children:[t.jsx(D,{children:u.a11yLabel}),t.jsx("span",{"aria-hidden":"true",children:u.caption})]}):u.style!=="icon"?t.jsx("span",{"aria-hidden":"true",children:u.caption}):null;return{size:"l",before:u.type==="prev"?a:null,after:u.type==="next"?a:null,appearance:u.style==="caption"?"neutral":"accent",mode:"tertiary",disabled:u.disabled,onClick:u.onClick,children:e,"data-page":u["data-page"],"data-testid":u["data-testid"]}},F=({renderNavigationButton:u,...a})=>{const e=o4(a);return typeof u=="function"?u(e):t.jsx(i4,{...e})};try{F.displayName="PaginationNavigationButton",F.__docgenInfo={description:"",displayName:"PaginationNavigationButton",props:{renderNavigationButton:{defaultValue:null,description:"",name:"renderNavigationButton",required:!1,type:{name:"((props: ButtonProps & { 'data-page': number; 'data-testid': string; }) => ReactNode) | undefined"}},type:{defaultValue:null,description:"",name:"type",required:!0,type:{name:"enum",value:[{value:'"next"'},{value:'"prev"'}]}},style:{defaultValue:null,description:"",name:"style",required:!0,type:{name:"enum",value:[{value:'"both"'},{value:'"caption"'},{value:'"icon"'}]}},caption:{defaultValue:null,description:"",name:"caption",required:!0,type:{name:"ReactNode"}},Icon:{defaultValue:null,description:"",name:"Icon",required:!0,type:{name:"ComponentType<{}>"}},a11yLabel:{defaultValue:null,description:"",name:"a11yLabel",required:!0,type:{name:"ReactNode"}},disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}},onClick:{defaultValue:null,description:"",name:"onClick",required:!0,type:{name:"(event: MouseEvent<HTMLElement, MouseEvent>) => void"}},"data-page":{defaultValue:null,description:"",name:"data-page",required:!0,type:{name:"number | undefined"}},"data-testid":{defaultValue:null,description:"",name:"data-testid",required:!0,type:{name:"string | undefined"}}}}}catch{}const l4="_host_6ajpo_2",d4="_stateHover_6ajpo_17",p4="_stateActive_6ajpo_21",c4="_current_6ajpo_22",m4="_disabled_6ajpo_27",E4="_densityCompact_6ajpo_31",g4="_densityNone_6ajpo_37",B4="_typeEllipsis_6ajpo_43",d={host:l4,stateHover:d4,stateActive:p4,current:c4,disabled:m4,densityCompact:E4,densityNone:g4,typeEllipsis:B4},w=u=>h(d.host,u.density==null&&d.densityNone,u.density==="compact"&&d.densityCompact,u.isCurrent&&d.current,u.disabled&&d.disabled);function f4({isCurrent:u,disabled:a}){const{density:e}=S();return w({isCurrent:u,disabled:a,density:e})}const y4=u=>{const{isCurrent:a=!1,getPageLabel:e,children:n,className:s,disabled:o,density:g,...p}=u,m=w({isCurrent:a,disabled:o,density:g}),c=e?.(a);return{className:h(m,s),activeMode:d.stateActive,hoverMode:d.stateHover,focusVisibleMode:"outside","aria-current":a?!0:void 0,disabled:o,children:t.jsxs(O,{normalize:!1,children:[c&&t.jsxs(D,{children:[c," "]}),n]}),"data-page":n,...p}},_=({renderPageButton:u,...a})=>{const e=y4(a);return typeof u=="function"?u(e):t.jsx(s4,{...e})};try{_.displayName="PaginationPageButton",_.__docgenInfo={description:"",displayName:"PaginationPageButton",props:{renderPageButton:{defaultValue:null,description:"",name:"renderPageButton",required:!1,type:{name:"((props: TappableOmitProps & { 'data-page': number; }) => ReactNode)"}},isCurrent:{defaultValue:null,description:"",name:"isCurrent",required:!1,type:{name:"boolean"}},density:{defaultValue:null,description:"",name:"density",required:!1,type:{name:"enum",value:[{value:'"compact"'},{value:'"regular"'}]}},getPageLabel:{defaultValue:null,description:`[a11y] Функция для переопределения и/или локализации метки кнопки страницы.

> Note: По возможности лучше не использовать,
так как компонент и так проставляет номер страницы в разметку,
что достаточно для пользователей скринридеров.
Дополнительная информация скорее будет избыточна,
так как будет зачитываться для каждой кнопки при перемещении по списку.`,name:"getPageLabel",required:!1,type:{name:"((isCurrent: boolean) => string)"}}}}}catch{}const P=({className:u,disabled:a,...e})=>{const n=f4({isCurrent:!1,disabled:a});return t.jsx(O,{className:h(n,d.typeEllipsis,u),...e,children:"…"})};try{P.displayName="PaginationPageEllipsis",P.__docgenInfo={description:"",displayName:"PaginationPageEllipsis",props:{disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}},getRootRef:{defaultValue:null,description:"",name:"getRootRef",required:!1,type:{name:"Ref<HTMLSpanElement>"}}}}}catch{}const A4="_list_sb96v_1",D4="_prevButtonContainer_sb96v_8",F4="_nextButtonContainer_sb96v_12",b={list:A4,prevButtonContainer:D4,nextButtonContainer:F4},C=({currentPage:u=1,siblingCount:a=1,boundaryCount:e=1,totalPages:n=1,disabled:s,prevButtonCaption:o="Назад",nextButtonCaption:g="Вперёд",navigationButtonsStyle:p="icon",getPageLabel:m,navigationLabel:c="Страницы",navigationLabelComponent:r="h2",prevButtonLabel:z="Перейти на предыдущую страницу",nextButtonLabel:W="Перейти на следующую страницу",onChange:l,renderPageButton:x,pageButtonTestId:N,prevButtonTestId:$,nextButtonTestId:G,renderNavigationButton:V,...J})=>{const j=n4()==="rtl",K=r4({currentPage:u,totalPages:n,siblingCount:a,boundaryCount:e}),q=u===1,L=u===n,f=q?void 0:u-1,y=L?void 0:u+1,Q=E.useCallback(i=>{l&&f!==void 0&&l(f,i)},[f,l]),I=E.useCallback(i=>{const A=i.currentTarget.dataset.page||"1";l?.(Number(A),i)},[l]),U=E.useCallback(i=>{l&&y!==void 0&&l(y,i)},[y,l]),{density:R}=S(),X=E.useCallback(i=>{const A=i===u,k=N?.(i,A);switch(i){case"start-ellipsis":case"end-ellipsis":return t.jsx("li",{children:t.jsx(P,{disabled:s,"data-testid":k})},i);default:return t.jsx("li",{children:t.jsx(_,{getPageLabel:m,isCurrent:A,onClick:I,disabled:s,density:R,renderPageButton:x,"data-testid":k,children:i})},i)}},[u,s,m,I,x,R,N]),T=E.useId();return t.jsxs(Z,{Component:"nav",role:"navigation","aria-labelledby":T,...J,children:[t.jsx(D,{id:T,Component:r,children:c}),t.jsxs("ul",{className:b.list,children:[t.jsx("li",{className:b.prevButtonContainer,children:t.jsx(F,{type:"prev",style:p,caption:o,Icon:j?M:H,a11yLabel:z,disabled:q||s,onClick:Q,"data-page":f,"data-testid":$,renderNavigationButton:V})}),K.map(X),t.jsx("li",{className:b.nextButtonContainer,children:t.jsx(F,{type:"next",style:p,caption:g,Icon:j?H:M,a11yLabel:W,disabled:L||s,onClick:U,"data-page":y,"data-testid":G,renderNavigationButton:V})})]})]})};try{C.displayName="Pagination",C.__docgenInfo={description:"",displayName:"Pagination",props:{currentPage:{defaultValue:{value:"1"},description:"Текущая страница.",name:"currentPage",required:!1,type:{name:"number"}},siblingCount:{defaultValue:{value:"1"},description:"Кол-во всегда видимых страниц по краям текущей страницы.",name:"siblingCount",required:!1,type:{name:"number"}},boundaryCount:{defaultValue:{value:"1"},description:"Кол-во всегда видимых страниц в начале и в конце.",name:"boundaryCount",required:!1,type:{name:"number"}},totalPages:{defaultValue:{value:"1"},description:"Общее кол-во страниц.",name:"totalPages",required:!1,type:{name:"number"}},disabled:{defaultValue:null,description:"Блокировка взаимодействия с компонентом.",name:"disabled",required:!1,type:{name:"boolean"}},prevButtonCaption:{defaultValue:{value:"Назад"},description:"Декоративный текст для кнопки навигации назад.\n\n> Note: Экранные дикторы будут использовать `prevButtonLabel`.",name:"prevButtonCaption",required:!1,type:{name:"string"}},nextButtonCaption:{defaultValue:{value:"Вперёд"},description:"Декоративный текст для кнопки навигации вперёд.\n\n> Note: Экранные дикторы будут использовать `nextButtonLabel`.",name:"nextButtonCaption",required:!1,type:{name:"string"}},navigationButtonsStyle:{defaultValue:{value:"icon"},description:"Задаёт стиль отображения кнопок навигации.\n\n- `icon` – показывать только иконку;\n- `caption` – показывать только подпись;\n- `both` – показывать и иконку, и подпись.",name:"navigationButtonsStyle",required:!1,type:{name:"enum",value:[{value:'"both"'},{value:'"caption"'},{value:'"icon"'}]}},navigationLabel:{defaultValue:{value:"Страницы"},description:"[a11y] Метка для обозначения блока навигации.",name:"navigationLabel",required:!1,type:{name:"string"}},navigationLabelComponent:{defaultValue:{value:"h2"},description:"Тип элемента отрисовки блока навигации.",name:"navigationLabelComponent",required:!1,type:{name:"ElementType<any, keyof IntrinsicElements>"}},prevButtonLabel:{defaultValue:{value:"Перейти на предыдущую страницу"},description:"[a11y] Метка для кнопки навигации назад.",name:"prevButtonLabel",required:!1,type:{name:"string"}},nextButtonLabel:{defaultValue:{value:"Перейти на следующую страницу"},description:"[a11y] Метка для кнопки навигации вперёд.",name:"nextButtonLabel",required:!1,type:{name:"string"}},getPageLabel:{defaultValue:null,description:`[a11y] Функция для переопределения и/или локализации метки кнопки страницы.

> Note: По возможности лучше не использовать,
так как компонент и так проставляет номер страницы в разметку,
что достаточно для пользователей скринридеров.
Дополнительная информация скорее будет избыточна,
так как будет зачитываться для каждой кнопки при перемещении по списку.`,name:"getPageLabel",required:!1,type:{name:"((isCurrent: boolean) => string)"}},onChange:{defaultValue:null,description:"Обработчик изменения выбранной страницы.",name:"onChange",required:!1,type:{name:"((page: number, event: MouseEvent<HTMLElement, MouseEvent>) => void)"}},renderPageButton:{defaultValue:null,description:"Функция для кастомного рендера кнопок страниц.\n\n> Note: `CustomPaginationPageButtonProps` наследует API [Tappable](https://vkui.io/components/tappable).",name:"renderPageButton",required:!1,type:{name:"((props: TappableOmitProps & { 'data-page': number; }) => ReactNode)"}},renderNavigationButton:{defaultValue:null,description:"Функция для кастомного рендера кнопок навигации `prev` и `next`.\n\n > Note: `CustomPaginationNavigationButton` наследует API [Button](https://vkui.io/components/button).",name:"renderNavigationButton",required:!1,type:{name:"((props: ButtonProps & { 'data-page': number; 'data-testid': string; }) => ReactNode) | undefined"}},pageButtonTestId:{defaultValue:null,description:"Передает атрибут `data-testid` для кнопок страниц.",name:"pageButtonTestId",required:!1,type:{name:"((day: PaginationPageType, active: boolean) => string)"}},prevButtonTestId:{defaultValue:null,description:"Передает атрибут `data-testid` для кнопки `prev`.",name:"prevButtonTestId",required:!1,type:{name:"string"}},nextButtonTestId:{defaultValue:null,description:"Передает атрибут `data-testid` для кнопки `next`.",name:"nextButtonTestId",required:!1,type:{name:"string"}},getRootRef:{defaultValue:null,description:"",name:"getRootRef",required:!1,type:{name:"Ref<HTMLElement>"}}}}}catch{}const C4={title:"Navigation/Pagination",component:C,parameters:t4("Pagination",e4,u4),tags:["Навигация"]},B={render:function(a){const[,e]=a4(),n=s=>{e({currentPage:s})};return t.jsx(C,{...a,onChange:n})},args:{currentPage:1,boundaryCount:2,totalPages:25}};B.parameters={...B.parameters,docs:{...B.parameters?.docs,source:{originalSource:`{
  render: function Render(args) {
    const [, updateArg] = useCustomArgs();
    const onPageChange = (page: number) => {
      updateArg({
        currentPage: page
      });
    };
    return <Pagination {...args} onChange={onPageChange} />;
  },
  args: {
    currentPage: 1,
    boundaryCount: 2,
    totalPages: 25
  }
}`,...B.parameters?.docs?.source}}};const v4=["Playground"],T4=Object.freeze(Object.defineProperty({__proto__:null,Playground:B,__namedExportsOrder:v4,default:C4},Symbol.toStringTag,{value:"Module"}));export{B as P,C as a,T4 as b};
