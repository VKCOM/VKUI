import{j as e,r as I,k as T,l as q,R as E,h as O}from"./iframe-DcUCz3Gq.js";import{D as Y,C as H}from"./constants-DdkjnEgz.js";import{c as M}from"./createStoryParameters-CcwS40kl.js";import{u as P}from"./useConfigDirection-BglQDqbm.js";import{u as k}from"./useEnsuredControl-B2KTcbi_.js";import{u as D}from"./useTabsNavigation-CRS8NVxx.js";import{h as w}from"./react_utils-CSZjvU4X.js";import{C as A}from"./Clickable-8ToLJd_t.js";import{H as $}from"./Headline-_bBT78y6.js";import{V as F}from"./VisuallyHidden-IsgabQ9w.js";const B="_host_1aeb2_1",K="_hover_1aeb2_19",U="_before_1aeb2_23",d={host:B,hover:K,before:U},_=({getRef:t,children:u,getRootRef:n,before:s,rootProps:g,inputProps:i})=>e.jsxs(A,{Component:"label",baseClassName:d.host,hoverClassName:d.hover,activeClassName:d.hover,getRootRef:n,...g,children:[i&&e.jsx(F,{...i,Component:"input",getRootRef:t,type:"radio"}),w(s)&&e.jsx("div",{className:d.before,children:s}),e.jsx($,{level:"2",weight:"2",children:u})]});try{_.displayName="SegmentedControlOption",_.__docgenInfo={description:"",displayName:"SegmentedControlOption",props:{rootProps:{defaultValue:null,description:"",name:"rootProps",required:!1,type:{name:"LabelHTMLAttributes<HTMLLabelElement>"}},inputProps:{defaultValue:null,description:"",name:"inputProps",required:!1,type:{name:"InputHTMLAttributes<HTMLInputElement>"}},before:{defaultValue:null,description:"",name:"before",required:!1,type:{name:"ReactNode"}},getRootRef:{defaultValue:null,description:"",name:"getRootRef",required:!1,type:{name:"Ref<HTMLLabelElement>"}},getRef:{defaultValue:null,description:"",name:"getRef",required:!1,type:{name:"Ref<HTMLInputElement>"}}}}}catch{}const G="_host_168ta_1",J="_sizeL_168ta_10",Q="_slider_168ta_23",W="_rtl_168ta_42",X="_sizeYRegular_168ta_49",Z="_sizeYNone_168ta_58",o={host:G,sizeL:J,in:"_in_168ta_14",slider:Q,rtl:W,sizeYRegular:X,sizeYNone:Z},ee={none:o.sizeYNone,regular:o.sizeYRegular},f=({size:t="l",name:u,options:n,defaultValue:s=n[0]?.value,children:g,onChange:i,value:y,role:r="radiogroup",...R})=>{const S=I.useId(),v=P()==="rtl",[h,x]=k({onChange:i,value:y,defaultValue:s}),{sizeY:C="none"}=T(),{tabsRef:N}=D(r==="tablist",v),c=n.findIndex(m=>m.value===h);q(()=>{},[c]);const V={"--vkui_internal--SegmentedControl_actual_index":String(c),"--vkui_internal--SegmentedControl_options":String(n.length)};return e.jsx(E,{...R,baseClassName:O(o.host,C!=="compact"&&ee[C],t==="l"&&o.sizeL,v&&o.rtl),children:e.jsxs("div",{role:r,ref:N,className:o.in,children:[c>-1&&e.jsx("div",{"aria-hidden":!0,className:o.slider,style:V}),n.map(({label:m,before:z,...a})=>{const p=h===a.value,b=()=>x(a.value),L=r==="tablist"?{role:"tab","aria-selected":p,onClick:b,tabIndex:a.tabIndex??(p?0:-1),...a}:void 0,j=r!=="tablist"?{role:a.role||(r==="radiogroup"?"radio":void 0),checked:p,onChange:b,name:u??S,...a}:void 0;return e.jsx(_,{before:z,rootProps:L,inputProps:j,children:m},`${a.value}`)})]})})};try{f.displayName="SegmentedControl",f.__docgenInfo={description:"",displayName:"SegmentedControl",props:{options:{defaultValue:null,description:"Массив опций для отображения в компоненте.",name:"options",required:!0,type:{name:"SegmentedControlOptionInterface[]"}},size:{defaultValue:{value:"l"},description:"Размер компонента.",name:"size",required:!1,type:{name:"enum",value:[{value:'"m"'},{value:'"l"'}]}},name:{defaultValue:null,description:"Имя для input-элементов внутри компонента.",name:"name",required:!1,type:{name:"string"}},onChange:{defaultValue:null,description:"Обработчик изменения выбранного значения.",name:"onChange",required:!1,type:{name:"((value: SegmentedControlValue) => void)"}},value:{defaultValue:null,description:"Текущее выбранное значение (для контролируемого компонента).",name:"value",required:!1,type:{name:"SegmentedControlValue"}},defaultValue:{defaultValue:{value:"options[0]?.value"},description:"Значение по умолчанию (для неконтролируемого компонента).",name:"defaultValue",required:!1,type:{name:"SegmentedControlValue"}},getRootRef:{defaultValue:null,description:"",name:"getRootRef",required:!1,type:{name:"Ref<HTMLDivElement>"}}}}}catch{}const{fn:te}=__STORYBOOK_MODULE_TEST__,ae={title:"Forms/SegmentedControl",component:f,parameters:M("SegmentedControl",H,Y),args:{onChange:te()},argTypes:{role:{control:"select",options:["radiogroup","tablist"]}},tags:["Формы и поля ввода"]},l={args:{options:[{label:"Баг",value:"bug"},{label:"Идея",value:"idea"},{label:"Другое",value:"other"}],role:"radiogroup"},decorators:[t=>e.jsx("div",{style:{width:"100%"},children:e.jsx(t,{})})]};l.parameters={...l.parameters,docs:{...l.parameters?.docs,source:{originalSource:`{
  args: {
    options: [{
      label: 'Баг',
      value: 'bug'
    }, {
      label: 'Идея',
      value: 'idea'
    }, {
      label: 'Другое',
      value: 'other'
    }],
    role: 'radiogroup'
  },
  decorators: [Component => <div style={{
    width: '100%'
  }}>
        <Component />
      </div>]
}`,...l.parameters?.docs?.source}}};const oe=["Playground"],fe=Object.freeze(Object.defineProperty({__proto__:null,Playground:l,__namedExportsOrder:oe,default:ae},Symbol.toStringTag,{value:"Module"}));export{l as P,f as S,fe as a};
