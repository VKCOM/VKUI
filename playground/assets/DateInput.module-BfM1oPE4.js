import{o as F,r as a,j as V,g as $,a2 as z,R as G}from"./iframe-D-vjmezP.js";import{u as J}from"./useBooleanState-CJ3ersJo.js";import{c as Q}from"./callMultiple-ChqatQlo.js";import{V as W}from"./VisuallyHidden-Ct4Hq9SY.js";function ke({maxElement:n,refs:r,autoFocus:s,disabled:_,elementsConfig:u,onClear:y,onInternalValueChange:c,getInternalValue:d,value:k,onCalendarOpenChanged:p,accessible:o}){const{document:S}=F(),[g,w,T]=J(!1),A=a.useRef(null),j=a.useRef(null),[E,D]=a.useState([]),[e,m]=a.useState(null),I=a.useRef(!1),{window:R}=F(),K=a.useCallback(()=>!I.current,[]),v=a.useCallback(()=>{g&&(T(),p?.(!1))},[T,p,g]),b=a.useCallback(()=>{g||(w(),p?.(!0),o&&m(null),I.current=!1)},[p,g,w,o]),x=a.useCallback(()=>{e!==null&&(m(null),R.getSelection()?.removeAllRanges(),D(d(k)))},[e,d,k,R]),h=a.useCallback(()=>{x(),v()},[x,v]),H=a.useCallback(()=>{x(),g?v():b()},[x,g,v,b]),L=a.useCallback(t=>{!A.current?.contains(t.target)&&!j.current?.contains(t.target)&&(I.current=!0,h())},[h]),C=a.useCallback(()=>{e===null&&m(0)},[e]);a.useEffect(()=>(S.addEventListener("click",L,{capture:!0}),()=>S.removeEventListener("click",L,{capture:!0})),[S,L]),a.useEffect(()=>{D(d(k))},[d,k]),a.useEffect(()=>{s&&C()},[s,C]),a.useEffect(()=>{if(_||e===null)return;const t=R.document.createRange();let l=r[e].current,i;return l&&(l.focus(),o||b(),t.selectNodeContents(l),i=setTimeout(()=>{const f=R.getSelection();f?.removeAllRanges(),f?.addRange(t)},0)),()=>{clearTimeout(i)}},[_,e,r,R,b,o]);const U=a.useCallback(()=>{y?.(),C()},[y,C]),P=a.useCallback(()=>{C()},[C]),Y=a.useCallback(t=>{if(e===null)return;const l=[...E],i=u(e);if(/^\d+$/.test(t.key))l[e].length>=i.length?l[e]=t.key:(l[e]+=t.key,l[e].length>=i.length&&e<n&&m(e+1));else if(t.key==="Backspace")l[e]?l[e]=l[e].slice(0,-1):m(e<=0?n:e-1);else if(t.key==="ArrowDown"||t.key==="Down"){let f=Number(l[e]);l[e]=String(f<=i.min?i.max:f-1).padStart(i.length,"0")}else if(t.key==="ArrowUp"||t.key==="Up"){let f=Number(l[e]);l[e]=String(f>=i.max?i.min:f+1).padStart(i.length,"0")}else if(t.key==="ArrowLeft"||t.key==="Left"||t.key==="Tab"&&t.shiftKey){if(e<=0){t.key==="Tab"&&h();return}m(e-1)}else if(t.key==="ArrowRight"||t.key==="Right"||t.key==="Tab"){if(e>=n){t.key==="Tab"&&h();return}m(e+1)}else if(t.key==="Delete"||t.key==="Del")l[e]="";else if(t.key===" "){t.preventDefault(),b();return}else return;t.preventDefault(),D(l),c(l)},[b,h,u,e,E,n,c]);return{rootRef:A,calendarRef:j,open:g,openCalendar:b,closeCalendar:v,toggleCalendar:H,internalValue:E,focusedElement:e,setFocusedElement:m,handleKeyDown:Y,clear:U,handleFieldEnter:P,removeFocusFromField:h,handleRestoreFocus:K}}const X="_mask_1xpg8_1",Z="_lastCharacter_1xpg8_20",O="_divider_1xpg8_25",ee="_host_1xpg8_31",N={mask:X,lastCharacter:Z,divider:O,host:ee},M=({children:n,className:r,...s})=>V.jsx("span",{className:$(N.divider,r),...s,children:n});try{M.displayName="InputLikeDivider",M.__docgenInfo={description:"",displayName:"InputLikeDivider",props:{}}}catch{}const te="â€‡";function ne(n){const r=[];for(let s=0;s<n;s+=1)r.push(V.jsx("span",{className:N.mask,children:te},s));return r}const q=({value:n,length:r,index:s,onElementSelect:_,onFocus:u,label:y,readOnly:c,onKeyDown:d,...k})=>{const p=a.useCallback(o=>{z(o),_?.(s)},[s,_]);return V.jsxs(G,{Component:"span",baseClassName:n?.length===r?N.host:void 0,tabIndex:c?-1:0,onFocus:Q(u,p),onKeyDown:c?void 0:d,...k,children:[y&&V.jsx(W,{children:y}),n?.slice(0,r-1),n?.slice(r-1)&&V.jsx("span",{className:N.lastCharacter,children:n.slice(r-1)},s),ne(r-(n?.length??0))]})};try{q.displayName="InputLike",q.__docgenInfo={description:"",displayName:"InputLike",props:{length:{defaultValue:null,description:"",name:"length",required:!0,type:{name:"number"}},index:{defaultValue:null,description:"",name:"index",required:!0,type:{name:"number"}},value:{defaultValue:null,description:"",name:"value",required:!1,type:{name:"string"}},label:{defaultValue:null,description:"",name:"label",required:!1,type:{name:"string"}},onElementSelect:{defaultValue:null,description:"",name:"onElementSelect",required:!1,type:{name:"((index: number) => void)"}},getRootRef:{defaultValue:null,description:"",name:"getRootRef",required:!1,type:{name:"Ref<HTMLSpanElement>"}},Component:{defaultValue:null,description:"",name:"Component",required:!1,type:{name:"ElementType<any, keyof IntrinsicElements>"}}}}}catch{}const ae=(n,r)=>{if(n!==void 0)return typeof n=="string"?n:String(n).padStart(r,"0")},B=({value:n,length:r,minValue:s,maxValue:_,readOnly:u,disabled:y,label:c,onKeyDown:d,"aria-label":k,...p})=>{const o=ae(n,r);return V.jsx(q,{role:"spinbutton",value:o,length:r,"aria-valuemin":s,"aria-valuemax":_,"aria-valuenow":n!==void 0?Number(n):void 0,"aria-valuetext":o,"aria-readonly":u,"aria-disabled":y,"aria-label":c,label:c,tabIndex:u?-1:0,onKeyDown:u?void 0:d,...p})};try{B.displayName="NumberInputLike",B.__docgenInfo={description:"",displayName:"NumberInputLike",props:{value:{defaultValue:null,description:"",name:"value",required:!1,type:{name:"string | number"}},maxValue:{defaultValue:null,description:"",name:"maxValue",required:!1,type:{name:"number"}},minValue:{defaultValue:null,description:"",name:"minValue",required:!1,type:{name:"number"}},label:{defaultValue:null,description:"",name:"label",required:!1,type:{name:"string"}},getRootRef:{defaultValue:null,description:"",name:"getRootRef",required:!1,type:{name:"Ref<HTMLSpanElement>"}},Component:{defaultValue:null,description:"",name:"Component",required:!1,type:{name:"ElementType<any, keyof IntrinsicElements>"}},length:{defaultValue:null,description:"",name:"length",required:!0,type:{name:"number"}},index:{defaultValue:null,description:"",name:"index",required:!0,type:{name:"number"}},onElementSelect:{defaultValue:null,description:"",name:"onElementSelect",required:!1,type:{name:"((index: number) => void)"}}}}}catch{}const re="_wrapper_1nidg_1",le="_hasBefore_1nidg_12",se="_hasAfter_1nidg_16",ie="_input_1nidg_20",oe="_hidden_1nidg_33",ue="_customValue_1nidg_37",ce="_inputTimeDivider_1nidg_55",de="_densityCompact_1nidg_60",pe="_densityNone_1nidg_65",ge={wrapper:re,hasBefore:le,hasAfter:se,input:ie,hidden:oe,customValue:ue,inputTimeDivider:ce,densityCompact:de,densityNone:pe};export{M as I,B as N,ge as d,ke as u};
