import{r as a,s as A4,az as E,K as T,aA as g4,aB as v4,aC as q4,ac as K,aD as _,aE as V4,j as h,R as k4,aF as M4,aG as S4}from"./iframe-BJ9555aC.js";import{N as N4,n as R4,i as o,u as _4,a as n4,b as t4,C as l4,d as s4}from"./CalendarHeader-CFpGUA92.js";import{u as x4}from"./useEnsuredControl-3-CGTCCX.js";function H4({focusedDay:l,value:s,setFocusedDay:i,viewDates:[r,c],setViewDate:y}){const[D,f]=a.useState(),[d,m]=a.useState(),b=a.useCallback((n,A)=>{const C=A4(n);if(C){if(N4.includes(C)){n.preventDefault();const t=R4(l??s?.[0],C);t&&!E(t,r)&&!E(t,c)&&y(t),A?E(t,r)?f(t):t>r&&m(t):E(t,c)?m(t):t<c&&f(t),i(t);return}if(C===T.TAB){i(void 0),A?f(l):m(l);return}(C===T.ENTER||C===T.SPACE)&&g4(n.target)&&(n.preventDefault(),n.target.click?.())}},[l,s,r,c,i,y]),V=a.useCallback(n=>{b(n,!0)},[b]),x=a.useCallback(n=>{b(n,!1)},[b]),H=a.useCallback(n=>{E(r,n)&&(!D||!o(D,n))&&f(n),E(c,n)&&(!d||!o(d,n))&&m(n)},[r,D,d,c]);return{focusableDayOnFirstCalendar:D,focusableDayOnSecondCalendar:d,handleFirstCalendarKeyDown:V,handleSecondCalendarKeyDown:x,handleDayFocus:H}}function r4({value:l,focusableDayOnFirstCalendar:s,focusableDayOnSecondCalendar:i,viewDate:r,isDayActive:c}){const y=!!(l&&(l[0]&&E(l[0],r)||l[1]&&E(l[1],r))),D=!!(s&&E(s,r)||i&&E(i,r));return a.useCallback(d=>D?!!(s&&o(s,d)||i&&o(i,d)):y?c(d):o(v4(r),d),[D,y,r,c,s,i])}const I4="_host_laqyo_1",T4="_inner_laqyo_14",K4="_header_laqyo_24",q={host:I4,inner:T4,header:K4},o4=(l,s)=>!s?.[0]||!s[1]?!1:S4(l,[K(s[0]),_(s[1])]),i4=({value:l,defaultValue:s,onChange:i,disablePast:r,disableFuture:c,shouldDisableDate:y,weekStartsOn:D=M4,disablePickers:f,prevMonthLabel:d="Предыдущий месяц",nextMonthLabel:m="Следующий месяц",changeMonthLabel:b="Изменить месяц",changeYearLabel:V="Изменить год","aria-label":x="Календарь",prevMonthIcon:H,nextMonthIcon:n,listenDayChangesForUpdate:A,renderDayContent:C,dayTestId:t,leftPartHeaderTestsData:d4,rightPartHeaderTestsData:c4,getRootRef:D4,...F4})=>{const E4=u=>{u&&i&&i(u)},[e,P]=x4({value:l,defaultValue:s,onChange:E4}),{viewDate:g,setViewDate:k,setPrevMonth:C4,setNextMonth:B4,focusedDay:M,setFocusedDay:I,isDayFocused:L,isDayDisabled:j,isMonthDisabled:O,isYearDisabled:U}=_4({value:e,disableFuture:c,disablePast:r,shouldDisableDate:y}),[p,v]=a.useState(),S=q4(g,1),{focusableDayOnFirstCalendar:Y,focusableDayOnSecondCalendar:w,handleFirstCalendarKeyDown:f4,handleSecondCalendarKeyDown:p4,handleDayFocus:G}=H4({focusedDay:M,setFocusedDay:I,value:e,viewDates:[g,S],setViewDate:k}),N=a.useCallback(u=>{const B=!e||e[0]===null&&e[1]===null,h4=e&&!!e[0]&&!!e[1];if(B||h4)return[u,null];const[F]=e;return F&&o(u,F)?[K(F),_(F)]:F&&u<F?[K(u),_(F)]:F&&u>F?[F,_(u)]:e},[e]),z=a.useCallback(u=>{P(N(u)),v(void 0)},[P,N]),W=a.useCallback(u=>o4(u,e),[e]),R=a.useCallback(u=>!!(e?.[0]&&o(u,e[0])||e?.[1]&&o(u,e[1])),[e]),J=a.useCallback((u,B)=>!!(n4(u,B)||e?.[1]&&o(u,e[1])),[e]),Q=a.useCallback((u,B)=>!!(n4(u,B)||p?.[1]&&o(u,p[1])),[p]),X=a.useCallback((u,B)=>!!(t4(u,B)||e?.[0]&&o(u,e[0])),[e]),Z=a.useCallback((u,B)=>!!(t4(u,B)||p?.[0]&&o(u,p[0])),[p]),$=a.useCallback(u=>v(N(u)),[v,N]),u4=a.useCallback(()=>v(void 0),[v]),e4=a.useCallback(u=>o4(u,p),[p]),y4=a.useCallback(u=>k(V4(u)),[k]),m4=r4({value:e,focusableDayOnFirstCalendar:Y,focusableDayOnSecondCalendar:w,viewDate:g,isDayActive:R}),b4=r4({value:e,focusableDayOnFirstCalendar:Y,focusableDayOnSecondCalendar:w,viewDate:S,isDayActive:R}),a4=a.useCallback(u=>{M&&o(M,u)||(I(u),G(u))},[M,G,I]);return h.jsxs(k4,{"aria-label":x,...F4,baseClassName:q.host,getRootRef:D4,children:[h.jsxs("div",{className:q.inner,children:[h.jsx(l4,{viewDate:g,onChange:k,nextMonthHidden:!0,onPrevMonth:C4,disablePickers:f,className:q.header,prevMonthLabel:d,nextMonthLabel:m,changeMonthLabel:b,changeYearLabel:V,prevMonthIcon:H,isMonthDisabled:O,isYearDisabled:U,...d4}),h.jsx(s4,{viewDate:g,value:e,weekStartsOn:D,onKeyDown:f4,onDayFocus:a4,isDayFocused:L,isDayFocusable:m4,onDayChange:z,isDaySelected:W,isDayActive:R,isDaySelectionEnd:J,isDaySelectionStart:X,isDayHinted:e4,onDayEnter:$,onDayLeave:u4,isHintedDaySelectionEnd:Q,isHintedDaySelectionStart:Z,isDayDisabled:j,listenDayChangesForUpdate:A,renderDayContent:C,dayTestId:t})]}),h.jsxs("div",{className:q.inner,children:[h.jsx(l4,{viewDate:S,onChange:y4,prevMonthHidden:!0,onNextMonth:B4,disablePickers:f,className:q.header,prevMonthLabel:d,nextMonthLabel:m,changeMonthLabel:b,changeYearLabel:V,nextMonthIcon:n,isMonthDisabled:O,isYearDisabled:U,...c4}),h.jsx(s4,{viewDate:S,value:e,weekStartsOn:D,onKeyDown:p4,onDayFocus:a4,isDayFocused:L,isDayFocusable:b4,onDayChange:z,isDaySelected:W,isDayActive:R,isDaySelectionEnd:J,isDaySelectionStart:X,isDayHinted:e4,onDayEnter:$,onDayLeave:u4,isHintedDaySelectionEnd:Q,isHintedDaySelectionStart:Z,isDayDisabled:j,listenDayChangesForUpdate:A,renderDayContent:C,dayTestId:t})]})]})};try{i4.displayName="CalendarRange",i4.__docgenInfo={description:"",displayName:"CalendarRange",props:{value:{defaultValue:null,description:"Текущий выбранный промежуток.",name:"value",required:!1,type:{name:"DateRangeType | null"}},defaultValue:{defaultValue:null,description:"Начальный промежуток при монтировании.",name:"defaultValue",required:!1,type:{name:"DateRangeType | null"}},disablePast:{defaultValue:null,description:"Запрещает выбор даты в прошлом.\nПрименяется, если не заданы `shouldDisableDate` и `disableFuture`.",name:"disablePast",required:!1,type:{name:"boolean"}},disableFuture:{defaultValue:null,description:"Запрещает выбор даты в будущем.\nПрименяется, если не задано `shouldDisableDate`.",name:"disableFuture",required:!1,type:{name:"boolean"}},disablePickers:{defaultValue:null,description:"Отключает селекторы выбора месяца/года.",name:"disablePickers",required:!1,type:{name:"boolean"}},changeDayLabel:{defaultValue:null,description:`\`aria-label\` для изменения дня.
@deprecated Since 7.4.0. Будет удалeно в **VKUI v9**.

Использовалось для задания aria-label для контейнера дней в календаре.
Теперь этот контейнер является таблицей (с помощью role="grid") и
в aria-label рендерится текущий открытый в календаре месяц и год.`,name:"changeDayLabel",required:!1,type:{name:"string"}},weekStartsOn:{defaultValue:{value:"1"},description:"День недели, с которого начинается неделя.",name:"weekStartsOn",required:!1,type:{name:"enum",value:[{value:"0"},{value:"2"},{value:"1"},{value:"3"},{value:"4"},{value:"5"},{value:"6"}]}},onChange:{defaultValue:null,description:"Обработчик изменения выбранного промежутка.",name:"onChange",required:!1,type:{name:"((value: DateRangeType) => void)"}},shouldDisableDate:{defaultValue:null,description:"Функция для проверки запрета выбора даты.",name:"shouldDisableDate",required:!1,type:{name:"((value: Date) => boolean)"}},onClose:{defaultValue:null,description:"@deprecated Since 7.3.0. Будет удалeно в **VKUI v9**.",name:"onClose",required:!1,type:{name:"(() => void)"}},getRootRef:{defaultValue:null,description:"",name:"getRootRef",required:!1,type:{name:"Ref<HTMLDivElement>"}},prevMonthLabel:{defaultValue:{value:"Предыдущий месяц"},description:"`aria-label` для кнопки предыдущего месяца.",name:"prevMonthLabel",required:!1,type:{name:"string"}},nextMonthLabel:{defaultValue:{value:"Следующий месяц"},description:"`aria-label` для кнопки следующего месяца.",name:"nextMonthLabel",required:!1,type:{name:"string"}},changeMonthLabel:{defaultValue:{value:"Изменить месяц"},description:"`aria-label` для селектора месяца.",name:"changeMonthLabel",required:!1,type:{name:"string"}},changeYearLabel:{defaultValue:{value:"Изменить год"},description:"`aria-label` для селектора года.",name:"changeYearLabel",required:!1,type:{name:"string"}},prevMonthIcon:{defaultValue:null,description:"Кастомная иконка для кнопки предыдущего месяца.",name:"prevMonthIcon",required:!1,type:{name:"ReactNode"}},nextMonthIcon:{defaultValue:null,description:"Кастомная иконка для кнопки следующего месяца.",name:"nextMonthIcon",required:!1,type:{name:"ReactNode"}},listenDayChangesForUpdate:{defaultValue:null,description:"Следить за изменениями дней для обновления UI.",name:"listenDayChangesForUpdate",required:!1,type:{name:"boolean"}},renderDayContent:{defaultValue:null,description:"Кастомизация отображения содержимого дня.",name:"renderDayContent",required:!1,type:{name:"((day: Date) => ReactNode)"}},dayTestId:{defaultValue:null,description:"Передает атрибут `data-testid` для дня в календаре.",name:"dayTestId",required:!1,type:{name:"string | ((day: Date) => string)"}},leftPartHeaderTestsData:{defaultValue:null,description:"Передает атрибуты `data-testid` для интерактивных элементов в заголовке календаря в левой части.",name:"leftPartHeaderTestsData",required:!1,type:{name:"CalendarHeaderTestsProps"}},rightPartHeaderTestsData:{defaultValue:null,description:"Передает атрибуты `data-testid` для интерактивных элементов в заголовке календаря в правой части.",name:"rightPartHeaderTestsData",required:!1,type:{name:"CalendarHeaderTestsProps"}}}}}catch{}export{i4 as C};
