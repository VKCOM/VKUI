import{j as S,h as $,N as Ku,r as E,B as Yu,i as mu,p as Au,Y as Ju,l as tu,R as Zu,o as u4,ae as e4}from"./iframe-D9ctG7Ns.js";import{u as t4}from"./useIsClient-C6WLQkbf.js";import{c as pu}from"./callMultiple-ChqatQlo.js";import{c as r4,u as n4}from"./fx-BKsF0vYk.js";import{u as a4}from"./useConfigDirection-BepSmh67.js";import{u as l4}from"./useMutationObserver-qTqSTRf6.js";import{S as hu}from"./ScrollArrow-DO7xq66D.js";import{g as s4}from"./getValueByKey-D_Dt--9h.js";const i4="_host_17t7j_1",o4="_viewport_17t7j_7",c4="_layer_17t7j_13",d4="_draggable_17t7j_22",f4="_slide_17t7j_30",m4="_customWidth_17t7j_37",p4="_bullets_17t7j_47",h4="_bulletsDark_17t7j_58",E4="_bullet_17t7j_47",g4="_bulletsLight_17t7j_62",y4="_bulletActive_17t7j_75",v4="_arrow_17t7j_79",A4="_arrowAreaStretch_17t7j_84",b4="_arrowAreaFit_17t7j_88",w4="_arrowStart_17t7j_95",F4="_arrowEnd_17t7j_99",w={host:i4,viewport:o4,layer:c4,draggable:d4,slide:f4,customWidth:m4,bullets:p4,bulletsDark:h4,bullet:E4,bulletsLight:g4,bulletActive:y4,arrow:v4,arrowAreaStretch:A4,arrowAreaFit:b4,arrowStart:w4,arrowEnd:F4},S4={dark:w.bulletsDark,light:w.bulletsLight},ru=({bullets:u,slideIndex:e,count:l,bulletTestId:r})=>S.jsx("div",{"aria-hidden":!0,className:$(w.bullets,S4[u]),children:Array.from({length:l}).map((t,a)=>S.jsx("div",{className:$(w.bullet,a===e&&w.bulletActive),"data-testid":r==null?void 0:r(a,a===e)},a))});try{ru.displayName="Bullets",ru.__docgenInfo={description:"",displayName:"Bullets",props:{bullets:{defaultValue:null,description:"",name:"bullets",required:!0,type:{name:"enum",value:[{value:'"dark"'},{value:'"light"'}]}},slideIndex:{defaultValue:null,description:"",name:"slideIndex",required:!0,type:{name:"number"}},count:{defaultValue:null,description:"",name:"count",required:!0,type:{name:"number"}},bulletTestId:{defaultValue:null,description:"Передает атрибут `data-testid` для bullets.",name:"bulletTestId",required:!1,type:{name:"((index: number, active: boolean) => string)"}}}}}catch{}const nu=({slideTestId:u,slideWidth:e,onStart:l,onMoveX:r,onEnd:t,getRootRef:a,layerRef:c,children:s,setSlideRef:m})=>S.jsx(Ku,{className:w.viewport,onStartX:l,onMoveX:r,onEnd:t,style:{width:e==="custom"?"100%":e},noSlideClick:!0,getRootRef:a,children:S.jsx("div",{className:w.layer,ref:c,children:E.Children.map(s,(p,d)=>S.jsx("div",{className:w.slide,"data-testid":u==null?void 0:u(d),ref:h=>m(h,d),children:p},`slide-${d}`))})});try{nu.displayName="CarouselViewPort",nu.__docgenInfo={description:"",displayName:"CarouselViewPort",props:{slideWidth:{defaultValue:null,description:'Размер слайда.\n\nЗначение `"custom"` используется, если ширина у слайдов разная.',name:"slideWidth",required:!1,type:{name:'number | LiteralUnion<"custom", string>'}},slideTestId:{defaultValue:null,description:"Передает атрибут `data-testid` для слайда.",name:"slideTestId",required:!1,type:{name:"((index: number) => string)"}},getRootRef:{defaultValue:null,description:"",name:"getRootRef",required:!1,type:{name:"Ref<HTMLElement>"}},onStart:{defaultValue:null,description:"",name:"onStart",required:!0,type:{name:"(e: CustomTouchEvent) => void"}},onMoveX:{defaultValue:null,description:"",name:"onMoveX",required:!0,type:{name:"(e: CustomTouchEvent) => void"}},onEnd:{defaultValue:null,description:"",name:"onEnd",required:!0,type:{name:"(e: CustomTouchEvent) => void"}},setSlideRef:{defaultValue:null,description:"",name:"setSlideRef",required:!0,type:{name:"(slideRef: HTMLDivElement | null, slideIndex: number) => void"}},layerRef:{defaultValue:null,description:"",name:"layerRef",required:!1,type:{name:"Ref<HTMLDivElement>"}}}}}catch{}const B4={stretch:w.arrowAreaStretch,fit:w.arrowAreaFit},Eu=(u,e)=>$(w.arrow,u==="start"?w.arrowStart:w.arrowEnd,B4[e]),au=({hasPointer:u,canSlideLeft:e,canSlideRight:l,onSlideRight:r,onSlideLeft:t,showArrows:a=!1,arrowSize:c="m",arrowAreaHeight:s="stretch",arrowPrevLabel:m,arrowNextLabel:p,nextArrowTestId:d,prevArrowTestId:h})=>a&&u?S.jsxs(S.Fragment,{children:[e&&S.jsx(hu,{className:Eu("start",s),direction:"left",onClick:t,size:c,"data-testid":h,label:m}),l&&S.jsx(hu,{className:Eu("end",s),direction:"right",onClick:r,size:c,"data-testid":d,label:p})]}):null;try{au.displayName="ScrollArrows",au.__docgenInfo={description:"",displayName:"ScrollArrows",props:{hasPointer:{defaultValue:null,description:"",name:"hasPointer",required:!1,type:{name:"boolean"}},canSlideLeft:{defaultValue:null,description:"",name:"canSlideLeft",required:!0,type:{name:"boolean"}},canSlideRight:{defaultValue:null,description:"",name:"canSlideRight",required:!0,type:{name:"boolean"}},onSlideLeft:{defaultValue:null,description:"",name:"onSlideLeft",required:!0,type:{name:"(e: MouseEvent<Element, MouseEvent>) => void"}},onSlideRight:{defaultValue:null,description:"",name:"onSlideRight",required:!0,type:{name:"(e: MouseEvent<Element, MouseEvent>) => void"}},showArrows:{defaultValue:{value:"false"},description:"",name:"showArrows",required:!1,type:{name:"boolean"}},arrowAreaHeight:{defaultValue:{value:"stretch"},description:"Размер активной зоны стрелок (в пикселях).\nОпределяет область вокруг стрелок, реагирующую на взаимодействие пользователя. В дизайне свойство называется `arrowArea`.",name:"arrowAreaHeight",required:!1,type:{name:"enum",value:[{value:'"stretch"'},{value:'"fit"'}]}},arrowSize:{defaultValue:{value:"m"},description:"",name:"arrowSize",required:!1,type:{name:"enum",value:[{value:'"s"'},{value:'"m"'}]}},arrowPrevLabel:{defaultValue:null,description:"Текст для кнопки-стрелки влево (назад). Делает ее доступной для ассистивных технологий.",name:"arrowPrevLabel",required:!1,type:{name:"string"}},arrowNextLabel:{defaultValue:null,description:"Текст для кнопки-стрелки вправо (вперед). Делает ее доступной для ассистивных технологий.",name:"arrowNextLabel",required:!1,type:{name:"string"}},nextArrowTestId:{defaultValue:null,description:"Передает атрибут `data-testid` для кнопки перехода к следующему слайду.",name:"nextArrowTestId",required:!1,type:{name:"string"}},prevArrowTestId:{defaultValue:null,description:"Передает атрибут `data-testid` для кнопки перехода к предыдущему слайду.",name:"prevArrowTestId",required:!1,type:{name:"string"}}}}}catch{}const bu=240,wu=.05,_4={canSlideLeft:!0,canSlideRight:!0,isDraggable:!0},D4={viewportOffsetWidth:0,slides:[],isFullyVisible:!0,loopPoints:[],contentSize:0,snaps:[],containerWidth:0,layerWidth:0,min:0,max:0},v=(u,e)=>e?-u:u,Fu=(u,e,l)=>l?u<e:u>e,Su=(u,e,l)=>l?u<=e:u>=e,Bu=(u,e,l)=>l?u>e:u<e,V4=(u,e,l)=>l?u>=e:u<=e,_u=(u,e,l,r=!0)=>{const t=u.max??0,a=u.min??0;return Fu(e,t,l)?r?t:t+Number((e-t)/3):Bu(e,a,l)?r?a:a+Number((e-a)/3):e};function q4({targetIndex:u,slidesManager:e,isCenter:l,looped:r=!1,isRtl:t=!1}){if(!e.slides.length)return 0;const a=e.slides[u];if(a){const{coordX:c,width:s}=a;if(l)return v(e.containerWidth/2-c-s/2,t);const m=v(-1*c,t);return r?m:_u(e,m,t)}return 0}function gu(u,e,l){let r=l;const t=[],a=u===1?0:e.length-1,c=u===1?e.length-1:0;for(let s=a;(u===1?s<=c:s>=c)&&r>0;s+=u){const m=e[s].width;r>0&&t.push(s),r-=m}return t}function yu(u,e,l,r,t){const{contentSize:a,slides:c,snaps:s}=l,m=e==="start",p=m?-a:a;return u.map(d=>{const h=v(m?0:-a,t),b=v(m?a:0,t),_=v(s[d],t),x=v(s[0],t),q=v(m?_+r+p:_-c[d].width+p-x,t);return{index:d,target:C=>Su(C,q,t)?h:b}})}function C4(u,e,l=!1){const{slides:r,snaps:t}=u,a=v(t[0],l),c=gu(-1,r,a),s=gu(1,r,e-a);return[...yu(s,"start",u,e,l),...yu(c,"end",u,e,l)]}function R4({slides:u,slideIndex:e,currentShiftX:l,currentShiftXDelta:r,looped:t=!1,max:a=null,isRtl:c=!1}){a=a??0;const s=v(l+r-a,c),m=Bu(r,0,c)?1:-1;let p=u.reduce((d,h,b)=>{const _=u[d].coordX,x=h.coordX,q=Math.abs(_+s),C=Math.abs(x+s);return q<C?d:b},e);if(p===e){let d=e+m;return d>=0&&d<u.length?Math.abs(r)>u[d].width*wu?d:p:t?m<0?(d+u.length)%u.length:d%u.length:m<0?Math.max(p,0):Math.min(p,u.length-1)}return p}const T4=({containerWidth:u=0,layerWidth:e=0,slides:l=[],viewportOffsetWidth:r=0,isFullyVisible:t,align:a,isRtl:c=!1})=>{if(a!=="center"&&t)return 0;const s=s4(a,{left:()=>u-e,right:()=>r-e,center:()=>{const{coordX:m,width:p}=l[l.length-1];return u/2-m-p/2}})();return v(s,c)},x4=({slides:u=[],containerWidth:e=0,isCenterAlign:l,isRtl:r=!1})=>{if(l&&u.length){const{width:t,coordX:a}=u[0],c=e/2-a-t/2;return v(c,r)}return 0};function L4({duration:u,timing:e,draw:l,animationQueue:r=[]}){if(!Yu)return;let t;requestAnimationFrame(function a(c){t||(t=c);let s=Math.min((c-t)/u,1);const m=e(s);if(l(m),s<1){requestAnimationFrame(a);return}r.shift(),r.length>0&&r[0]()})}const I4=r4(.8,1);function M4(){const u=E.useRef([]);function e(a){return()=>{L4({duration:bu,timing:I4,animationQueue:u.current,draw:a})}}function l(a){u.current.push(a)}function r(){u.current.length===1&&u.current[0]()}function t(){return!!u.current.length}return{animationInQueue:t,getAnimateFunction:e,addToAnimationQueue:l,startAnimation:r}}const lu=({bullets:u=!1,getRootRef:e,children:l,slideWidth:r="100%",slideIndex:t=0,dragDisabled:a=!1,resizeSource:c="window",onDragStart:s,onDragEnd:m,onChange:p,onPrevClick:d,onNextClick:h,align:b="left",showArrows:_,getRef:x,arrowSize:q,arrowAreaHeight:C,arrowNextLabel:L,arrowPrevLabel:I,slideTestId:Du,bulletTestId:Vu,nextArrowTestId:qu,prevArrowTestId:Cu,looped:B=!1,...Ru})=>{const X=E.useRef({}),f=E.useRef(D4),y=a4()==="rtl",H=mu(e),K=mu(x),M=E.useRef(null),W=E.useRef(null),A=E.useRef(0),D=E.useRef(0),G=E.useRef(!1),{animationInQueue:Tu,addToAnimationQueue:Y,getAnimateFunction:J,startAnimation:xu}=M4(),Z=E.useRef(!1),[U,uu]=E.useState(_4),Lu=n4(),su=b==="center",iu=()=>{if(B)return!f.current.isFullyVisible;const n=Su(A.current,0,y);return!f.current.isFullyVisible&&!n},ou=()=>B?!f.current.isFullyVisible:!f.current.isFullyVisible&&(b==="left"&&f.current.containerWidth-v(A.current,y)<(f.current.layerWidth??0)||b!=="left"&&t<f.current.slides.length-1),j=(n,i=!1)=>{if(n=Math.round(n),B?f.current.loopPoints.forEach(o=>{const{target:g,index:R}=o,F=X.current[R];F&&(F.style.transform=`translate3d(${g(n)}px, 0, 0)`)}):Object.values(X.current).forEach(o=>{o&&(o.style.transform="")}),M.current){const o=Z.current&&!B?_u(f.current,A.current+D.current,y,!1):n;M.current.style.transform=`translate3d(${o}px, 0, 0)`,M.current.style.transition=i?`transform ${bu}ms cubic-bezier(.1, 0, .25, 1)`:""}},Iu=(n,i)=>Fu(n,i[0],y),Mu=(n,i)=>{const o=b==="center"?(f.current.containerWidth-f.current.slides[0].width)/2:0,g=i[i.length-1].width+i[i.length-1].coordX-o;return y?n>=g:n<=-g},Q=(n,i=!1)=>{const{snaps:o,contentSize:g,slides:R}=f.current;W.current!==null&&cancelAnimationFrame(W.current),W.current=requestAnimationFrame(()=>{if(B&&Iu(n,o)){const F=v(o[0],y);A.current=v(-g+F,y),n=A.current+D.current}B&&Mu(n,R)&&(A.current=Math.abs(D.current)+o[0]),j(n,i),W.current=null})},eu=()=>{var fu;if(!H.current||!K.current||!M.current)return;const n=M.current.offsetWidth,i=z=>{const P=z.offsetLeft,O=z.offsetWidth;return n-P-O};let o=E.Children.map(l,(z,P)=>{const O=X.current[P];return O?{coordX:y?i(O):O.offsetLeft,width:O.offsetWidth}:{coordX:0,width:0}})||[];if(o.length===0){G.current=!1;return}const g=H.current.offsetWidth,R=K.current.offsetWidth,F=o.reduce((z,P)=>P.width+z,0),N=(g-(((fu=o[t])==null?void 0:fu.width)??0))/2,V=b==="center"?F+N<=g:F<=g,T=o.length===1;f.current={...f.current,layerWidth:F,containerWidth:g,viewportOffsetWidth:R,slides:o,isFullyVisible:V,max:B||T?null:x4({slides:o,containerWidth:g,isCenterAlign:su,isRtl:y}),min:B||T?null:T4({containerWidth:g,layerWidth:F,slides:o,viewportOffsetWidth:R,isFullyVisible:V,align:b,isRtl:y})};const k=o.map((z,P)=>q4({targetIndex:P,slidesManager:f.current,isCenter:su,looped:B,isRtl:y}));let du=Math.abs(k[k.length-1])+o[o.length-1].width;b==="center"&&(du+=v(k[0],y)),f.current.snaps=k,f.current.contentSize=du,B&&!T&&!V&&(f.current.loopPoints=C4(f.current,g,y)),!(Tu()||W.current!==null)&&(A.current=k[t],G.current=!0,uu({canSlideLeft:iu(),canSlideRight:ou(),isDraggable:!(a||f.current.isFullyVisible)}),Q(A.current))},Nu=()=>{G.current&&eu()},{window:Pu}=Au();Ju(c==="element"?H:Pu,Nu);const ju=()=>{const{snaps:n,slides:i}=f.current,o=n[t];let g=A.current;const R=V4(A.current,n[n.length-1],y);if(o===n[0]&&R){const N=v(Math.abs(n[n.length-1])+i[i.length-1].width,y)+g;Y(J(V=>{const T=g+V*N*-1;j(T),T<=n[n.length-1]-i[i.length-1].width&&requestAnimationFrame(()=>{A.current=o,j(n[0])})}))}else o===n[n.length-1]&&A.current===n[0]?(g=o-v(i[i.length-1].width,y),Y(()=>{requestAnimationFrame(()=>{const F=o-v(i[i.length-1].width,y);j(F),J(N=>{const V=v(N*i[i.length-1].width,y);j(g+V)})()})})):Y(()=>{const F=Math.abs(o-g);let N=g<=o?1:-1;J(V=>{const T=g+V*F*N;j(T)})()})},zu=()=>{const{snaps:n}=f.current;Q(n[t],!0)};tu(function(){if(!G.current)return;const{snaps:i}=f.current,o=i[t];B?ju():zu(),xu(),A.current=o,uu(g=>({...g,canSlideLeft:iu(),canSlideRight:ou()}))},[t]),tu(function(){uu(i=>({...i,isDraggable:!(a||f.current.isFullyVisible)}))},[a]),l4(M,eu),tu(eu,[b,r,B,y]);const cu=()=>f.current.slides[t].width*wu,Ou=n=>{t>0&&(A.current+=v(cu(),y)),p==null||p((t-1+f.current.slides.length)%f.current.slides.length),d==null||d(n)},Wu=n=>{t<f.current.slides.length-1&&(A.current-=v(cu(),y)),p==null||p((t+1)%f.current.slides.length),h==null||h(n)},ku=n=>{n.originalEvent.stopPropagation(),U.isDraggable&&(s==null||s(n),A.current=f.current.snaps[t],D.current=0)},Xu=n=>{U.isDraggable&&(n.originalEvent.preventDefault(),n.isSlideX&&(Z.current=!0,D.current!==n.shiftX&&(D.current=n.shiftX,Q(A.current+D.current))))},Hu=n=>{if(U.isDraggable){Z.current=!1;let i=t;if(n.isSlide&&(i=R4({slides:f.current.slides,slideIndex:t,currentShiftX:A.current,currentShiftXDelta:D.current,max:f.current.max,looped:B,isRtl:y})),m==null||m(n,i),i!==t)A.current=A.current+D.current,p==null||p(i);else{const o=f.current.snaps[i];Q(o,!0)}}},Gu=(n,i)=>{X.current[i]=n},{isDraggable:Uu,canSlideRight:Qu,canSlideLeft:$u}=U;return S.jsxs(Zu,{...Ru,baseClassName:$(w.host,r==="custom"&&w.customWidth,Uu&&w.draggable),getRootRef:H,children:[S.jsx(nu,{slideWidth:r,slideTestId:Du,onStart:ku,onMoveX:Xu,onEnd:Hu,getRootRef:K,layerRef:M,setSlideRef:Gu,children:l}),u&&S.jsx(ru,{bullets:u,slideIndex:t,count:E.Children.count(l),bulletTestId:Vu}),S.jsx(au,{hasPointer:Lu,canSlideLeft:$u,canSlideRight:Qu,onSlideRight:Wu,onSlideLeft:Ou,showArrows:_,arrowSize:q,arrowAreaHeight:C,arrowPrevLabel:I,arrowNextLabel:L,prevArrowTestId:Cu,nextArrowTestId:qu})]})};try{lu.displayName="CarouselBase",lu.__docgenInfo={description:"",displayName:"CarouselBase",props:{slideWidth:{defaultValue:{value:"100%"},description:'Размер слайда.\n\nЗначение `"custom"` используется, если ширина у слайдов разная.',name:"slideWidth",required:!1,type:{name:'number | LiteralUnion<"custom", string>'}},slideIndex:{defaultValue:{value:"0"},description:"",name:"slideIndex",required:!1,type:{name:"number"}},onDragStart:{defaultValue:null,description:"",name:"onDragStart",required:!1,type:{name:"CustomTouchEventHandler"}},onDragEnd:{defaultValue:null,description:"",name:"onDragEnd",required:!1,type:{name:"((e: CustomTouchEvent, targetIndex: number) => void)"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"((current: number) => void)"}},onPrevClick:{defaultValue:null,description:"Будет вызвано при нажатии на кнопку-стрелку влево.",name:"onPrevClick",required:!1,type:{name:"((event: MouseEvent<Element, MouseEvent>) => void)"}},onNextClick:{defaultValue:null,description:"Будет вызвано при нажатии на кнопку-стрелку вправо.",name:"onNextClick",required:!1,type:{name:"((event: MouseEvent<Element, MouseEvent>) => void)"}},bullets:{defaultValue:{value:"false"},description:"",name:"bullets",required:!1,type:{name:'false | "dark" | "light"'}},dragDisabled:{defaultValue:{value:"false"},description:"Позволяет отключить реагирование на тач-события.",name:"dragDisabled",required:!1,type:{name:"boolean"}},showArrows:{defaultValue:null,description:"",name:"showArrows",required:!1,type:{name:"boolean"}},arrowAreaHeight:{defaultValue:null,description:"Размер активной зоны стрелок (в пикселях).\nОпределяет область вокруг стрелок, реагирующую на взаимодействие пользователя. В дизайне свойство называется `arrowArea`.",name:"arrowAreaHeight",required:!1,type:{name:"enum",value:[{value:'"stretch"'},{value:'"fit"'}]}},hasPointer:{defaultValue:null,description:"",name:"hasPointer",required:!1,type:{name:"boolean"}},arrowSize:{defaultValue:null,description:"",name:"arrowSize",required:!1,type:{name:"enum",value:[{value:'"s"'},{value:'"m"'}]}},arrowPrevLabel:{defaultValue:null,description:"Текст для кнопки-стрелки влево (назад). Делает ее доступной для ассистивных технологий.",name:"arrowPrevLabel",required:!1,type:{name:"string"}},arrowNextLabel:{defaultValue:null,description:"Текст для кнопки-стрелки вправо (вперед). Делает ее доступной для ассистивных технологий.",name:"arrowNextLabel",required:!1,type:{name:"string"}},slideTestId:{defaultValue:null,description:"Передает атрибут `data-testid` для слайда.",name:"slideTestId",required:!1,type:{name:"((index: number) => string)"}},looped:{defaultValue:{value:"false"},description:"Включает зацикленность слайдов.",name:"looped",required:!1,type:{name:"boolean"}},resizeSource:{defaultValue:{value:"window"},description:"Тип источника для отслеживания размера:\n- `window`: пересчет позиции слайдов будет происходить при изменении размеров `window`\n- `element`: пересчет позиции слайдов будет происходить при изменении размеров компонента.",name:"resizeSource",required:!1,type:{name:"enum",value:[{value:'"window"'},{value:'"element"'}]}},getRootRef:{defaultValue:null,description:"",name:"getRootRef",required:!1,type:{name:"Ref<HTMLDivElement>"}},align:{defaultValue:{value:"left"},description:"",name:"align",required:!1,type:{name:"enum",value:[{value:'"center"'},{value:'"left"'},{value:'"right"'}]}},getRef:{defaultValue:null,description:"",name:"getRef",required:!1,type:{name:"Ref<HTMLElement>"}},bulletTestId:{defaultValue:null,description:"Передает атрибут `data-testid` для bullets.",name:"bulletTestId",required:!1,type:{name:"((index: number, active: boolean) => string)"}},nextArrowTestId:{defaultValue:null,description:"Передает атрибут `data-testid` для кнопки перехода к следующему слайду.",name:"nextArrowTestId",required:!1,type:{name:"string"}},prevArrowTestId:{defaultValue:null,description:"Передает атрибут `data-testid` для кнопки перехода к предыдущему слайду.",name:"prevArrowTestId",required:!1,type:{name:"string"}}}}}catch{}function N4({timeout:u,slideIndex:e,onNext:l}){const{document:r}=Au(),[t,a]=E.useState(!1),c=E.useRef(null),s=u4(l),m=E.useCallback(()=>a(!0),[]),p=E.useCallback(()=>a(!1),[]),d=E.useCallback(()=>{c.current&&(clearTimeout(c.current),c.current=null)},[]),h=E.useCallback(()=>{!r||!u||t||(r.visibilityState==="visible"?(d(),c.current=setTimeout(s,u)):d())},[r,u,t,d,s]);return E.useEffect(function(){if(!(!r||!u||t))return h(),r.addEventListener("visibilitychange",h),()=>{d(),r.removeEventListener("visibilitychange",h)}},[r,u,e,h,d,t]),{resume:p,pause:m}}const vu=({initialSlideIndex:u=0,children:e,timeout:l=0,onChange:r,bullets:t,onDragStart:a,onDragEnd:c,...s})=>{const[m,p]=E.useState(u),d=typeof s.slideIndex=="number",h=d?s.slideIndex??0:m,b=E.useMemo(()=>E.Children.toArray(e).filter(I=>!!I),[e]),_=b.length,x=t4(),q=E.useCallback(I=>{I!==h&&(!d&&p(I),r&&r(I))},[d,r,h]),C=N4({timeout:l,slideIndex:h,onNext:()=>q((h+1)%_)}),L=_>0?e4(h,0,_-1):h;return E.useEffect(()=>{r&&L!==h&&r(L),p(L)},[r,L,h]),x?S.jsx(lu,{dragDisabled:d&&!r,...s,onDragStart:pu(a,C.pause),onDragEnd:pu(c,C.resume),bullets:_>0&&t,slideIndex:L,onChange:q,children:b}):null};try{vu.displayName="Gallery",vu.__docgenInfo={description:"",displayName:"Gallery",props:{initialSlideIndex:{defaultValue:{value:"0"},description:"Индекс слайда по умолчанию.",name:"initialSlideIndex",required:!1,type:{name:"number"}},timeout:{defaultValue:{value:"0"},description:"При передаче происходит автоматический переход к следующему слайду через переданное время в ms.",name:"timeout",required:!1,type:{name:"number"}},slideWidth:{defaultValue:null,description:'Размер слайда.\n\nЗначение `"custom"` используется, если ширина у слайдов разная.',name:"slideWidth",required:!1,type:{name:'number | LiteralUnion<"custom", string>'}},slideIndex:{defaultValue:null,description:"",name:"slideIndex",required:!1,type:{name:"number"}},onDragStart:{defaultValue:null,description:"",name:"onDragStart",required:!1,type:{name:"CustomTouchEventHandler"}},onDragEnd:{defaultValue:null,description:"",name:"onDragEnd",required:!1,type:{name:"((e: CustomTouchEvent, targetIndex: number) => void)"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"((current: number) => void)"}},onPrevClick:{defaultValue:null,description:"Будет вызвано при нажатии на кнопку-стрелку влево.",name:"onPrevClick",required:!1,type:{name:"((event: MouseEvent<Element, MouseEvent>) => void)"}},onNextClick:{defaultValue:null,description:"Будет вызвано при нажатии на кнопку-стрелку вправо.",name:"onNextClick",required:!1,type:{name:"((event: MouseEvent<Element, MouseEvent>) => void)"}},bullets:{defaultValue:null,description:"",name:"bullets",required:!1,type:{name:'false | "dark" | "light"'}},dragDisabled:{defaultValue:null,description:"Позволяет отключить реагирование на тач-события.",name:"dragDisabled",required:!1,type:{name:"boolean"}},showArrows:{defaultValue:null,description:"",name:"showArrows",required:!1,type:{name:"boolean"}},arrowAreaHeight:{defaultValue:null,description:"Размер активной зоны стрелок (в пикселях).\nОпределяет область вокруг стрелок, реагирующую на взаимодействие пользователя. В дизайне свойство называется `arrowArea`.",name:"arrowAreaHeight",required:!1,type:{name:"enum",value:[{value:'"stretch"'},{value:'"fit"'}]}},hasPointer:{defaultValue:null,description:"",name:"hasPointer",required:!1,type:{name:"boolean"}},arrowSize:{defaultValue:null,description:"",name:"arrowSize",required:!1,type:{name:"enum",value:[{value:'"s"'},{value:'"m"'}]}},arrowPrevLabel:{defaultValue:null,description:"Текст для кнопки-стрелки влево (назад). Делает ее доступной для ассистивных технологий.",name:"arrowPrevLabel",required:!1,type:{name:"string"}},arrowNextLabel:{defaultValue:null,description:"Текст для кнопки-стрелки вправо (вперед). Делает ее доступной для ассистивных технологий.",name:"arrowNextLabel",required:!1,type:{name:"string"}},slideTestId:{defaultValue:null,description:"Передает атрибут `data-testid` для слайда.",name:"slideTestId",required:!1,type:{name:"((index: number) => string)"}},looped:{defaultValue:null,description:"Включает зацикленность слайдов.",name:"looped",required:!1,type:{name:"boolean"}},resizeSource:{defaultValue:null,description:"Тип источника для отслеживания размера:\n- `window`: пересчет позиции слайдов будет происходить при изменении размеров `window`\n- `element`: пересчет позиции слайдов будет происходить при изменении размеров компонента.",name:"resizeSource",required:!1,type:{name:"enum",value:[{value:'"window"'},{value:'"element"'}]}},getRootRef:{defaultValue:null,description:"",name:"getRootRef",required:!1,type:{name:"Ref<HTMLDivElement>"}},align:{defaultValue:null,description:"",name:"align",required:!1,type:{name:"enum",value:[{value:'"center"'},{value:'"left"'},{value:'"right"'}]}},getRef:{defaultValue:null,description:"",name:"getRef",required:!1,type:{name:"Ref<HTMLElement>"}},bulletTestId:{defaultValue:null,description:"Передает атрибут `data-testid` для bullets.",name:"bulletTestId",required:!1,type:{name:"((index: number, active: boolean) => string)"}},nextArrowTestId:{defaultValue:null,description:"Передает атрибут `data-testid` для кнопки перехода к следующему слайду.",name:"nextArrowTestId",required:!1,type:{name:"string"}},prevArrowTestId:{defaultValue:null,description:"Передает атрибут `data-testid` для кнопки перехода к предыдущему слайду.",name:"prevArrowTestId",required:!1,type:{name:"string"}}}}}catch{}export{vu as G};
