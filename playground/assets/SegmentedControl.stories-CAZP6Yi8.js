import{j as e,r as O,l as Y,m as H,R as M,i as P}from"./iframe-DSAhScPT.js";import{D as k,C as D}from"./constants-DdkjnEgz.js";import{c as w}from"./createStoryParameters-CcwS40kl.js";import{u as A}from"./useConfigDirection-Dm4173QE.js";import{u as $}from"./useEnsuredControl-CbqgyVDK.js";import{u as F}from"./useTabsNavigation-xM-yEq3Y.js";import{h as B}from"./react_utils-CSZjvU4X.js";import{C as K}from"./Clickable-6oth1gD7.js";import{H as U}from"./Headline-CdViHbNM.js";import{V as G}from"./VisuallyHidden-DIyQgeho.js";const J="_host_1aeb2_1",Q="_hover_1aeb2_19",W="_before_1aeb2_23",d={host:J,hover:Q,before:W},_=({getRef:t,children:u,getRootRef:n,before:s,rootProps:g,inputProps:i})=>e.jsxs(K,{Component:"label",baseClassName:d.host,hoverClassName:d.hover,activeClassName:d.hover,getRootRef:n,...g,children:[i&&e.jsx(G,{...i,Component:"input",getRootRef:t,type:"radio"}),B(s)&&e.jsx("div",{className:d.before,children:s}),e.jsx(U,{level:"2",weight:"2",children:u})]});try{_.displayName="SegmentedControlOption",_.__docgenInfo={description:"",displayName:"SegmentedControlOption",props:{rootProps:{defaultValue:null,description:"",name:"rootProps",required:!1,type:{name:"LabelHTMLAttributes<HTMLLabelElement>"}},inputProps:{defaultValue:null,description:"",name:"inputProps",required:!1,type:{name:"InputHTMLAttributes<HTMLInputElement>"}},before:{defaultValue:null,description:"",name:"before",required:!1,type:{name:"ReactNode"}},getRootRef:{defaultValue:null,description:"",name:"getRootRef",required:!1,type:{name:"Ref<HTMLLabelElement>"}},getRef:{defaultValue:null,description:"",name:"getRef",required:!1,type:{name:"Ref<HTMLInputElement>"}}}}}catch{}const X="_host_168ta_1",Z="_sizeL_168ta_10",ee="_slider_168ta_23",te="_rtl_168ta_42",ae="_sizeYRegular_168ta_49",oe="_sizeYNone_168ta_58",o={host:X,sizeL:Z,in:"_in_168ta_14",slider:ee,rtl:te,sizeYRegular:ae,sizeYNone:oe},ne={none:o.sizeYNone,regular:o.sizeYRegular},f=({size:t="l",name:u,options:n,defaultValue:s=(V=>(V=n[0])==null?void 0:V.value)(),children:g,onChange:i,value:x,role:r="radiogroup",...N})=>{const z=O.useId(),v=A()==="rtl",[h,L]=$({onChange:i,value:x,defaultValue:s}),{sizeY:C="none"}=Y(),{tabsRef:j}=F(r==="tablist",v),c=n.findIndex(m=>m.value===h);H(()=>{},[c]);const I={"--vkui_internal--SegmentedControl_actual_index":String(c),"--vkui_internal--SegmentedControl_options":String(n.length)};return e.jsx(M,{...N,baseClassName:P(o.host,C!=="compact"&&ne[C],t==="l"&&o.sizeL,v&&o.rtl),children:e.jsxs("div",{role:r,ref:j,className:o.in,children:[c>-1&&e.jsx("div",{"aria-hidden":!0,className:o.slider,style:I}),n.map(({label:m,before:T,...a})=>{const p=h===a.value,b=()=>L(a.value),q=r==="tablist"?{role:"tab","aria-selected":p,onClick:b,tabIndex:a.tabIndex??(p?0:-1),...a}:void 0,E=r!=="tablist"?{role:a.role||(r==="radiogroup"?"radio":void 0),checked:p,onChange:b,name:u??z,...a}:void 0;return e.jsx(_,{before:T,rootProps:q,inputProps:E,children:m},`${a.value}`)})]})})};try{f.displayName="SegmentedControl",f.__docgenInfo={description:"",displayName:"SegmentedControl",props:{options:{defaultValue:null,description:"Массив опций для отображения в компоненте.",name:"options",required:!0,type:{name:"SegmentedControlOptionInterface[]"}},size:{defaultValue:{value:"l"},description:"Размер компонента.",name:"size",required:!1,type:{name:"enum",value:[{value:'"m"'},{value:'"l"'}]}},name:{defaultValue:null,description:"Имя для input-элементов внутри компонента.",name:"name",required:!1,type:{name:"string"}},onChange:{defaultValue:null,description:"Обработчик изменения выбранного значения.",name:"onChange",required:!1,type:{name:"((value: SegmentedControlValue) => void)"}},value:{defaultValue:null,description:"Текущее выбранное значение (для контролируемого компонента).",name:"value",required:!1,type:{name:"SegmentedControlValue"}},defaultValue:{defaultValue:{value:"options[0]?.value"},description:"Значение по умолчанию (для неконтролируемого компонента).",name:"defaultValue",required:!1,type:{name:"SegmentedControlValue"}},getRootRef:{defaultValue:null,description:"",name:"getRootRef",required:!1,type:{name:"Ref<HTMLDivElement>"}}}}}catch{}const{fn:re}=__STORYBOOK_MODULE_TEST__,le={title:"Forms/SegmentedControl",component:f,parameters:w("SegmentedControl",D,k),args:{onChange:re()},argTypes:{role:{control:"select",options:["radiogroup","tablist"]}},tags:["Формы и поля ввода"]},l={args:{options:[{label:"Баг",value:"bug"},{label:"Идея",value:"idea"},{label:"Другое",value:"other"}],role:"radiogroup"},decorators:[t=>e.jsx("div",{style:{width:"100%"},children:e.jsx(t,{})})]};var y,R,S;l.parameters={...l.parameters,docs:{...(y=l.parameters)==null?void 0:y.docs,source:{originalSource:`{
  args: {
    options: [{
      label: 'Баг',
      value: 'bug'
    }, {
      label: 'Идея',
      value: 'idea'
    }, {
      label: 'Другое',
      value: 'other'
    }],
    role: 'radiogroup'
  },
  decorators: [Component => <div style={{
    width: '100%'
  }}>
        <Component />
      </div>]
}`,...(S=(R=l.parameters)==null?void 0:R.docs)==null?void 0:S.source}}};const se=["Playground"],Ce=Object.freeze(Object.defineProperty({__proto__:null,Playground:l,__namedExportsOrder:se,default:le},Symbol.toStringTag,{value:"Module"}));export{l as P,f as S,Ce as a};
