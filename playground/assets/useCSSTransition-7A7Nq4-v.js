import{o as r,r as k,l as w,H as M,n}from"./iframe-BdXaAE5r.js";const E=a=>void a?.scrollTop,_=100,H=(a,{enableAppear:b=!1,enableEnter:l=!0,enableExit:f=!0,onEnter:C,onEntering:R,onEntered:I,onExit:L,onExiting:A,onExited:D}={})=>{const x=r(C||n),c=r(R||n),i=r(I||n),T=r(L||n),m=r(A||n),u=r(D||n),p=k.useRef(null),o=k.useRef(null),[t,e]=k.useState(()=>a?b?(x(!0),"appear"):"entered":"exited"),S=()=>{p.current&&(clearTimeout(p.current),p.current=null)};w(function(){if(a)switch(t){case"appear":E(o.current),e("appearing"),c(!0);break;case"enter":E(o.current),e("entering"),c();break;case"exiting":if(l){e("entering"),c();break}e("entered"),i();break;case"exited":if(l){e("enter"),x();break}e("entered"),i();break}else switch(t){case"exit":E(o.current),e("exiting"),m();break;case"appearing":case"entering":if(f){e("exiting"),m();break}e("exited"),u();break;case"appeared":case"entered":if(f){e("exit"),T();break}e("exited"),u();break}},[a,t,b,l,x,c,i,f,T,m,u]);const d=r(s=>{switch(S(),t){case"appearing":e("appeared"),i(s?.propertyName,!0);break;case"entering":e("entered"),i(s?.propertyName);break;case"exiting":e("exited"),u(s?.propertyName);break}});return w(function(){const h=o.current;if(h&&(t==="appearing"||t==="entering"||t==="exiting")){const y=getComputedStyle(h),F=g=>g.includes("ms")?parseFloat(g):parseFloat(g)*M,N=Math.max(...y.transitionDuration.split(",").map(F))+Math.max(...y.transitionDelay.split(",").map(F));if(N<=0){d();return}return p.current=setTimeout(d,N+_),S}},[d,t]),[t,{ref:o,onTransitionEnd:t!=="appeared"&&t!=="entered"&&t!=="exited"?d:void 0}]};export{H as u};
