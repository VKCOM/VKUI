import{c as R,r as C,n as A,j as m,g as k,i as V,t as I}from"./iframe-BJ9555aC.js";import{m as M}from"./mergeCalls-Bc-HqyI0.js";import{c as q,C as w}from"./Clickable-BL1AyP3s.js";import{a as j}from"./InputUtils-8LhFcqKY.js";function P(u){const e=u?.getBoundingClientRect();return{top:e?.top,left:e?.left,width:u?.offsetWidth,height:u?.offsetHeight}}const S="_host_1jcno_1",O="_withBorder_1jcno_25",L="_withBorderOnSmallTabletMinus_1jcno_30",x="_borderRadiusInherit_1jcno_35",H="_stateLayer_1jcno_42",W="_hasPointerFalse_1jcno_54",U="_ripple_1jcno_54",z="_hasPointerNone_1jcno_59",K="_hoveredBackground_1jcno_64",X="_activatedBackground_1jcno_68",Y="_hoveredOpacity_1jcno_72",G="_activatedOpacity_1jcno_73",J="_wave_1jcno_85",t={host:S,withBorder:O,withBorderOnSmallTabletMinus:L,borderRadiusInherit:x,stateLayer:H,hasPointerFalse:W,ripple:U,hasPointerNone:z,hoveredBackground:K,activatedBackground:X,hoveredOpacity:Y,activatedOpacity:G,wave:J},F=(u,e)=>R()==="android"&&!e&&u==="background",Q=70,b=225,h=(u,e)=>{const[n,c]=C.useState([]),o=C.useRef(null);o.current===null&&(o.current=new Map),C.useEffect(function(){const r=n.length>0?setTimeout(()=>c([]),b):null;return function(){r&&clearTimeout(r)}},[n]);function _(a,r,i){const s=Date.now(),p=n.filter(D=>D.id+b>s);c([...p,{x:a,y:r,id:s,pointerId:i}]),o.current.delete(i)}const f=a=>{const{top:r,left:i}=P(a.currentTarget),s=a.clientX-(i??0),p=a.clientY-(r??0);o.current.set(a.pointerId,setTimeout(()=>_(s,p,a.pointerId),Q))},d=a=>{const r=o.current.get(a.pointerId);clearTimeout(r),o.current.delete(a.pointerId)},E=(!j||e===!1)&&u;return{clicks:n,onPointerDown:E?f:A,onPointerCancel:E?d:A}},v=({needRipple:u=!0,clicks:e})=>m.jsx("span",{"aria-hidden":!0,className:k(t.stateLayer,u&&t.ripple),children:e.map(n=>m.jsx("span",{className:t.wave,style:{top:n.y,left:n.x}},n.id))});try{F.displayName="useMaybeNeedRipple",F.__docgenInfo={description:`Возможно нужен Ripple эффект. Данный хук нужен для отказа
от двойного ререндера.`,displayName:"useMaybeNeedRipple",props:{}}}catch{}try{h.displayName="useRipple",h.__docgenInfo={description:"Хук для создания Ripple эффектов.",displayName:"useRipple",props:{}}}catch{}try{v.displayName="Ripple",v.__docgenInfo={description:"",displayName:"Ripple",props:{needRipple:{defaultValue:{value:"true"},description:"",name:"needRipple",required:!1,type:{name:"boolean"}},clicks:{defaultValue:null,description:"",name:"clicks",required:!0,type:{name:"Wave[]"}}}}}catch{}const l="background",Z={background:t.hoveredBackground,opacity:t.hoveredOpacity,none:""};function y(u=l){const e=Z[u];return e!==void 0?e:u}const $={background:t.activatedBackground,opacity:t.activatedOpacity,none:""};function B(u=l){const e=$[u];return e!==void 0?e:u}try{y.displayName="hoverClass",y.__docgenInfo={description:"Определяем класс наведения.",displayName:"hoverClass",props:{}}}catch{}try{B.displayName="activeClass",B.__docgenInfo={description:"Определяем класс наведения.",displayName:"activeClass",props:{}}}catch{}try{l.displayName="DEFAULT_STATE_MODE",l.__docgenInfo={description:"Состояние по умолчанию.",displayName:"DEFAULT_STATE_MODE",props:{}}}catch{}function u4(u,e){if(e!==void 0&&e==="compact")return t.withBorder;if(u==="none")return t.withBorderOnSmallTabletMinus;if(u<I.SMALL_TABLET)return t.withBorder}function e4(u){switch(u){case void 0:return t.hasPointerNone;case!1:return t.hasPointerFalse}}const g=({baseClassName:u,borderRadiusMode:e="auto",children:n,hoverMode:c=l,activeMode:o=l,onPointerDown:_,onPointerCancel:f,...d})=>{const E=q(d),{sizeX:a,viewWidth:r="none",hasPointer:i}=V(),s=F(o,i),{clicks:p,...D}=h(s,i),N=M(D,{onPointerDown:_,onPointerCancel:f}),T=d.Component==="button"?{type:"button"}:{};return m.jsxs(w,{baseClassName:k("vkuiInternalTappable",u,t.host,u4(r,a),e==="inherit"&&t.borderRadiusInherit,e4(i)),hoverClassName:y(c),activeClassName:B(o),...T,...N,...d,children:[n,E&&(c==="background"||o==="background")&&m.jsx(v,{needRipple:s,clicks:p})]})};try{g.displayName="Tappable",g.__docgenInfo={description:"",displayName:"Tappable",props:{borderRadiusMode:{defaultValue:{value:"auto"},description:"Задает border-radius элементу\nВ режиме `auto` на маленьких экранах `border-radius: 0`, иначе определяется токеном `--vkui--size_border_radius--regular`.",name:"borderRadiusMode",required:!1,type:{name:"enum",value:[{value:'"inherit"'},{value:'"auto"'}]}},activeClassName:{defaultValue:null,description:"Стиль подсветки `active`-состояния.\n@deprecated Since 7.3.0. Будет удалeно в **VKUI v9**.\n\nИспользуйте свойство `activeMode`.",name:"activeClassName",required:!1,type:{name:"string"}},hoverClassName:{defaultValue:null,description:"Стиль подсветки `hover`-состояния.\n@deprecated Since 7.3.0. Будет удалeно в **VKUI v9**.\n\nИспользуйте свойство `hoverMode`.",name:"hoverClassName",required:!1,type:{name:"string"}},DefaultComponent:{defaultValue:null,description:'Компонент который будет при передаче `onClick`. По умолчанию `"div"`.',name:"DefaultComponent",required:!1,type:{name:"ElementType<any, keyof IntrinsicElements>"}},getRootRef:{defaultValue:null,description:"",name:"getRootRef",required:!1,type:{name:"Ref<HTMLElement>"}},Component:{defaultValue:null,description:"",name:"Component",required:!1,type:{name:"ElementType<any, keyof IntrinsicElements>"}},baseClassName:{defaultValue:null,description:"Базовый класс.",name:"baseClassName",required:!1,type:{name:"string | false"}},baseStyle:{defaultValue:null,description:"Базовые стили.",name:"baseStyle",required:!1,type:{name:"CSSProperties"}},focusVisibleMode:{defaultValue:null,description:"Стиль аутлайна focus visible. Если передать произвольную строку, она добавится как css-класс при :focus-visible",name:"focusVisibleMode",required:!1,type:{name:"FocusVisibleMode"}},hasHover:{defaultValue:null,description:"Указывает, должен ли компонент реагировать на `hover`-состояние.",name:"hasHover",required:!1,type:{name:"boolean"}},hovered:{defaultValue:null,description:"Позволяет управлять `hovered`-состоянием извне.",name:"hovered",required:!1,type:{name:"boolean"}},activated:{defaultValue:null,description:"Позволяет управлять `activated`-состоянием извне.",name:"activated",required:!1,type:{name:"boolean"}},hasActive:{defaultValue:null,description:"Указывает, должен ли компонент реагировать на `active`-состояние.",name:"hasActive",required:!1,type:{name:"boolean"}},hasHoverWithChildren:{defaultValue:null,description:`Позволяет родительскому компоненту
иметь \`hovered\`-cостояние при наведении
на любой дочерний элемент.
По умолчанию состояние hovered у родителя сбрасывается.

Присваивается родителькому компоненту.
@example <Tappable hasHoverWithChildren>
  <IconButton />
  <IconButton />
  <IconButton />
</Tappable>`,name:"hasHoverWithChildren",required:!1,type:{name:"boolean"}},unlockParentHover:{defaultValue:null,description:`Позволяет родительскому компоненту показывать hovered-состояние при наведении
на текущий дочерний компонент.

Присваивается дочернему компоненту.
@example <Tappable>
  <IconButton unlockParentHover />
  <IconButton unlockParentHover />
  <IconButton />
</Tappable>`,name:"unlockParentHover",required:!1,type:{name:"boolean"}},activeEffectDelay:{defaultValue:null,description:"Длительность показа `active`-состояния.",name:"activeEffectDelay",required:!1,type:{name:"number"}},activeMode:{defaultValue:{value:"background"},description:"Стиль подсветки active-состояния. Если передать произвольную строку, она добавится как css-класс во время active.",name:"activeMode",required:!1,type:{name:"StateModeLiteral"}},hoverMode:{defaultValue:{value:"background"},description:"Стиль подсветки hover-состояния. Если передать произвольную строку, она добавится как css-класс во время hover.",name:"hoverMode",required:!1,type:{name:"StateModeLiteral"}}}}}catch{}export{g as T};
