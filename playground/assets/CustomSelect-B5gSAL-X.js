import{l as Xe,s as X,k as oe,j as C,H as tt,m as le,r as n,B as nt,aw as We,h as z,n as te,p as ot,K as E,f as se,bW as lt,e as at,R as Ke}from"./iframe-CDzsgUJ6.js";import{a as st}from"./getValueByKey-D-251Osc.js";import{c as Ee}from"./callMultiple-ChqatQlo.js";import{g as rt,D as it,d as ct}from"./DropdownIcon-DDTBL4u2.js";import{C as dt}from"./CustomSelectDropdown-DUsHfkV7.js";import{C as pt}from"./CustomSelectOption-yYAiYeUv.js";import{a as g,r as ae,b as ne}from"./NativeSelect-B4rCAioC.js";import{F as ft}from"./Footnote-EhoXcm5o.js";import{V as Je}from"./VisuallyHidden-hrbUbT1W.js";import{u as mt}from"./useFocusWithin-UKmiu0Co.js";import{F as Ct}from"./FormField-BNZ78smL.js";import{S as yt}from"./Select.module-DLQY8KpU.js";import{g as vt}from"./children-__GeZXUq.js";import{w as ht}from"./warnOnce-BsOPdcXO.js";import{I as gt}from"./IconButton-DmVT1v_5.js";import{I as bt}from"./cancel_16-BlaGgBnb.js";import{u as Et}from"./useBooleanState-CnmcT8ct.js";import{u as Vt}from"./useStateWithPrev-C_uAPEx8.js";const It="_host_1whlp_1",_t="_el_1whlp_5",Dt="_elCursorPointer_1whlp_25",Rt="_densityCompact_1whlp_29",St="_densityNone_1whlp_34",At="_hasBefore_1whlp_39",Bt="_hasAfter_1whlp_43",Tt="_inputHidden_1whlp_47",Ft="_labelHidden_1whlp_51",Nt="_container_1whlp_51",wt="_accessible_1whlp_66",Ot="_hasInputValue_1whlp_66",qt="_multiline_1whlp_74",kt="_inputGroup_1whlp_88",xt="_title_1whlp_101",Mt="_empty_1whlp_111",Pt="_alignRight_1whlp_122",Ht="_alignCenter_1whlp_127",h={host:It,el:_t,elCursorPointer:Dt,densityCompact:Rt,densityNone:St,hasBefore:At,hasAfter:Bt,inputHidden:Tt,labelHidden:Ft,container:Nt,accessible:wt,hasInputValue:Ot,multiline:qt,inputGroup:kt,title:xt,empty:Mt,alignRight:Pt,alignCenter:Ht},Lt={none:h.densityNone,compact:h.densityCompact},Ve=({style:e,className:u,getRootRef:o,align:l="left",getRef:d,before:a,after:r,status:p,children:m,placeholder:i,selectType:c="default",multiline:s,fetching:y,labelTextTestId:f,searchable:v,accessible:_,slotProps:D,...M})=>{const{density:T="none"}=Xe(),{style:P,className:k,getRootRef:re,...ie}=X({style:e,className:u,getRootRef:o},D?.root),{className:ce,value:H,readOnly:L,disabled:j,placeholder:x,...de}=X({getRootRef:d,placeholder:i,...M},D?.input),pe=m||x,N=!H,J=oe(re),W=mt(J),K=L||j&&y,Q=C.jsx(tt,{type:"text",disabled:j&&!y,readOnly:K,Component:"input",normalize:!1,placeholder:m?"":x,className:le(h.el,(L||N&&!W)&&h.elCursorPointer,ce),value:H,...de}),U=n.useMemo(()=>_?v?!W||K&&!y:!0:!1,[_,y,W,K,v]),fe=N?!1:!U,me=nt();return C.jsx(Ct,{Component:"div",style:P,className:le(h.host,l==="right"&&h.alignRight,l==="center"&&h.alignCenter,!m&&h.empty,s&&h.multiline,T!=="regular"&&Lt[T],a&&h.hasBefore,r&&h.hasAfter,U&&h.inputHidden,fe&&h.labelHidden,_&&h.accessible,H&&h.hasInputValue,k),getRootRef:J,before:a,after:r,disabled:j,mode:rt(c),status:p,...ie,children:C.jsxs("div",{className:h.inputGroup,children:[C.jsx("div",{className:le(h.container,k),tabIndex:-1,"aria-hidden":!0,"data-testid":f,children:C.jsx(yt,{selectType:c,className:h.title,children:pe})}),L&&me==="ios"?C.jsx(Je,{children:Q}):Q]})})};try{Ve.displayName="CustomSelectInput",Ve.__docgenInfo={description:"",displayName:"CustomSelectInput",props:{slotProps:{defaultValue:null,description:"",name:"slotProps",required:!1,type:{name:"{ input?: (InputHTMLAttributes<HTMLInputElement> & HasRootRef<HTMLInputElement> & HasDataAttribute); root?: (Omit<...> & ... 1 more ... & HasDataAttribute); } | undefined"}},selectType:{defaultValue:{value:"default"},description:"",name:"selectType",required:!1,type:{name:"enum",value:[{value:'"plain"'},{value:'"default"'},{value:'"accent"'}]}},multiline:{defaultValue:null,description:"",name:"multiline",required:!1,type:{name:"boolean"}},labelTextTestId:{defaultValue:null,description:"",name:"labelTextTestId",required:!1,type:{name:"string"}},fetching:{defaultValue:null,description:"",name:"fetching",required:!1,type:{name:"boolean"}},searchable:{defaultValue:null,description:"",name:"searchable",required:!1,type:{name:"boolean"}},accessible:{defaultValue:null,description:"",name:"accessible",required:!1,type:{name:"boolean"}},getRef:{defaultValue:null,description:"",name:"getRef",required:!1,type:{name:"Ref<HTMLInputElement>"}},getRootRef:{defaultValue:null,description:"",name:"getRootRef",required:!1,type:{name:"Ref<HTMLDivElement>"}},align:{defaultValue:{value:"left"},description:"",name:"align",required:!1,type:{name:"enum",value:[{value:'"center"'},{value:'"left"'},{value:'"right"'}]}},status:{defaultValue:null,description:"Статус отображения поля в форме.",name:"status",required:!1,type:{name:"enum",value:[{value:'"error"'},{value:'"default"'},{value:'"valid"'}]}},before:{defaultValue:null,description:"Добавляет иконку слева.\n\nРекомендации:\n\n- Используйте следующие размеры иконок `12` | `16` | `20` | `24` | `28`.\n- Используйте [IconButton](https://vkui.io/components/icon-button), если вам нужна иконка, реагирующая на нажатие.",name:"before",required:!1,type:{name:"ReactNode"}},after:{defaultValue:null,description:"Добавляет иконку справа.\n\nРекомендации:\n\n- Используйте следующие размеры иконок `12` | `16` | `20` | `24` | `28`.\n- Используйте [IconButton](https://vkui.io/components/icon-button), если вам нужна иконка, реагируюущая на нажатие.",name:"after",required:!1,type:{name:"ReactNode"}},beforeAlign:{defaultValue:null,description:"Вертикальное выравнивание иконки слева.",name:"beforeAlign",required:!1,type:{name:"enum",value:[{value:'"center"'},{value:'"start"'},{value:'"end"'}]}},afterAlign:{defaultValue:null,description:"Вертикальное выравнивание иконки справа.",name:"afterAlign",required:!1,type:{name:"enum",value:[{value:'"center"'},{value:'"start"'},{value:'"end"'}]}}}}}catch{}const Ue=(e=[],u=-1)=>u>=e.length-1?-1:e.findIndex((o,l)=>l>u&&!o.disabled),$e=(e=[],u=e.length)=>{let o=-1;if(u<=0)return o;for(let l=u-1;l>=0;l--)if(!e[l].disabled){o=l;break}return o},Ge=ht("CustomSelect"),jt=(e,u)=>{!e&&u&&Ge("Похоже, что компонент был переведен из состояния Uncontrolled в Controlled. Пожалуйста, не делайте так. Если вам нужно отобразить невыбранное состояние компонента, используйте value=null вместо undefined","error"),e&&!u&&Ge("Похоже, что компонент был переведен из состояния Controlled в Uncontrolled. Пожалуйста, не делайте так. Если вам нужно отобразить невыбранное состояние компонента, используйте value=null вместо undefined","error")};function De(e=[],u){return u===g.CUSTOM?-1:e.findIndex(o=>(u=typeof o.value=="number"?Number(u):u,o.value===u))??-1}function Qe(e=[],u){const o=De(e,u);return o===-1?null:e[o]}const Wt=(e,u,o)=>typeof o=="function"?e.filter(l=>o(u,l)):e;function Kt(e=[],u){const o=Qe(e,u);return o?vt(o.label):""}const Ie=({className:e,onClick:u,...o})=>C.jsx(gt,{Component:"button",label:"Очистить поле",onKeyDown:We,type:"button",activeMode:"opacity",hoverMode:"opacity",...o,className:e,onClick:l=>{We(l),l.preventDefault(),u()},children:C.jsx(bt,{})});try{Ie.displayName="CustomSelectClearButton",Ie.__docgenInfo={description:"",displayName:"CustomSelectClearButton",props:{className:{defaultValue:null,description:"`className` для компонента.",name:"className",required:!1,type:{name:"string"}},onClick:{defaultValue:null,description:"Обработчик нажатия на кнопку.",name:"onClick",required:!0,type:{name:"() => void"}},disabled:{defaultValue:null,description:"Блокировка взаимодействия с компонентом.",name:"disabled",required:!1,type:{name:"boolean"}}}}}catch{}const Ut="_host_94pn7_1",$t="_popDown_94pn7_8",Gt="_popUp_94pn7_13",Yt="_control_94pn7_18",zt="_empty_94pn7_22",Xt="_dropdownIcon_94pn7_35",Jt="_clearIcon_94pn7_39",Qt="_densityCompact_94pn7_43",Zt="_densityNone_94pn7_52",B={host:Ut,popDown:$t,popUp:Gt,control:Yt,empty:zt,dropdownIcon:Xt,clearIcon:Jt,densityCompact:Qt,densityNone:Zt};function _e({value:e,nativeSelectValue:u,isControlledOutside:o,opened:l,allowClearButton:d,ClearButton:a=Ie,onClearButtonClick:r,clearButtonTestId:p,disabled:m,readOnly:i,icon:c}){const s=z(r),y=o&&e!==g.CUSTOM,f=!o&&u!==g.NATIVE,v=d&&!l&&(y||f),_=n.useMemo(()=>v?C.jsx(a,{className:c===void 0?B.clearIcon:void 0,onClick:s,disabled:m,"data-testid":p}):null,[v,a,c,s,m,p]),D=n.useMemo(()=>c!==void 0?c:C.jsx(it,{className:v?B.dropdownIcon:void 0,opened:l}),[v,c,l]);return n.useMemo(()=>!i&&(D||v)&&C.jsxs(n.Fragment,{children:[_,D]}),[_,v,D,i])}try{_e.displayName="useAfterItems",_e.__docgenInfo={description:"",displayName:"useAfterItems",props:{isControlledOutside:{defaultValue:null,description:"",name:"isControlledOutside",required:!0,type:{name:"boolean"}},nativeSelectValue:{defaultValue:null,description:"",name:"nativeSelectValue",required:!0,type:{name:"NativeSelectValue"}},opened:{defaultValue:null,description:"",name:"opened",required:!0,type:{name:"boolean"}},onClearButtonClick:{defaultValue:null,description:"",name:"onClearButtonClick",required:!0,type:{name:"() => void"}},value:{defaultValue:null,description:"Выбранное значение.\n\n> ⚠️  Важно: При прокидывании `undefined` компонент будет считаться `Uncontrolled`.\n>\n> Не используйте `undefined`, чтобы показать невыбранное состояние. Вместо этого используйте `null`.",name:"value",required:!1,type:{name:"SelectValue"}},icon:{defaultValue:null,description:"Иконка раскрывающегося списка.",name:"icon",required:!1,type:{name:"ReactNode"}},clearButtonTestId:{defaultValue:null,description:"Передает атрибут `data-testid` для кнопки очистки.",name:"clearButtonTestId",required:!1,type:{name:"string"}},ClearButton:{defaultValue:{value:`({
  className,
  onClick,
  ...restProps
}: CustomSelectClearButtonProps): React.ReactNode => {
  return (
    <IconButton
      Component="button"
      label="Очистить поле"
      onKeyDown={stopPropagation}
      type="button"
      activeMode="opacity"
      hoverMode="opacity"
      {...restProps}
      className={className}
      onClick={(e) => {
        stopPropagation(e);
        e.preventDefault();
        onClick();
      }}
    >
      <Icon16Cancel />
    </IconButton>
  );
}`},description:"Кастомная кнопка для очистки значения.\nДолжна принимать обязательное свойство `onClick`.",name:"ClearButton",required:!1,type:{name:"ComponentType<CustomSelectClearButtonProps>"}},allowClearButton:{defaultValue:null,description:"Если `true`, то справа будет отображаться кнопка для очистки значения.",name:"allowClearButton",required:!1,type:{name:"boolean"}}}}}catch{}function en({onClose:e,onOpen:u,onOpened:o,onClosed:l}){const[d,a,r]=Et(),p=z(e||te),m=z(u||te),i=z(o||te),c=z(l||te),s=n.useCallback(()=>{d&&(r(),p?.())},[p,d,r]),y=n.useCallback(()=>{d||(a(),m?.())},[m,d,a]),f=n.useCallback(()=>{d?s():y()},[s,y,d]);return n.useEffect(()=>{d?i():c()},[c,i,d]),[d,y,s,f]}function un({selectedOptionValue:e,filteredOptions:u,scrollToElement:o}){const[l,d]=n.useState(null),a=n.useCallback((i,c=!0)=>{if(i===void 0||i<0||i>u.length-1)return;const s=u[i];!s||s.disabled||(c&&o(i),d(s.value))},[u,o]),r=n.useCallback(()=>{d(null)},[]),p=n.useCallback(i=>{let c=De(u,l);if(i==="next"){const s=Ue(u,c);c=s===-1?Ue(u):s}else if(i==="prev"){const s=$e(u,c);c=s===-1?$e(u):s}a(c)},[u,l,a]),m=n.useCallback(()=>d(e),[e]);return{focusedOptionValue:l,setFocusedOptionValue:d,focusOptionByIndex:a,resetFocusedOption:r,focusOption:p,selectFocusedValue:m}}const tn=[E.ARROW_UP,E.ARROW_DOWN,E.ESCAPE,E.ENTER];function nn({opened:e,resetFocusedOption:u,focusOption:o,scrollBoxRef:l,selectFocused:d,onInputKeyDown:a,open:r,close:p}){const m=n.useCallback(s=>{const y=ot(s);if(s.key.length===1&&y!==E.SPACE){r(),u();return}if(!y)return;const f=()=>l.current!==null;switch(tn.includes(y)&&s.preventDefault(),y){case E.ARROW_UP:e?f()&&o("prev"):r();break;case E.ARROW_DOWN:e?f()&&o("next"):r();break;case E.ESCAPE:p();break;case E.BACKSPACE:case E.DELETE:{r(),u();break}case E.ENTER:case E.SPACE:e?f()&&d():r();break}},[l,e,p,o,r,u,d]),i=n.useCallback(s=>{a?.(s,e)},[e,a]);return s=>{m(s),i(s)}}function on({options:e,accessible:u,selectedValue:o,onInputChange:l}){const[d,a]=n.useState(""),r=n.useRef(e);se(()=>{r.current=e},[e]);const p=n.useCallback(()=>{a(Kt(r.current,o))},[o]);se(()=>{u&&p()},[u,p]);const m=n.useCallback(()=>{a("")},[]),i=n.useCallback(c=>{l&&l(c),a(c.target.value)},[l,a]);return{inputValue:d,resetInputValue:m,resetInputValueBySelectedOption:p,onInputChange:i}}function ln(){const e=n.useRef(null),u=n.useRef(null);return{scrollToElement:n.useCallback((l,d=!1)=>{const a=e.current,r=u.current;if(!a||!r||l<0||l>r.children.length)return;const p=r.children[l];if(!p)return;const m=a.offsetHeight,i=a.scrollTop,c=p.offsetTop,s=p.offsetHeight;d?a.scrollTop=c-m/2+s/2:c+s>m+i?a.scrollTop=c-m+s:c<i&&(a.scrollTop=c)},[u,e]),scrollBoxRef:e,optionsWrapperRef:u}}function an({value:e,defaultValue:u,isControlledOutside:o,allowClearButton:l,onChange:d}){const[[a,r],p]=Vt(()=>e!==void 0?ne(e):u!==void 0?ne(u):g.NATIVE),m=n.useRef(a),[i,c]=n.useState(()=>ae(a)),s=n.useCallback(f=>{p(f),m.current=f},[p]);return n.useEffect(function(){e!==void 0&&s(ne(e))},[e,s]),n.useEffect(function(){const v=ne(i);m.current!==v&&p(v)},[i,p]),{selectedOptionValue:i,setSelectedOptionValue:c,nativeSelectValue:a,setNativeSelectValue:s,onNativeSelectChange:f=>{const v=typeof a=="number"&&(typeof e=="string"||typeof r=="string")?String(a):a,_=o&&e===ae(v),D=v!==r&&r!==void 0,M=l&&a===g.NATIVE&&r!==void 0&&r!==g.NATIVE;if(!(!_&&(D||M)))return;const P=ae(f.currentTarget.value);f.target.value===g.NATIVE&&(f.target.value=""),f.currentTarget.value===g.NATIVE&&(f.currentTarget.value=""),d?.(f,P)}}}const sn={none:B.densityNone,compact:B.densityCompact};function rn({option:e,...u}){return C.jsx(pt,{...u})}function Ye(e,u){return Math.abs(u.x-e.clientX)>=1||Math.abs(u.y-e.clientY)>=1}const cn=2e3,dn=({fetching:e=!1,options:u,fetchingInProgressLabel:o="Список опций загружается...",fetchingCompletedLabel:l=`Загружено опций: ${u.length}`})=>{const[d,a]=n.useState("none"),r=st(d,{fetching:o,loaded:typeof l=="function"?l(u.length):l,none:""});return se(function(){e?a("fetching"):d==="fetching"&&(a("loaded"),setTimeout(()=>a("none"),cn))},[e]),C.jsx(Je,{"aria-live":"polite",children:r})};function ze(e){const{status:u,before:o,overscrollBehavior:l,children:d,getSelectInputRef:a,searchable:r=!1,emptyText:p="Ничего не найдено",onInputChange:m,options:i,filterFn:c=ct,popupDirection:s="bottom",renderOption:y=rn,renderDropdown:f,fetching:v,onClose:_,onOpen:D,ClearButton:M,allowClearButton:T=!1,clearButtonTestId:P,dropdownOffsetDistance:k=0,dropdownAutoWidth:re=!1,forceDropdownPortal:ie,noMaxHeight:ce=!1,labelTextTestId:H,nativeSelectTestId:L,onInputKeyDown:j,accessible:x=!0,fetchingInProgressLabel:de,fetchingCompletedLabel:pe,value:N,defaultValue:J,onChange:W,getRef:K,multiline:Q,placeholder:U,icon:fe,selectType:me="default",align:Ze,form:eu,minLength:uu,maxLength:tu,pattern:nu,autoFocus:ou,disabled:lu,id:au,readOnly:su,required:ru,name:iu,onClick:cu,onFocus:du,onBlur:pu,"aria-labelledby":Re,slotProps:Ce,...fu}=e,{density:Se="none"}=Xe(),{onClick:mu,onMouseMove:Cu,onMouseDown:yu,getRootRef:vu,...hu}=X(fu,Ce?.root),{getRootRef:gu,...bu}=X({getRootRef:K,required:ru,name:iu,form:eu,onClick:cu,onFocus:du,onBlur:pu},Ce?.select),{getRootRef:Eu,onChange:Vu,onFocus:Iu,onBlur:_u,onKeyDown:Ae,onClick:Be,readOnly:Z,...Te}=X({getRootRef:a,onChange:m,minLength:uu,maxLength:tu,pattern:nu,autoFocus:ou,disabled:lu,id:au,readOnly:su,placeholder:U},Ce?.input),Fe=n.useRef(null),Du=oe(Fe,vu),F=oe(gu),R=oe(Eu),S=n.useMemo(()=>{if(N!==void 0)return Qe(i,N)?.value??null},[i,N]),[ee,Ru]=n.useState(N!==void 0),[ye,Su]=n.useState(s),{nativeSelectValue:V,setNativeSelectValue:ve,selectedOptionValue:w,setSelectedOptionValue:Ne,onNativeSelectChange:Au}=an({value:S,defaultValue:J,isControlledOutside:ee,allowClearButton:T,onChange:W}),Bu=n.useMemo(()=>i.find(t=>t.value===w),[i,w]),{inputValue:he,onInputChange:Tu,resetInputValue:we,resetInputValueBySelectedOption:Fu}=on({options:i,accessible:x,selectedValue:w,onInputChange:Vu}),A=n.useMemo(()=>Wt(i,r?he:"",c),[c,he,i,r]),{scrollToElement:Oe,optionsWrapperRef:qe,scrollBoxRef:ke}=ln(),{focusedOptionValue:O,setFocusedOptionValue:xe,resetFocusedOption:ge,focusOptionByIndex:Me,focusOption:Nu,selectFocusedValue:wu}=un({selectedOptionValue:w,filteredOptions:A,scrollToElement:Oe}),Ou=()=>{Oe(De(A,w),!0)},[q,qu,$,ku]=en({onOpen:Ee(wu,D),onOpened:Ou,onClose:_,onClosed:x?Fu:we});n.useEffect(function(){const b=S!==void 0?S:ae(V);Ne(b),xe(b)},[S,V,xe,Ne]),n.useEffect(function(){Ru(b=>{const I=S!==void 0;return jt(b,I),I})},[S]),se(()=>{if(A.some(({value:t})=>V===t)||T&&V===g.NATIVE){const t=new Event("change",{bubbles:!0});F.current?.dispatchEvent(t)}},[V]);const xu=n.useMemo(()=>q&&k===0&&(ye.includes("top")?B.popUp:B.popDown)||void 0,[k,q,ye]),ue=n.useCallback(t=>{if(ve(t??g.NATIVE),$(),ee&&S!==V&&V===t){const I=new Event("change",{bubbles:!0});F.current?.dispatchEvent(I)}},[$,ve,ee,S,V,F]),Mu=n.useCallback(()=>{O!==null&&ue(O)},[O,ue]),Pu=nn({opened:q,open:qu,close:$,resetFocusedOption:ge,selectFocused:Mu,focusOption:Nu,scrollBoxRef:ke,onInputKeyDown:j}),Hu=n.useCallback(()=>{$();const t=new Event("focusout",{bubbles:!0});F.current?.dispatchEvent(t)},[$,F]),Lu=n.useCallback(()=>{const t=new Event("focusin",{bubbles:!0});F.current?.dispatchEvent(t)},[F]),Pe=n.useCallback(t=>{const b=Array.prototype.indexOf.call(t.currentTarget.parentNode?.children,t.currentTarget),I=A[b];I&&!I.disabled&&ue(I.value)},[A,ue]),be=n.useRef({x:0,y:0}),He=n.useCallback((t,b)=>{Ye(t,be.current)&&Me(b,!1)},[Me]),G=n.useId(),Le=n.useCallback((t,b)=>{const I=t.value===O,et=t.value===w;return C.jsx(n.Fragment,{children:y({option:t,hovered:I,children:t.label,selected:et,disabled:t.disabled,onClick:Pe,onMouseDown:lt,onMouseMove:ut=>He(ut,b),id:`${G}-${t.value}`,...t})},`${typeof t.value}-${t.value}`)},[O,w,y,Pe,G,He]),ju=n.useMemo(()=>{const t=A.length>0?C.jsx("div",{ref:qe,children:A.map(Le)}):C.jsx(ft,{className:B.empty,children:p});return typeof f=="function"?f({defaultDropdownContent:t}):t},[p,A,qe,f,Le]),Wu=_e({value:S,nativeSelectValue:V,isControlledOutside:ee,opened:q,allowClearButton:T,ClearButton:M,onClearButtonClick:()=>{ve(g.NATIVE),we(),R.current&&R.current.focus()},clearButtonTestId:P,disabled:Te.disabled,readOnly:Z,icon:fe}),{document:Y}=at(),Ku=n.useCallback(t=>{if(!R.current||!Y)return;t.target!==R.current&&(R.current.click(),Y.activeElement!==R.current&&R.current.focus())},[Y,R]),Uu=t=>{Y&&Y.activeElement===R.current&&t.preventDefault()},je=O!==null?O:void 0,$u={role:"combobox","aria-controls":G,"aria-expanded":q,"aria-activedescendant":je&&q?`${G}-${je}`:void 0,"aria-labelledby":Re,"aria-haspopup":"listbox","aria-autocomplete":"none"},Gu=n.useCallback(t=>{Ye(t,be.current)&&ge()},[ge]),Yu=t=>{be.current={x:t.clientX,y:t.clientY}},zu=t=>{mu?.(t),Ku(t)},Xu=t=>{yu?.(t),Uu(t)},Ju=t=>{Cu?.(t),Yu(t)},Qu=t=>{Lu(),Iu?.(t)},Zu=t=>{Hu(),_u?.(t)};return C.jsxs(Ke,{baseClassName:le(B.host,Se!=="regular"&&sn[Se]),getRootRef:Du,onClick:zu,onMouseDown:Xu,onMouseMove:Ju,...hu,children:[C.jsx(Ve,{fetching:v,searchable:r,accessible:x,before:o,after:Wu,selectType:me,align:Ze,status:u,multiline:Q,labelTextTestId:H,slotProps:{root:{className:xu},input:{autoComplete:"off",autoCapitalize:"none",autoCorrect:"off",spellCheck:"false",getRootRef:R,onChange:Tu,value:he,readOnly:Z||!r,placeholder:U,onFocus:Qu,onBlur:Zu,onKeyDown:Z?Ae:Ee(Pu,Ae),onClick:Z?Be:Ee(ku,Be),...$u,...Te}},children:Bu?.label}),C.jsx(dn,{fetching:v,options:A,fetchingInProgressLabel:de,fetchingCompletedLabel:pe}),C.jsxs(Ke,{Component:"select",baseClassName:B.control,tabIndex:-1,value:V,"aria-hidden":!0,"data-testid":L,onChange:Au,getRootRef:F,...bu,children:[(T||V===g.NATIVE)&&C.jsx("option",{value:g.NATIVE},g.NATIVE),i.map(t=>C.jsx("option",{value:t.value},`${t.value}`))]}),q&&C.jsx(dt,{targetRef:Fe,placement:ye,scrollBoxRef:ke,onPlacementChange:Su,onMouseLeave:Gu,fetching:v,overscrollBehavior:l,offsetDistance:k,autoWidth:re,forcePortal:ie,noMaxHeight:ce,role:"listbox",id:G,"aria-labelledby":Re,tabIndex:-1,children:ju})]})}try{ze.displayName="CustomSelect",ze.__docgenInfo={description:"",displayName:"CustomSelect",props:{slotProps:{defaultValue:null,description:"Свойства, которые можно прокинуть внутрь компонента:\n- `root`: свойства для прокидывания в корень компонента;\n- `select`: свойства для прокидывания в нативный `select`;\n- `input`: свойства для прокидывания в нативный `input`.",name:"slotProps",required:!1,type:{name:'({ root?: (Omit<HTMLAttributes<HTMLDivElement>, "children"> & HasDataAttribute & HasRootRef<HTMLDivElement>); select?: (NativeHTMLSelectProps & ... 1 more ... & HasDataAttribute); } & { ...; }) | undefined'}},getSelectInputRef:{defaultValue:null,description:"@deprecated Since 7.9.0. Вместо этого используйте `slotProps={ input: { getRootRef: ... } }`.\n\nRef на внутрений компонент input.",name:"getSelectInputRef",required:!1,type:{name:"Ref<HTMLInputElement>"}},searchable:{defaultValue:null,description:"Если `true`, то при нажатии на `CustomSelect` в нём появится текстовое поле для поиска по `options`. По умолчанию поиск\nпроизводится по `option.label`.",name:"searchable",required:!1,type:{name:"boolean"}},emptyText:{defaultValue:null,description:"Текст, который будет отображен, если приходит пустой `options`.",name:"emptyText",required:!1,type:{name:"string"}},onInputChange:{defaultValue:null,description:"Событие изменения текстового поля.",name:"onInputChange",required:!1,type:{name:"((e: ChangeEvent<HTMLInputElement>) => void)"}},options:{defaultValue:null,description:"Список опций в списке.",name:"options",required:!0,type:{name:"OptionInterfaceT[]"}},filterFn:{defaultValue:null,description:"Функция для кастомной фильтрации. По умолчанию поиск производится по `option.label`.",name:"filterFn",required:!1,type:{name:"false | FilterFn<OptionInterfaceT>"}},popupDirection:{defaultValue:null,description:"Направление раскрытия выпадающего списка.",name:"popupDirection",required:!1,type:{name:"enum",value:[{value:'"top"'},{value:'"bottom"'},{value:'"top-start"'},{value:'"top-end"'},{value:'"bottom-start"'},{value:'"bottom-end"'}]}},renderOption:{defaultValue:null,description:"Рендер-проп для кастомного рендера опции.\nВ объекте аргумента приходят [свойства опции](https://vkui.io/components/custom-select#custom-select-option-api).\n\n> ⚠️  Важно: свойство опции `disabled` должно выставляться только через проп `options`.\n> Запрещается выставлять `disabled` проп опциям в обход `options`, иначе `CustomSelect` не будет знать об актуальном состоянии\nопции.",name:"renderOption",required:!1,type:{name:"((props: CustomSelectRenderOption<OptionInterfaceT>) => ReactNode)"}},renderDropdown:{defaultValue:null,description:"Рендер-проп для кастомного рендера содержимого дропдауна.\nВ `defaultDropdownContent` содержится список опций в виде скроллящегося блока.",name:"renderDropdown",required:!1,type:{name:"(({ defaultDropdownContent, }: { defaultDropdownContent: ReactNode; }) => ReactNode)"}},fetching:{defaultValue:{value:"false"},description:'Если `true`, то в дропдауне вместо списка опций рисуется спиннер. При переданных `renderDropdown` и `fetching: true`\n"победит" `renderDropdown`.',name:"fetching",required:!1,type:{name:"boolean"}},onClose:{defaultValue:null,description:"Обработчик закрытия выпадающего списка.",name:"onClose",required:!1,type:{name:"VoidFunction"}},onOpen:{defaultValue:null,description:"Обработчик открытия выпадающего списка.",name:"onOpen",required:!1,type:{name:"VoidFunction"}},ClearButton:{defaultValue:null,description:"Кастомная кнопка для очистки значения.\nДолжна принимать обязательное свойство `onClick`.",name:"ClearButton",required:!1,type:{name:"ComponentType<CustomSelectClearButtonProps>"}},allowClearButton:{defaultValue:null,description:"Если `true`, то справа будет отображаться кнопка для очистки значения.",name:"allowClearButton",required:!1,type:{name:"boolean"}},clearButtonTestId:{defaultValue:null,description:"Передает атрибут `data-testid` для кнопки очистки.",name:"clearButtonTestId",required:!1,type:{name:"string"}},dropdownOffsetDistance:{defaultValue:null,description:"Отступ от выпадающего списка.",name:"dropdownOffsetDistance",required:!1,type:{name:"number"}},dropdownAutoWidth:{defaultValue:null,description:"Ширина раскрывающегося списка зависит от контента.",name:"dropdownAutoWidth",required:!1,type:{name:"boolean"}},forceDropdownPortal:{defaultValue:null,description:"Использовать Portal для рендеринга выпадающего списка.",name:"forceDropdownPortal",required:!1,type:{name:"boolean"}},noMaxHeight:{defaultValue:null,description:"Отключает максимальную высоту по умолчанию.",name:"noMaxHeight",required:!1,type:{name:"boolean"}},labelTextTestId:{defaultValue:null,description:"Передает атрибут `data-testid` для элемента, внутри которого отображается текст выбранной опции `CustomSelect` или плейсхолдер.",name:"labelTextTestId",required:!1,type:{name:"string"}},nativeSelectTestId:{defaultValue:null,description:"@deprecated Since 7.9.0. Вместо этого используйте `slotProps={ select: { 'data-testid': ... } }`.\n\nПередает атрибут `data-testid` для нативного элемента `select`.",name:"nativeSelectTestId",required:!1,type:{name:"string"}},onInputKeyDown:{defaultValue:null,description:"Обработчик события `keyDown` в поле ввода.",name:"onInputKeyDown",required:!1,type:{name:"((e: KeyboardEvent<Element>, isOpen: boolean) => void)"}},accessible:{defaultValue:null,description:`@deprecated Since 8.0.0. Будет удалено в 9.0.0.

Включает режим в котором выбранное значение \`CustomSelect\` читается скринридерами корректно.
В данном режиме введенное в поле ввода значение не сбрасывается при потере фокуса.`,name:"accessible",required:!1,type:{name:"boolean"}},fetchingInProgressLabel:{defaultValue:{value:"Список опций загружается..."},description:'Текстовая метка для индикации процесса загрузки данных для пользователей скринридерами. По умолчанию: `"Список опций загружается..."`.',name:"fetchingInProgressLabel",required:!1,type:{name:"string"}},fetchingCompletedLabel:{defaultValue:{value:"`Загружено опций: ${options.length}`"},description:'Текстовая метка для индикации завершения процесса загрузки данных для пользователей скринридерами. По умолчанию: `"Загружено опций: ${options.length}"`.',name:"fetchingCompletedLabel",required:!1,type:{name:"string | ((optionsCount: number) => string)"}},status:{defaultValue:null,description:"Статус отображения поля в форме.",name:"status",required:!1,type:{name:"enum",value:[{value:'"error"'},{value:'"default"'},{value:'"valid"'}]}},before:{defaultValue:null,description:"Добавляет иконку слева.\n\nРекомендации:\n\n- Используйте следующие размеры иконок `12` | `16` | `20` | `24` | `28`.\n- Используйте [IconButton](https://vkui.io/components/icon-button), если вам нужна иконка, реагирующая на нажатие.",name:"before",required:!1,type:{name:"ReactNode"}},getRef:{defaultValue:null,description:"@deprecated Since 7.9.0. Вместо этого используйте `slotProps={ select: { getRootRef: ... } }`.",name:"getRef",required:!1,type:{name:"Ref<HTMLSelectElement>"}},defaultValue:{defaultValue:null,description:"См. `value`.",name:"defaultValue",required:!1,type:{name:"SelectValue"}},onChange:{defaultValue:null,description:`Обработчик, срабатывающий при изменении выбранного значения.
Вторым параметром прокидывается новое значение.

> ⚠️ Лучше использовать второй параметр при работе с компонентом.`,name:"onChange",required:!1,type:{name:"((e: ChangeEvent<HTMLSelectElement>, newValue: SelectValue) => void)"}},getRootRef:{defaultValue:null,description:"",name:"getRootRef",required:!1,type:{name:"Ref<HTMLDivElement>"}},placeholder:{defaultValue:null,description:"Текст-подсказка при отсутствии выбранного значения.",name:"placeholder",required:!1,type:{name:"string"}},value:{defaultValue:null,description:"Выбранное значение.\n\n> ⚠️  Важно: При прокидывании `undefined` компонент будет считаться `Uncontrolled`.\n>\n> Не используйте `undefined`, чтобы показать невыбранное состояние. Вместо этого используйте `null`.",name:"value",required:!1,type:{name:"SelectValue"}},align:{defaultValue:null,description:"",name:"align",required:!1,type:{name:"enum",value:[{value:'"center"'},{value:'"left"'},{value:'"right"'}]}},multiline:{defaultValue:null,description:"Флаг для включения многострочного режима.",name:"multiline",required:!1,type:{name:"boolean"}},icon:{defaultValue:null,description:"Иконка раскрывающегося списка.",name:"icon",required:!1,type:{name:"ReactNode"}},selectType:{defaultValue:null,description:"Тип селекта, влияющий на отображение.",name:"selectType",required:!1,type:{name:"enum",value:[{value:'"plain"'},{value:'"default"'},{value:'"accent"'}]}},after:{defaultValue:null,description:"Добавляет иконку справа.\n\nРекомендации:\n\n- Используйте следующие размеры иконок `12` | `16` | `20` | `24` | `28`.\n- Используйте [IconButton](https://vkui.io/components/icon-button), если вам нужна иконка, реагируюущая на нажатие.",name:"after",required:!1,type:{name:"ReactNode"}},mode:{defaultValue:null,description:"Режим отображения.\n\n- `default` — показывает фон, обводку и, при наличии, текст-подсказку.\n- `plain` — показывает только текст-подсказку.",name:"mode",required:!1,type:{name:"enum",value:[{value:'"plain"'},{value:'"default"'}]}},beforeAlign:{defaultValue:null,description:"Вертикальное выравнивание иконки слева.",name:"beforeAlign",required:!1,type:{name:"enum",value:[{value:'"center"'},{value:'"start"'},{value:'"end"'}]}},afterAlign:{defaultValue:null,description:"Вертикальное выравнивание иконки справа.",name:"afterAlign",required:!1,type:{name:"enum",value:[{value:'"center"'},{value:'"start"'},{value:'"end"'}]}},overscrollBehavior:{defaultValue:null,description:"Поведение overscroll, подробнее можно почитать в [документации](https://developer.mozilla.org/en-US/docs/Web/CSS/overscroll-behavior).",name:"overscrollBehavior",required:!1,type:{name:"enum",value:[{value:'"none"'},{value:'"auto"'},{value:'"contain"'}]}}}}}catch{}export{ze as C};
