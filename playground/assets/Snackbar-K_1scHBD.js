import{r,n as G,i as E4,j as m,R as K,g as Q,x as $,c as m4,h as f4,ah as D4,q as M,a_ as p4}from"./iframe-CJSxyW9U.js";import{u as B4}from"./useConfigDirection-C3cHGESc.js";import{u as _4}from"./useFocusWithin-B6ZQto83.js";import{u as C4}from"./useGlobalEscKeyDown-Ctvb27ds.js";import{c as y4}from"./callMultiple-ChqatQlo.js";import{B as F4}from"./Button-BC2c2Xtj.js";import{P as A4}from"./Paragraph-Drw97mgp.js";import{S as x4}from"./Subhead-B39S2HHi.js";import{r as y,U as b4}from"./rubberbandIfOutOfBounds-CGRhXfJX.js";import{u as h4}from"./useCSSKeyframesAnimationController-MRE4Ku0E.js";const v4=r.createContext({isInsideContainer:!1,onClosed:G,onOpen:G}),g4="_body_11d3d_1",k4="_densityRegular_11d3d_21",R4="_densityNone_11d3d_33",T4="_modeDark_11d3d_45",N4="_before_11d3d_49",z4="_after_11d3d_53",V4="_content_11d3d_57",S4="_contentText_11d3d_64",q4="_contentSubtitle_11d3d_74",M4="_layoutHorizontal_11d3d_84",I4="_action_11d3d_84",H4="_layoutVertical_11d3d_89",w4="_layoutNone_11d3d_101",d={body:g4,densityRegular:k4,densityNone:R4,modeDark:T4,before:N4,after:z4,content:V4,contentText:S4,contentSubtitle:q4,layoutHorizontal:M4,action:I4,layoutVertical:H4,layoutNone:w4},j4={none:d.layoutNone,vertical:d.layoutVertical,horizontal:d.layoutHorizontal},L4={none:d.densityNone,regular:d.densityRegular};function T({layout:t,action:e,after:u,before:o,mode:s,subtitle:a,children:l,...N}){const{density:h="none"}=E4(),A=u||a?"vertical":"none";return m.jsxs(K,{...N,baseClassName:Q(d.body,j4[t||A],h!=="compact"&&L4[h],s==="dark"&&d.modeDark),children:[o&&m.jsx("div",{className:d.before,children:o}),m.jsxs("div",{className:d.content,children:[m.jsx(A4,{className:d.contentText,children:l}),a&&!e&&m.jsx(x4,{className:d.contentSubtitle,children:a}),e&&!a&&m.jsx("div",{className:d.action,children:e})]}),u&&m.jsx("div",{className:d.after,children:u})]})}try{T.displayName="Basic",T.__docgenInfo={description:"",displayName:"Basic",props:{getRootRef:{defaultValue:null,description:"",name:"getRootRef",required:!1,type:{name:"Ref<HTMLDivElement>"}},action:{defaultValue:null,description:"Элемент действия.\nНе может использоваться одновременно с `subtitle`.",name:"action",required:!1,type:{name:"ReactNode"}},after:{defaultValue:null,description:"Контент в правой части, может быть иконкой 24x24.",name:"after",required:!1,type:{name:"ReactNode"}},layout:{defaultValue:null,description:"Варианты расположения кнопки действия\nПо умолчанию на десктопах, или при наличии элементов `after` или `subtitle`\nимеет значение `vertical`, в остальных случаях `horizontal`.",name:"layout",required:!1,type:{name:"enum",value:[{value:'"horizontal"'},{value:'"vertical"'}]}},before:{defaultValue:null,description:"Может быть следующими компонентами:\n - цветная иконка 24x24 или 28x28 пикселя\n - `<Avatar size={32} />`\n - `<Image size={40} />`.",name:"before",required:!1,type:{name:"ReactNode"}},mode:{defaultValue:null,description:"Задает стиль снекбара.",name:"mode",required:!1,type:{name:"enum",value:[{value:'"default"'},{value:'"dark"'}]}},subtitle:{defaultValue:null,description:"Дополнительная строка текста под `children`.\nНе может использоваться одновременно с `action`.",name:"subtitle",required:!1,type:{name:"ReactNode"}}}}}catch{}function O4(t,e){if(e!==void 0)switch(t){case"top-start":case"top":case"top-end":return{top:e};case"bottom-start":case"bottom":case"bottom-end":return{bottom:e}}}function p(t,e){return e?-1*t:t}function W4(t,e,u){return{shifted:!1,direction:null,isDesktop:u.smallTabletPlus.matches,x:0,y:0,width:t,height:e}}function P4(t,e,u,o=!1){if(e.isDesktop)t.endsWith("start")?e.x=o?y(u.x,0,e.width):y(u.x,-e.width,0):t.endsWith("end")&&(e.x=o?y(u.x,-e.width,0):y(u.x,0,e.width)),t.startsWith("bottom")&&(e.y=y(u.y,0,e.height));else if(t.startsWith("bottom")){e.x=u.x;const s=u.x<0?-1:null,a=u.x>0?1:null;e.direction=s||a}return t.startsWith("top")&&(e.y=y(u.y,-e.height,0)),e.shifted=!0,e}const F=200;function U4(t,e,u,o,s=!1){if(!e.shifted)return!1;const a={x:!1,y:!1},l={x:!1,y:!1};return e.isDesktop?(t.endsWith("start")?(a.x=p(u.x,s)<-u.width/2,l.x=p(u.x,s)<0?p(o.x,s)<p(-F,s):!1):t.endsWith("end")&&(a.x=p(u.x,s)>u.width/2,l.x=p(u.x,s)>0?p(o.x,s)>p(F,s):!1),t.startsWith("bottom")&&(a.y=u.y>u.height/2,l.y=u.y>0?o.y>F:!1)):t.startsWith("bottom")&&(a.x=u.x<-u.width/2||u.x>u.width/2,l.x=u.x<0&&o.x<-F||u.x>0&&o.x>F),t.startsWith("top")&&(a.y=u.y<-u.height/2,l.y=u.y<0?o.y<-F:!1),a.x||l.x||a.y||l.y}const G4="_host_zsa08_1",$4="_fixed_zsa08_18",K4="_ios_zsa08_22",Q4="_rtl_zsa08_26",Y4="_placementTopStart_zsa08_30",J4="_placementTop_zsa08_30",X4="_placementTopEnd_zsa08_32",Z4="_placementBottomStart_zsa08_39",uu="_placementBottomEnd_zsa08_46",eu="_placementBottom_zsa08_39",tu="_stateEnter_zsa08_160",nu="_stateEntering_zsa08_161",ou="_stateEntered_zsa08_172",au="_touched_zsa08_178",su="_stateExit_zsa08_182",ru="_stateExiting_zsa08_183",n={host:G4,fixed:$4,ios:K4,rtl:Q4,placementTopStart:Y4,placementTop:J4,placementTopEnd:X4,placementBottomStart:Z4,placementBottomEnd:uu,placementBottom:eu,in:"_in_zsa08_121",stateEnter:tu,stateEntering:nu,stateEntered:ou,touched:au,stateExit:su,stateExiting:ru},lu={"top-start":n.placementTopStart,top:n.placementTop,"top-end":n.placementTopEnd,"bottom-start":n.placementBottomStart,bottom:n.placementBottom,"bottom-end":n.placementBottomEnd},iu={enter:n.stateEnter,entering:n.stateEntering,entered:n.stateEntered,exit:n.stateExit,exiting:n.stateExiting,exited:void 0},b=({placement:t="bottom-start",children:e,layout:u,action:o,before:s,after:a,duration:l=4e3,onActionClick:N,onClosed:h,onClose:A,mode:I="default",subtitle:Y,offsetY:J,getRootRef:X,slotProps:H,open:D,id:x,...Z})=>{const{getRootRef:u4,...e4}=$({getRootRef:X,...Z},H?.root),{onClick:t4,...n4}=$({onClick:N},H?.action),o4=m4(),{isInsideContainer:a4,onOpen:s4,onClosed:r4}=r.useContext(v4),[B,w]=r.useState(D!==void 0?D:!0),[_,j]=r.useState(!1),z=B4()==="rtl",i=f4(u4),L=_4(i),O=r.useRef(null),f=r.useRef(null),E=r.useRef(null),v=r.useRef(null),W=r.useRef(void 0),l4=D4(),[g,i4]=h4(B?"enter":"exit",{onEnter:x?()=>s4(x):void 0,onExited:y4(h,x?()=>r4(x):void 0)},!1,!0);M(function(){D!==void 0&&(D||A?.("manual"),w(D))},[D]);const k=r.useCallback(()=>{v.current!==null&&(cancelAnimationFrame(v.current),v.current=null)},[]),V=r.useCallback((c,R,q)=>{v.current=requestAnimationFrame(()=>{i.current&&(c===null?i.current.style.removeProperty("--vkui_internal--snackbar_shift_x"):i.current.style.setProperty("--vkui_internal--snackbar_shift_x",`${c}px`),R===null?i.current.style.removeProperty("--vkui_internal--snackbar_shift_y"):i.current.style.setProperty("--vkui_internal--snackbar_shift_y",`${R}px`),q===null?i.current.style.removeProperty("--vkui_internal--snackbar_direction"):i.current.style.setProperty("--vkui_internal--snackbar_direction",`${q}`))})},[i]),C=r.useCallback(c=>{A?.(c),D===void 0&&w(!1)},[A,D]),c4=c=>{C("click-action"),o&&t4?.(c)},P=c=>{f.current=new b4,f.current.setStartCoords(c.nativeEvent),E.current=W4(i.current.offsetWidth,i.current.offsetHeight,l4),j(!0)},U=c=>{E.current&&f.current&&(f.current.setInitialTimeOnce(),f.current.setEndCoords(c.nativeEvent),E.current=P4(t,E.current,f.current.delta(),z),E.current.shifted&&V(E.current.x,E.current.y,E.current.direction))},S=()=>{_&&E.current&&f.current&&U4(t,E.current,p4(i.current,O.current),f.current.velocity(),z)&&C("swipe"),j(!1)};M(function(){if(!B||L||_||g!=="entered"||!l)return;const R=()=>C("timeout");return W.current=setTimeout(R,l),function(){clearTimeout(W.current)}},[B,L,_,g,C,l]),M(function(){_||(k(),E.current=null,f.current=null,B&&V(null,null,null))},[_,B,V,k]),r.useEffect(()=>k,[k]);const d4=r.useCallback(()=>C("escape-key"),[C]);return C4(B,d4),g==="exited"?null:m.jsx(K,{id:x,role:"presentation",baseClassName:Q(n.host,!a4&&n.fixed,o4==="ios"&&n.ios,_&&n.touched,lu[t],iu[g],z&&n.rtl),baseStyle:O4(t,J),getRootRef:i,...e4,children:m.jsx("div",{role:"alert",className:n.in,ref:O,onTouchStart:P,onTouchMove:U,onTouchEnd:S,onMouseDown:P,onMouseMove:U,onMouseUp:S,onMouseLeave:S,...i4,children:m.jsx(T,{mode:I,layout:u,before:s,after:a,subtitle:Y,action:o&&m.jsx(F4,{align:"left",mode:"link",appearance:I==="dark"?"overlay":"accent",size:"s",onClick:c4,...n4,children:o}),children:e})})})};b.Basic=T;try{b.displayName="Snackbar",b.__docgenInfo={description:"",displayName:"Snackbar",props:{slotProps:{defaultValue:null,description:"Свойства, которые можно прокинуть внутрь компонента:\n- `root`: свойства для прокидывания в корень компонента;\n- `action`: свойства для прокидывания в кнопку действия.",name:"slotProps",required:!1,type:{name:'{ root?: (Omit<HTMLAttributes<HTMLDivElement>, "children"> & HasRootRef<HTMLDivElement> & HasDataAttribute); action?: (HTMLAttributes<...> & ... 1 more ... & HasDataAttribute); } | undefined'}},placement:{defaultValue:{value:"bottom-start"},description:'Задаёт расположение компонента.\n\n> Note: в мобильном режиме:\n> - `"top-start"`/`"top-end"` перебивается на `"top"`, чтобы поведение было схожим с нативными\n>   уведомлениями;\n> - `"bottom"` перебивается на `"bottom-start"`, чтобы избежать вызова системных\n>   функций, таких как **Pull To Refresh** и **Режим управления одной рукой**.\n> - `"bottom-start"`/`"bottom-end"` закрываются смахиванием в любое из направлений\n>   по горизонтальной оси.',name:"placement",required:!1,type:{name:"enum",value:[{value:'"top"'},{value:'"bottom"'},{value:'"top-start"'},{value:'"top-end"'},{value:'"bottom-start"'},{value:'"bottom-end"'}]}},action:{defaultValue:null,description:"Название кнопки действия в уведомлении\nНе может использоваться одновременно с `subtitle`.",name:"action",required:!1,type:{name:"ReactNode"}},onActionClick:{defaultValue:null,description:"Будет вызвано при нажатии на кнопку действия.",name:"onActionClick",required:!1,type:{name:"((event: MouseEvent<Element, MouseEvent>) => void)"}},duration:{defaultValue:{value:"4000"},description:"Время в миллисекундах, через которое плашка скроется.",name:"duration",required:!1,type:{name:"number | null"}},onClose:{defaultValue:null,description:"Обработчик закрытия уведомления.",name:"onClose",required:!1,type:{name:"((reason: SnackbarCloseReason) => void)"}},onClosed:{defaultValue:null,description:"Обработчик закрытия уведомления, срабатывающий после окончания анимации.",name:"onClosed",required:!0,type:{name:"() => void"}},offsetY:{defaultValue:null,description:"Величина отступа снизу. Используется для позиционирования элемента в случае, когда нежелательно, чтобы Snackbar при появлении перекрывал важные элементы интерфейса.",name:"offsetY",required:!1,type:{name:"Bottom<string | number>"}},open:{defaultValue:null,description:"Для контролируемого управления состоянием открытия снекбара.",name:"open",required:!1,type:{name:"boolean"}},getRootRef:{defaultValue:null,description:"",name:"getRootRef",required:!1,type:{name:"Ref<HTMLDivElement>"}},after:{defaultValue:null,description:"Контент в правой части, может быть иконкой 24x24.",name:"after",required:!1,type:{name:"ReactNode"}},layout:{defaultValue:null,description:"Варианты расположения кнопки действия\nПо умолчанию на десктопах, или при наличии элементов `after` или `subtitle`\nимеет значение `vertical`, в остальных случаях `horizontal`.",name:"layout",required:!1,type:{name:"enum",value:[{value:'"horizontal"'},{value:'"vertical"'}]}},before:{defaultValue:null,description:"Может быть следующими компонентами:\n - цветная иконка 24x24 или 28x28 пикселя\n - `<Avatar size={32} />`\n - `<Image size={40} />`.",name:"before",required:!1,type:{name:"ReactNode"}},mode:{defaultValue:{value:"default"},description:"Задает стиль снекбара.",name:"mode",required:!1,type:{name:"enum",value:[{value:'"default"'},{value:'"dark"'}]}},subtitle:{defaultValue:null,description:"Дополнительная строка текста под `children`.\nНе может использоваться одновременно с `action`.",name:"subtitle",required:!1,type:{name:"ReactNode"}}}}}catch{}try{b.Basic.displayName="Snackbar.Basic",b.Basic.__docgenInfo={description:"",displayName:"Snackbar.Basic",props:{getRootRef:{defaultValue:null,description:"",name:"getRootRef",required:!1,type:{name:"Ref<HTMLDivElement>"}},action:{defaultValue:null,description:"Элемент действия.\nНе может использоваться одновременно с `subtitle`.",name:"action",required:!1,type:{name:"ReactNode"}},after:{defaultValue:null,description:"Контент в правой части, может быть иконкой 24x24.",name:"after",required:!1,type:{name:"ReactNode"}},layout:{defaultValue:null,description:"Варианты расположения кнопки действия\nПо умолчанию на десктопах, или при наличии элементов `after` или `subtitle`\nимеет значение `vertical`, в остальных случаях `horizontal`.",name:"layout",required:!1,type:{name:"enum",value:[{value:'"horizontal"'},{value:'"vertical"'}]}},before:{defaultValue:null,description:"Может быть следующими компонентами:\n - цветная иконка 24x24 или 28x28 пикселя\n - `<Avatar size={32} />`\n - `<Image size={40} />`.",name:"before",required:!1,type:{name:"ReactNode"}},mode:{defaultValue:null,description:"Задает стиль снекбара.",name:"mode",required:!1,type:{name:"enum",value:[{value:'"default"'},{value:'"dark"'}]}},subtitle:{defaultValue:null,description:"Дополнительная строка текста под `children`.\nНе может использоваться одновременно с `action`.",name:"subtitle",required:!1,type:{name:"ReactNode"}}}}}catch{}export{T as B,b as S,v4 as a};
