import{d as R,e as g,o as z,s as O,f as I,h as E,i as A,j as C,k as P,l as U}from"./FloatingArrow-AYA0w7FM.js";import{aa as j,aj as k,r as p,m as x}from"./iframe-DDos8QSD.js";const L={ancestorScroll:!0,ancestorResize:!0,elementResize:!1,animationFrame:!1};function w(s,e,n,o=L){const{elementResize:i=!1,...c}=o,u=window.ResizeObserver!==void 0,l=R(s,e,n,{...c,elementResize:i&&u});let t=null;return i&&!u&&(t=new k(n),j(s)&&t.observe(s),t.observe(e),t.appendToTheDOM()),()=>{t&&(t.disconnect(),t=null),l()}}const F=({placement:s="bottom-start",arrowRef:e=null,arrow:n,arrowHeight:o,arrowPadding:i,sameWidth:c,offsetByMainAxis:u=0,offsetByCrossAxis:l=0,customMiddlewares:t,hideWhenReferenceHidden:m,disableFlipMiddleware:h=!1,flipMiddlewareFallbackAxisSideDirection:d="end"})=>p.useMemo(()=>{const v=!g(s),a=[z({crossAxis:l,mainAxis:n&&o?u+o:u})],r=O();if(v)a.push(I({alignment:E(s)}),r);else if(h)a.push(r);else{const f=A({crossAxis:"alignment",fallbackAxisSideDirection:d});s.includes("-")?a.push(f,r):a.push(r,f)}return c&&a.push(C({apply({rects:f,elements:b}){Object.assign(b.floating.style,{width:`${f.reference.width}px`})}})),t&&a.push(...t),n&&a.push(P({element:e,padding:i})),m&&a.push(U()),{middlewares:a,strictPlacement:v?void 0:s}},[s,l,n,o,u,h,d,c,t,m,e,i]);function N(s,e,n){const o=p.useRef(void 0);p.useEffect(()=>{o.current=e}),x(()=>{if(!n)return;const i=o.current;(i===void 0&&s!==e||i!==void 0&&i!==e)&&n(e)},[s,e,n])}export{N as a,w as b,F as u};
