import{r as _,j as a,R as y,k as v,g as S,aq as D,ap as E}from"./iframe-BKqRoeRO.js";import{A as I}from"./AppRootPortal-Bl-mYqRi.js";import{P as L}from"./PopoutWrapper-B57J5bjX.js";import{F as q}from"./Footnote-BAb4Skv3.js";import{s as x}from"./animationVisibilityDelay.module-BVDh3Yvf.js";import{S as N}from"./Spinner-DWSu6VQp.js";import{m as V}from"./mergeCalls-Bc-HqyI0.js";import{I as w}from"./cancel_24-C2B5W1bI.js";const b=_.createContext({state:"loading",label:void 0,customIcon:void 0}),j="_host_11bu7_1",A="_hasLabel_11bu7_12",T="_modeShadow_11bu7_22",M="_modeOverlay_11bu7_28",B="_label_11bu7_33",H="_spinner_11bu7_43",k="_spinnerTransition_11bu7_47",O="_stateDone_11bu7_51",F="_stateError_11bu7_52",P="_stateCustom_11bu7_53",K="_iconSlot_11bu7_57",W="_icon_11bu7_57",Z="_stateCancelable_11bu7_76",u={host:j,hasLabel:A,modeShadow:T,modeOverlay:M,label:B,spinner:H,spinnerTransition:k,stateDone:O,stateError:F,stateCustom:P,iconSlot:K,icon:W,stateCancelable:Z},z={cancelable:u.stateCancelable,done:u.stateDone,error:u.stateError,custom:u.stateCustom},G={shadow:u.modeShadow,overlay:u.modeOverlay},s=({state:e="loading",mode:t="shadow",customIcon:n,label:l,children:r,visibilityDelay:i,...p})=>a.jsx(b.Provider,{value:{state:e,label:l,customIcon:n},children:a.jsxs(y,{baseClassName:S(u.host,G[t],e!=="loading"&&z[e],v(l)&&u.hasLabel,i&&x.visibilityDelay),...p,children:[a.jsx("div",{className:u.iconSlot,children:r}),v(l)&&a.jsx(q,{className:u.label,"aria-hidden":!0,children:l})]})});try{s.displayName="ScreenSpinnerContainer",s.__docgenInfo={description:"",displayName:"ScreenSpinnerContainer",props:{getRootRef:{defaultValue:null,description:"",name:"getRootRef",required:!1,type:{name:"Ref<HTMLSpanElement>"}},mode:{defaultValue:{value:"shadow"},description:"Внешний вид отображения спиннера.",name:"mode",required:!1,type:{name:"enum",value:[{value:'"shadow"'},{value:'"overlay"'}]}},label:{defaultValue:null,description:"Текст под иконкой.",name:"label",required:!1,type:{name:"ReactNode"}},visibilityDelay:{defaultValue:null,description:"Задерживает отрисовку элемента на заданное количество миллисекунд.",name:"visibilityDelay",required:!1,type:{name:"number"}},state:{defaultValue:{value:"loading"},description:"Тип отображения спиннера.",name:"state",required:!1,type:{name:"enum",value:[{value:'"done"'},{value:'"loading"'},{value:'"custom"'},{value:'"error"'},{value:'"cancelable"'}]}},customIcon:{defaultValue:null,description:'Кастомная иконка, работает совместно со `state="custom"`.',name:"customIcon",required:!1,type:{name:"ReactNode"}}}}}catch{}const c=({children:e,...t})=>{const{label:n}=_.useContext(b),l=e??n;return a.jsx(N,{className:S(u.spinner,!n&&u.spinnerTransition),size:"xl",noColor:!0,...t,children:l})};try{c.displayName="ScreenSpinnerLoader",c.__docgenInfo={description:"",displayName:"ScreenSpinnerLoader",props:{getRootRef:{defaultValue:null,description:"",name:"getRootRef",required:!1,type:{name:"Ref<HTMLSpanElement>"}},disableAnimation:{defaultValue:null,description:"Отключение анимации.",name:"disableAnimation",required:!1,type:{name:"boolean"}},noColor:{defaultValue:null,description:"Задать цвет можно будет через свойство color родителя.",name:"noColor",required:!1,type:{name:"boolean"}},visibilityDelay:{defaultValue:null,description:"Задерживает отрисовку элемента на заданное количество миллисекунд.",name:"visibilityDelay",required:!1,type:{name:"number"}}}}}catch{}const m=e=>a.jsx("svg",{className:"vkuiIcon",width:"48",height:"48",viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:a.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M40 24c0 8.837-7.163 16-16 16S8 32.837 8 24 15.163 8 24 8s16 7.163 16 16Zm-10.08-4.33a1.125 1.125 0 0 0-1.59-1.59L24 22.409l-4.33-4.33a1.125 1.125 0 0 0-1.59 0l-.101.116a1.125 1.125 0 0 0 .1 1.476L22.41 24l-4.33 4.33a1.125 1.125 0 0 0 1.591 1.59L24 25.591l4.33 4.33c.439.439 1.151.439 1.59 0l.101-.116a1.125 1.125 0 0 0-.1-1.476L25.59 24l4.33-4.33Z",fill:"currentColor"})});try{m.displayName="Icon48CancelCircle",m.__docgenInfo={description:"",displayName:"Icon48CancelCircle",props:{}}}catch{}const f=e=>a.jsx("svg",{className:"vkuiIcon",width:"48",height:"48",viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:a.jsx("path",{d:"M9 24L19 34L39 14",stroke:"currentColor",strokeWidth:"3.5",strokeLinecap:"round",strokeLinejoin:"round"})});try{f.displayName="Icon48DoneOutline",f.__docgenInfo={description:"",displayName:"Icon48DoneOutline",props:{}}}catch{}const J=({onKeyDown:e,"aria-label":t="Отменить",...n})=>{let r={...V({onKeyDown:D},{onKeyDown:e}),tabIndex:0,role:"button","aria-label":t};return a.jsx(y,{baseClassName:u.icon,...r,...n,children:a.jsx(w,{})})},d=({cancelLabel:e,...t})=>{const{state:n,customIcon:l}=_.useContext(b);if(n==="cancelable")return a.jsx(J,{"aria-label":e,...t});const r=()=>{if(n==="custom")return l;const i={loading:()=>null,done:f,error:m}[n];return a.jsx(i,{})};return a.jsx(y,{baseClassName:u.icon,...t,children:r()})};try{d.displayName="ScreenSpinnerSwapIcon",d.__docgenInfo={description:"",displayName:"ScreenSpinnerSwapIcon",props:{getRootRef:{defaultValue:null,description:"",name:"getRootRef",required:!1,type:{name:"Ref<HTMLElement>"}},cancelLabel:{defaultValue:null,description:"",name:"cancelLabel",required:!1,type:{name:"string"}}}}}catch{}const o=({style:e,className:t,state:n="loading",onClick:l,cancelLabel:r,mode:i,label:p,customIcon:g,usePortal:h,visibilityDelay:C,...R})=>(E(),a.jsx(I,{usePortal:h,children:a.jsx(L,{className:t,style:e,noBackground:!0,children:a.jsxs(s,{state:n,mode:i,label:p,customIcon:g,visibilityDelay:C,children:[a.jsx(c,{...R}),a.jsx(d,{onClick:l,cancelLabel:r})]})})}));o.Container=s;o.Loader=c;o.SwapIcon=d;try{o.displayName="ScreenSpinner",o.__docgenInfo={description:"",displayName:"ScreenSpinner",props:{getRootRef:{defaultValue:null,description:"",name:"getRootRef",required:!1,type:{name:"Ref<HTMLSpanElement>"}},disableAnimation:{defaultValue:null,description:"Отключение анимации.",name:"disableAnimation",required:!1,type:{name:"boolean"}},noColor:{defaultValue:null,description:"Задать цвет можно будет через свойство color родителя.",name:"noColor",required:!1,type:{name:"boolean"}},visibilityDelay:{defaultValue:null,description:"Задерживает отрисовку элемента на заданное количество миллисекунд.",name:"visibilityDelay",required:!1,type:{name:"number"}},usePortal:{defaultValue:{value:"true (использует `document.body` как портал по умолчанию)"},description:"Настройка портала для рендеринга компонента.\n\n`true` - использует `portalRoot` из контекста `AppRoot` (если доступен) или `document.body`;\n`false` - отключает использование портала;\n`HTMLElement` - указывает конкретный DOM-элемент для использования в качестве портала;\n`React.RefObject<HTMLElement | null>` - ссылка на DOM-элемент для использования в качестве портала;\n`null` - эквивалентно `false`, отключает использование портала.",name:"usePortal",required:!1,type:{name:"boolean | HTMLElement | RefObject<HTMLElement | null> | null"}},state:{defaultValue:{value:"loading"},description:"Тип отображения спиннера.",name:"state",required:!1,type:{name:"enum",value:[{value:'"done"'},{value:'"loading"'},{value:'"custom"'},{value:'"error"'},{value:'"cancelable"'}]}},customIcon:{defaultValue:null,description:'Кастомная иконка, работает совместно со `state="custom"`.',name:"customIcon",required:!1,type:{name:"ReactNode"}},mode:{defaultValue:null,description:"Внешний вид отображения спиннера.",name:"mode",required:!1,type:{name:"enum",value:[{value:'"shadow"'},{value:'"overlay"'}]}},label:{defaultValue:null,description:"Текст под иконкой.",name:"label",required:!1,type:{name:"ReactNode"}},cancelLabel:{defaultValue:null,description:"Используется при `state='cancelable'`. Делает доступным для ассистивных технологий.",name:"cancelLabel",required:!1,type:{name:"string"}}}}}catch{}try{o.Container.displayName="ScreenSpinner.Container",o.Container.__docgenInfo={description:"",displayName:"ScreenSpinner.Container",props:{getRootRef:{defaultValue:null,description:"",name:"getRootRef",required:!1,type:{name:"Ref<HTMLSpanElement>"}},mode:{defaultValue:{value:"shadow"},description:"Внешний вид отображения спиннера.",name:"mode",required:!1,type:{name:"enum",value:[{value:'"shadow"'},{value:'"overlay"'}]}},label:{defaultValue:null,description:"Текст под иконкой.",name:"label",required:!1,type:{name:"ReactNode"}},visibilityDelay:{defaultValue:null,description:"Задерживает отрисовку элемента на заданное количество миллисекунд.",name:"visibilityDelay",required:!1,type:{name:"number"}},state:{defaultValue:{value:"loading"},description:"Тип отображения спиннера.",name:"state",required:!1,type:{name:"enum",value:[{value:'"done"'},{value:'"loading"'},{value:'"custom"'},{value:'"error"'},{value:'"cancelable"'}]}},customIcon:{defaultValue:null,description:'Кастомная иконка, работает совместно со `state="custom"`.',name:"customIcon",required:!1,type:{name:"ReactNode"}}}}}catch{}try{o.Loader.displayName="ScreenSpinner.Loader",o.Loader.__docgenInfo={description:"",displayName:"ScreenSpinner.Loader",props:{getRootRef:{defaultValue:null,description:"",name:"getRootRef",required:!1,type:{name:"Ref<HTMLSpanElement>"}},disableAnimation:{defaultValue:null,description:"Отключение анимации.",name:"disableAnimation",required:!1,type:{name:"boolean"}},noColor:{defaultValue:null,description:"Задать цвет можно будет через свойство color родителя.",name:"noColor",required:!1,type:{name:"boolean"}},visibilityDelay:{defaultValue:null,description:"Задерживает отрисовку элемента на заданное количество миллисекунд.",name:"visibilityDelay",required:!1,type:{name:"number"}}}}}catch{}try{o.SwapIcon.displayName="ScreenSpinner.SwapIcon",o.SwapIcon.__docgenInfo={description:"",displayName:"ScreenSpinner.SwapIcon",props:{getRootRef:{defaultValue:null,description:"",name:"getRootRef",required:!1,type:{name:"Ref<HTMLElement>"}},cancelLabel:{defaultValue:null,description:"",name:"cancelLabel",required:!1,type:{name:"string"}}}}}catch{}export{o as S};
