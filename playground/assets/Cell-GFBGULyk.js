import{bk as W,bl as o4,bm as a4,r as d,m as K,bn as J,bo as l4,j as c,i as v,d as Z,M as s4,k as c4}from"./iframe-BdL7Qu3-.js";import{R as i4}from"./Removable-kBBzHwjh.js";import{S as G}from"./SimpleCell-DtSFoJ-l.js";import{A as Y}from"./AdaptiveIconRenderer-QlRoKo4f.js";import{V as r4}from"./VisuallyHidden-DMev6gKF.js";import{I as d4,a as f4,b as E4,c as p4}from"./reorder_ios_24-7wcSxEed.js";import{c as m4,b as F4,a as D4,I as h4}from"./check_box_on_24-Bm5iZahs.js";import{I as y4,a as A4}from"./check_circle_on_24-B-NXeGAt.js";import{I as j,A as C4,a as g4}from"./constants-CtEIZ0Vq.js";const B4=u=>{let e=[],t=null;const l=(...o)=>{e=o,!t&&(t=requestAnimationFrame(()=>{t=null,u(...e)}))};return l.cancel=()=>{t&&(cancelAnimationFrame(t),t=null)},l},Q=10,P=50,v4=(u,e)=>{const t=Math.floor(W(e).scrollTop),{relative:l,edges:o}=o4(e),f=l.height,p=a4(e)-f,E=t>0,b=t<p,[S,F]=o.y,g=u-S,D=F-u,h=g<=P,A=D<=P,m={shouldScrolling:E&&h||b&&A,y:0};return h?m.y=-1*((P-g)/P)*Q:A&&(m.y=(P-D)/P*Q),m},b4=u=>{let e=!1;const t=B4(l);function l(s){const{shouldScrolling:p,y:E}=s();p?(e=!0,u.scrollBy(0,E),t(s)):(e=!1,t.cancel())}return{tryAutoScroll:s=>{t(s)},stop:()=>{e=!1,t.cancel()},get isRunning(){return e}}},R4=(u,e)=>{const t=e.height/2;return{isUnderEl:u<=e.bottom-t,isOverEl:u>=e.top+t}},u4=(u,e)=>{requestAnimationFrame(()=>{u.style.transform=`translateY(${e}px)`})},e4=([{el:u,draggingElRect:{height:e}},t],l=0)=>{requestAnimationFrame(()=>{t==="up"?(u.style.setProperty("transition","transform 0.3s ease-in 0s"),u.style.removeProperty("transform")):(u.style.setProperty("transition","transform 0.3s ease-out 0s"),u.style.setProperty("transform",`translateY(${e+l}px)`))})},_4=({el:u,draggingElRect:e})=>{const{top:t,left:l,width:o,height:f}=e;requestAnimationFrame(()=>{u.style.setProperty("pointer-events","none"),u.style.setProperty("position","fixed"),u.style.setProperty("top",`${t}px`),u.style.setProperty("left",`${l}px`),u.style.setProperty("width",`${o}px`),u.style.setProperty("height",`${f}px`),u.style.setProperty("z-index","var(--vkui_internal--z_index_cell_dragging)"),u.style.setProperty("box-sizing","border-box"),u.style.setProperty("transform","translateY(0)")})},S4=({el:u})=>{requestAnimationFrame(()=>{u.style.removeProperty("pointer-events"),u.style.removeProperty("position"),u.style.removeProperty("top"),u.style.removeProperty("left"),u.style.removeProperty("width"),u.style.removeProperty("height"),u.style.removeProperty("z-index"),u.style.removeProperty("box-sizing"),u.style.removeProperty("transform")})},I4=({el:u,draggingElRect:e})=>{if(u.firstElementChild)return;const{width:t,height:l}=e,o=u.cloneNode();o.style.setProperty("display","block"),o.style.setProperty("width",`${t}px`),o.style.setProperty("height",`${l}px`),o.style.setProperty("pointer-events","none"),u.appendChild(o),u.style.setProperty("display","block")},t4=({el:u})=>{u.style.display="",u.removeAttribute("style"),u.firstElementChild&&u.firstElementChild.remove()},q4=({el:u,shifted:e,draggingElRect:t},l=0)=>{const{height:o}=t;requestAnimationFrame(()=>{u.style.setProperty("pointer-events","none"),u.style.setProperty("transition","none 0s ease 0s"),e&&u.style.setProperty("transform",`translateY(${o+l}px)`)})},x4=({el:u})=>{requestAnimationFrame(()=>{u.style.removeProperty("pointer-events"),u.style.removeProperty("transition"),u.style.removeProperty("transform")})},k4=({elRef:u,onDragFinish:e})=>{const[t,l]=d.useState(!1),o=d.useRef(0),f=d.useRef(0),s=d.useRef(null),p=d.useRef(0),E=d.useRef(null),b=n=>{const r=l4(n);r&&(s.current=r,p.current=W(r).scrollTop,E.current=b4(s.current))},S=()=>{var n;p.current=0,(n=E.current)==null||n.stop(),s.current=E.current=null},F=d.useRef(void 0),g=(n,r)=>{const a=n-r;return a<0?"down":a>0?"up":F.current},D=d.useRef(j),h=d.useRef(j),A=d.useRef(null),m=d.useRef(null),R=d.useRef([]),I=d.useRef(0),z=n=>{const r=J(n,!0),a=n.parentElement;I.current=a?parseInt(a.style.gridGap):0;const{children:i}=a||{children:[]};Array.prototype.forEach.call(i,(y,_)=>{y===n?(D.current=h.current=_,A.current={index:_,el:y,draggingElRect:r}):y.getAttribute(g4)!==null?m.current={index:_,el:y,draggingElRect:r}:R.current.push({index:_,el:y,shifted:D.current!==j&&D.current<_,draggingElRect:r})}),m.current&&I4(m.current),A.current&&_4(A.current),R.current.forEach(y=>q4(y,I.current))},U=()=>{m.current&&t4(m.current),A.current&&S4(A.current),R.current.forEach(x4),R.current=[],m.current=A.current=null;const n={from:D.current,to:h.current};return D.current=h.current=j,n},T=n=>{const r=[],a=[];return h.current=D.current,R.current.forEach(i=>{const{isOverEl:y,isUnderEl:_}=R4(n,J(i.el));D.current<i.index?(y&&(h.current=h.current+1,F.current==="down"&&i.shifted&&(i.shifted=!1,r.push([i,"up"]))),_&&F.current==="up"&&!i.shifted&&(i.shifted=!0,a.push([i,"down"]))):D.current>i.index&&(_&&(h.current=h.current-1,F.current==="up"&&!i.shifted&&(i.shifted=!0,r.push([i,"down"]))),y&&F.current==="down"&&i.shifted&&(i.shifted=!1,a.push([i,"up"])))}),[r,a]},M=(n,r)=>{n.forEach(a=>e4(a,I.current)),r.forEach(a=>e4(a,I.current))},C=d.useRef(null),q=()=>{C.current&&(clearTimeout(C.current),C.current=null)},L=()=>{E.current&&E.current.tryAutoScroll(()=>s.current?v4(o.current,s.current):{shouldScrolling:!1,y:0})},x=()=>{q(),C.current=setTimeout(()=>{C.current=null,L()},C4)},k=n=>{n.originalEvent.stopPropagation(),n.originalEvent.preventDefault()},w=n=>{n.originalEvent.stopPropagation(),n.originalEvent.preventDefault();const r=u.current;if(r)if(t)if(F.current=g(f.current,n.shiftY),f.current=n.shiftY,o.current=n.clientY,E.current&&E.current.isRunning)u4(r,f.current);else{const[a,i]=T(o.current);u4(r,f.current),M(a,i),x()}else l(a=>a||(b(r),z(r),!0))},H=n=>{if(n.originalEvent.stopPropagation(),n.originalEvent.preventDefault(),q(),S(),o.current=f.current=0,F.current=void 0,t){const r=U();e&&e(r),l(!1)}},V=d.useCallback(()=>{if(!u.current||!s.current)return;const n=W(s.current).scrollTop;F.current=g(p.current,n);const r=p.current-n,a=o.current+r;p.current=n;const[i,y]=T(a);M(i,y)},[u]);return K(function(){const r=s.current;if(!(!t||!r))return r.addEventListener("scroll",V),()=>{r&&r.removeEventListener("scroll",V)}},[t,V]),K(()=>function(){m.current&&t4(m.current)},[]),{dragging:t,onDragStart:k,onDragMove:w,onDragEnd:H}},V4="_host_89bwt_1",P4="_icon_89bwt_7",N4="_iconOn_89bwt_12",T4="_input_89bwt_16",O4="_iconOff_89bwt_16",N={host:V4,icon:P4,iconOn:N4,input:T4,iconOff:O4},M4=()=>c.jsx(Y,{IconCompact:h4,IconRegular:D4}),L4=()=>c.jsx(Y,{IconCompact:F4,IconRegular:m4}),w4=()=>c.jsx(Y,{IconCompact:A4,IconRegular:y4}),H4=()=>c.jsx(Y,{IconCompact:f4,IconRegular:d4});function j4(u){const e=Z();return u!=="auto"?u:e==="ios"||e==="vkcom"?"circle":"square"}const $=({getRootRef:u,getRef:e,className:t,style:l,type:o="auto",...f})=>{const s=j4(o),p=s==="circle"?H4:L4,E=s==="circle"?w4:M4;return c.jsxs("span",{className:v(N.host,t),style:l,ref:u,children:[c.jsx(r4,{...f,Component:"input",type:"checkbox",className:N.input,getRootRef:e}),c.jsx("span",{className:v(N.icon,N.iconOff),"aria-hidden":!0,children:c.jsx(p,{})}),c.jsx("span",{className:v(N.icon,N.iconOn),"aria-hidden":!0,children:c.jsx(E,{})})]})};try{$.displayName="CellCheckbox",$.__docgenInfo={description:"",displayName:"CellCheckbox",props:{type:{defaultValue:{value:"auto"},description:"Вид чекбокса. Если auto, то зависит от платформы.",name:"type",required:!1,type:{name:"enum",value:[{value:'"auto"'},{value:'"circle"'},{value:'"square"'}]}},defaultChecked:{defaultValue:null,description:"В режиме `selectable` реагирует на входящие значения пропса `defaultChecked` как неконтролируемый компонент.",name:"defaultChecked",required:!1,type:{name:"boolean"}},checked:{defaultValue:null,description:"В режиме `selectable` реагирует на входящие значения пропса `cheсked`, как зависящий напрямую от входящего значения.",name:"checked",required:!1,type:{name:"boolean"}},getRootRef:{defaultValue:null,description:"",name:"getRootRef",required:!1,type:{name:"Ref<HTMLSpanElement>"}},getRef:{defaultValue:null,description:"",name:"getRef",required:!1,type:{name:"Ref<HTMLInputElement>"}}}}}catch{}const $4="_host_1tkaf_2",Y4="_icon_1tkaf_9",n4={host:$4,icon:Y4},X=({elRef:u,disabled:e,className:t,onDragStateChange:l,onDragFinish:o,children:f,...s})=>{const E=Z()==="ios"?E4:p4,{dragging:b,onDragStart:S,onDragMove:F,onDragEnd:g}=k4({elRef:u,onDragFinish:o});return K(()=>{l&&l(b)},[b,l]),c.jsxs(s4,{className:v(n4.host,t),onStart:e?void 0:S,onMoveY:e?void 0:F,onEnd:e?void 0:g,...s,children:[f&&c.jsx(r4,{children:f}),c.jsx(E,{className:n4.icon})]})};try{X.displayName="CellDragger",X.__docgenInfo={description:"",displayName:"CellDragger",props:{disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}},onDragStateChange:{defaultValue:null,description:"",name:"onDragStateChange",required:!1,type:{name:"((dragging: boolean) => void)"}},elRef:{defaultValue:null,description:"",name:"elRef",required:!0,type:{name:"RefObject<HTMLElement | null>"}},onDragFinish:{defaultValue:null,description:"",name:"onDragFinish",required:!1,type:{name:"((value: SwappedItemRange) => void)"}},getRootRef:{defaultValue:null,description:"",name:"getRootRef",required:!1,type:{name:"Ref<HTMLElement>"}}}}}catch{}const z4="Перенести ячейку",U4="_host_19q95_1",G4="_dragging_19q95_5",W4="_checkbox_19q95_10",K4="_dragger_19q95_11",X4="_controlNoBefore_19q95_27",Z4="_content_19q95_36",J4="_removable_19q95_41",Q4="_ios_19q95_62",B={host:U4,dragging:G4,checkbox:W4,dragger:K4,controlNoBefore:X4,content:Z4,removable:J4,ios:Q4},O=({mode:u,onRemove:e,removePlaceholder:t="Удалить",onDragFinish:l,before:o,after:f,disabled:s,draggable:p,Component:E,onChange:b,name:S,value:F,checked:g,defaultChecked:D,getRootRef:h,draggerLabel:A=z4,className:m,style:R,toggleButtonTestId:I,removeButtonTestId:z,...U})=>{const[T,M]=d.useState(!1),C=u==="selectable",q=u==="removable",L=C?"label":E,x=Z(),k=c4(h),w=p?c.jsx(X,{elRef:k,className:v(B.dragger,!o&&!C&&B.controlNoBefore),onDragStateChange:M,onDragFinish:l,children:A}):null;let H;if(C){const a={name:S,value:F,defaultChecked:D,checked:g,disabled:s,onChange:b};H=c.jsx($,{className:v(B.checkbox,!o&&B.controlNoBefore),...a})}const V=!s&&!T,n=v(B.host,T&&B.dragging,x==="ios"&&B.ios,q&&B.removable),r={hasActive:V,hasHover:V&&!q,disabled:s,...U,className:B.content,...L&&{Component:L},before:c.jsxs(d.Fragment,{children:[p&&x!=="ios"&&w,C&&H,o]}),after:c.jsxs(d.Fragment,{children:[p&&x==="ios"&&w,f]})};return q?c.jsx(i4,{className:v(n,m),style:R,getRootRef:k,removePlaceholder:t,onRemove:a=>e==null?void 0:e(a,k.current),toggleButtonTestId:I,removeButtonTestId:z,disabled:s,children:x==="ios"?({isRemoving:a})=>c.jsx(G,{...r,...a?{onClick:void 0}:{}}):c.jsx(G,{...r})}):c.jsx("div",{className:v(n,m),style:R,ref:k,children:c.jsx(G,{...r})})};O.Checkbox=$;try{O.displayName="Cell",O.__docgenInfo={description:"",displayName:"Cell",props:{mode:{defaultValue:null,description:`Режим отображения ячейки:

- "removable": добавляется кнопка для удаления
- "selectable": добавляется чекбокс для выбора.`,name:"mode",required:!1,type:{name:"enum",value:[{value:'"selectable"'},{value:'"removable"'}]}},draggable:{defaultValue:null,description:"В режиме перетаскивания ячейка перестает реагировать на нажатие, то есть при нажатии переданный `onClick` вызываться не будет.",name:"draggable",required:!1,type:{name:"boolean"}},name:{defaultValue:null,description:"Имя для `input` в режиме `selectable`.",name:"name",required:!1,type:{name:"string"}},checked:{defaultValue:null,description:"В режиме `selectable` реагирует на входящие значения пропса `cheсked`, как зависящий напрямую от входящего значения.",name:"checked",required:!1,type:{name:"boolean"}},defaultChecked:{defaultValue:null,description:"В режиме `selectable` реагирует на входящие значения пропса `defaultChecked` как неконтролируемый компонент.",name:"defaultChecked",required:!1,type:{name:"boolean"}},onDragFinish:{defaultValue:null,description:"Обработчик, срабатывающий при завершении перетаскивания.\n**Важно:** режим перетаскивания не меняет порядок ячеек в DOM. В обработчике есть объект с полями `from` и `to`.\nЭти числа нужны для того, чтобы разработчик понимал, с какого индекса на какой произошел переход. В песочнице\nесть рабочий пример с обработкой этих чисел и перерисовкой списка.",name:"onDragFinish",required:!1,type:{name:"((swappedItemRange: SwappedItemRange) => void)"}},draggerLabel:{defaultValue:{value:"Перенести ячейку"},description:"Текст для кнопки перетаскивания ячейки.",name:"draggerLabel",required:!1,type:{name:"string"}},Component:{defaultValue:null,description:"",name:"Component",required:!1,type:{name:"ElementType<any, keyof IntrinsicElements>"}},after:{defaultValue:null,description:"Иконка 24|28 или `<Switch />`. Располагается справа от `indicator`.",name:"after",required:!1,type:{name:"ReactNode"}},chevron:{defaultValue:null,description:"Управляет видимостью иконки шеврона `›`.\n\n- `auto` - добавляет шеврон справа только для платформы `ios`;\n- `always` - всегда показывает шеврон.",name:"chevron",required:!1,type:{name:"enum",value:[{value:'"auto"'},{value:'"always"'}]}},borderRadiusMode:{defaultValue:null,description:"Задает border-radius элементу\nВ режиме `auto` на маленьких экранах `border-radius: 0`, иначе определяется токеном `--vkui--size_border_radius--regular`.",name:"borderRadiusMode",required:!1,type:{name:"enum",value:[{value:'"inherit"'},{value:'"auto"'}]}},activeClassName:{defaultValue:null,description:"Стиль подсветки `active`-состояния.\n@deprecated Since 7.3.0.\n\nСвойство устарело и будет удалено в `v8`, используйте свойство `activeMode`.",name:"activeClassName",required:!1,type:{name:"string"}},hoverClassName:{defaultValue:null,description:"Стиль подсветки `hover`-состояния.\n@deprecated Since 7.3.0.\n\nСвойство устарело и будет удалено в `v8`, используйте свойство `hoverMode`.",name:"hoverClassName",required:!1,type:{name:"string"}},baseClassName:{defaultValue:null,description:"@deprecated Since 7.3.0.\n\nСвойство устарело и будет удалено в `v8`, используйте свойство `className`.",name:"baseClassName",required:!1,type:{name:"string | false"}},baseStyle:{defaultValue:null,description:"@deprecated Since 7.3.0.\n\nСвойство устарело и будет удалено в `v8`, используйте свойство `style`.",name:"baseStyle",required:!1,type:{name:"CSSProperties"}},disabled:{defaultValue:null,description:"Блокировка взаимодействия с компонентом.",name:"disabled",required:!1,type:{name:"boolean"}},focusVisibleMode:{defaultValue:null,description:"Стиль аутлайна focus visible. Если передать произвольную строку, она добавится как css-класс при :focus-visible",name:"focusVisibleMode",required:!1,type:{name:"FocusVisibleMode"}},hasHover:{defaultValue:null,description:"Указывает, должен ли компонент реагировать на `hover`-состояние.",name:"hasHover",required:!1,type:{name:"boolean"}},hovered:{defaultValue:null,description:"Позволяет управлять `hovered`-состоянием извне.",name:"hovered",required:!1,type:{name:"boolean"}},activated:{defaultValue:null,description:"Позволяет управлять `activated`-состоянием извне.",name:"activated",required:!1,type:{name:"boolean"}},hasActive:{defaultValue:null,description:"Указывает, должен ли компонент реагировать на `active`-состояние.",name:"hasActive",required:!1,type:{name:"boolean"}},hasHoverWithChildren:{defaultValue:null,description:`Позволяет родительскому компоненту
иметь \`hovered\`-cостояние при наведении
на любой дочерний элемент.
По умолчанию состояние hovered у родителя сбрасывается.

Присваивается родителькому компоненту.
@example <Tappable hasHoverWithChildren>
  <IconButton />
  <IconButton />
  <IconButton />
</Tappable>`,name:"hasHoverWithChildren",required:!1,type:{name:"boolean"}},unlockParentHover:{defaultValue:null,description:`Позволяет родительскому компоненту показывать hovered-состояние при наведении
на текущий дочерний компонент.

Присваивается дочернему компоненту.
@example <Tappable>
  <IconButton unlockParentHover />
  <IconButton unlockParentHover />
  <IconButton />
</Tappable>`,name:"unlockParentHover",required:!1,type:{name:"boolean"}},activeEffectDelay:{defaultValue:null,description:"Длительность показа `active`-состояния.",name:"activeEffectDelay",required:!1,type:{name:"number"}},activeMode:{defaultValue:null,description:"Стиль подсветки active-состояния. Если передать произвольную строку, она добавится как css-класс во время active.",name:"activeMode",required:!1,type:{name:"StateModeLiteral"}},hoverMode:{defaultValue:null,description:"Стиль подсветки hover-состояния. Если передать произвольную строку, она добавится как css-класс во время hover.",name:"hoverMode",required:!1,type:{name:"StateModeLiteral"}},before:{defaultValue:null,description:"Иконка 28 или `<Avatar size={28|32|40|48|72} />`.",name:"before",required:!1,type:{name:"ReactNode"}},badgeBeforeTitle:{defaultValue:null,description:"Иконка 12 или `<Badge />`. Добавится слева от текста `children`.",name:"badgeBeforeTitle",required:!1,type:{name:"ReactNode"}},badgeAfterTitle:{defaultValue:null,description:"Иконка 12 или `<Badge />`. Добавится справа от текста `children`.",name:"badgeAfterTitle",required:!1,type:{name:"ReactNode"}},badgeBeforeSubtitle:{defaultValue:null,description:"Иконка 12. Добавится слева от текста `subtitle`.",name:"badgeBeforeSubtitle",required:!1,type:{name:"ReactNode"}},badgeAfterSubtitle:{defaultValue:null,description:"Иконка 12. Добавится справа от текста `subtitle`.",name:"badgeAfterSubtitle",required:!1,type:{name:"ReactNode"}},indicator:{defaultValue:null,description:"Контейнер для текста справа от `children`.",name:"indicator",required:!1,type:{name:"ReactNode"}},overTitle:{defaultValue:null,description:"Дополнительная строка текста над `children`.",name:"overTitle",required:!1,type:{name:"ReactNode"}},subtitle:{defaultValue:null,description:"Дополнительная строка текста под `children`.",name:"subtitle",required:!1,type:{name:"ReactNode"}},extraSubtitle:{defaultValue:null,description:"Дополнительная строка текста под `children` и `subtitle`.",name:"extraSubtitle",required:!1,type:{name:"ReactNode"}},chevronSize:{defaultValue:null,description:"Размер chevron.",name:"chevronSize",required:!1,type:{name:"enum",value:[{value:'"s"'},{value:'"m"'}]}},multiline:{defaultValue:null,description:"Включает многострочный режим для отображения текста.",name:"multiline",required:!1,type:{name:"boolean"}},removePlaceholder:{defaultValue:{value:"Удалить"},description:"Текст кнопки удаления ячейки. Визуально скрыт везде, кроме iOS. На iOS появляется в выезжающей кнопке для удаления ячейки.",name:"removePlaceholder",required:!1,type:{name:"ReactNode"}},onRemove:{defaultValue:null,description:"Обработчик, срабатывающий при нажатии на контрол удаления.",name:"onRemove",required:!1,type:{name:"((e: MouseEvent<Element, MouseEvent>, rootEl?: HTMLElement | null) => void)"}},toggleButtonTestId:{defaultValue:null,description:"Передает атрибут `data-testid` для кнопки, которая активирует кнопку удаления (iOS only).",name:"toggleButtonTestId",required:!1,type:{name:"string"}},removeButtonTestId:{defaultValue:null,description:"Передает атрибут `data-testid` для кнопки удаления.",name:"removeButtonTestId",required:!1,type:{name:"string"}},getRootRef:{defaultValue:null,description:"",name:"getRootRef",required:!1,type:{name:"Ref<HTMLDivElement>"}}}}}catch{}try{O.Checkbox.displayName="Cell.Checkbox",O.Checkbox.__docgenInfo={description:"",displayName:"Cell.Checkbox",props:{type:{defaultValue:{value:"auto"},description:"Вид чекбокса. Если auto, то зависит от платформы.",name:"type",required:!1,type:{name:"enum",value:[{value:'"auto"'},{value:'"circle"'},{value:'"square"'}]}},defaultChecked:{defaultValue:null,description:"В режиме `selectable` реагирует на входящие значения пропса `defaultChecked` как неконтролируемый компонент.",name:"defaultChecked",required:!1,type:{name:"boolean"}},checked:{defaultValue:null,description:"В режиме `selectable` реагирует на входящие значения пропса `cheсked`, как зависящий напрямую от входящего значения.",name:"checked",required:!1,type:{name:"boolean"}},getRootRef:{defaultValue:null,description:"",name:"getRootRef",required:!1,type:{name:"Ref<HTMLSpanElement>"}},getRef:{defaultValue:null,description:"",name:"getRef",required:!1,type:{name:"Ref<HTMLInputElement>"}}}}}catch{}export{O as C,$ as a};
