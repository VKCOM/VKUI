"use strict";(self.webpackChunk_vkontakte_vkui=self.webpackChunk_vkontakte_vkui||[]).push([[83],{"./src/components/DateInput/DateInput.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Playground:()=>Playground,__namedExportsOrder:()=>__namedExportsOrder,default:()=>__WEBPACK_DEFAULT_EXPORT__});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/react/jsx-runtime.js"),_storybook_test__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/@storybook/test/dist/index.mjs"),_storybook_constants__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/storybook/constants.ts"),_testing_presets_createCalendarDayRenderField__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/testing/presets/createCalendarDayRenderField.tsx"),_testing_presets_getFormFieldIconsPresets__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/testing/presets/getFormFieldIconsPresets.tsx"),_DateInput__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/components/DateInput/DateInput.tsx");const iconsPresets=(0,_testing_presets_getFormFieldIconsPresets__WEBPACK_IMPORTED_MODULE_2__.b)(),__WEBPACK_DEFAULT_EXPORT__={title:"Forms/DateInput",component:_DateInput__WEBPACK_IMPORTED_MODULE_3__.J,parameters:{..._storybook_constants__WEBPACK_IMPORTED_MODULE_4__.eb,..._storybook_constants__WEBPACK_IMPORTED_MODULE_4__.eC},args:{onChange:(0,_storybook_test__WEBPACK_IMPORTED_MODULE_1__.fn)()},argTypes:{value:{control:{type:"date"}},after:iconsPresets,before:iconsPresets,renderDayContent:(0,_testing_presets_createCalendarDayRenderField__WEBPACK_IMPORTED_MODULE_5__.R)()}},Playground={render:({value,...args})=>{const parsedValue=value?new Date(value):value;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_DateInput__WEBPACK_IMPORTED_MODULE_3__.J,{value:parsedValue,...args})}},__namedExportsOrder=["Playground"];Playground.parameters={...Playground.parameters,docs:{...Playground.parameters?.docs,source:{originalSource:"{\n  render: ({\n    value,\n    ...args\n  }) => {\n    const parsedValue = value ? new Date(value) : value;\n    return <DateInput value={parsedValue} {...args} />;\n  }\n}",...Playground.parameters?.docs?.source}}}},"../../node_modules/date-fns/lightFormat.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{function addLeadingZeros(number,targetLength){return(number<0?"-":"")+Math.abs(number).toString().padStart(targetLength,"0")}__webpack_require__.d(__webpack_exports__,{AD:()=>lightFormat});const lightFormatters={y(date,token){const signedYear=date.getFullYear(),year=signedYear>0?signedYear:1-signedYear;return addLeadingZeros("yy"===token?year%100:year,token.length)},M(date,token){const month=date.getMonth();return"M"===token?String(month+1):addLeadingZeros(month+1,2)},d:(date,token)=>addLeadingZeros(date.getDate(),token.length),a(date,token){const dayPeriodEnumValue=date.getHours()/12>=1?"pm":"am";switch(token){case"a":case"aa":return dayPeriodEnumValue.toUpperCase();case"aaa":return dayPeriodEnumValue;case"aaaaa":return dayPeriodEnumValue[0];default:return"am"===dayPeriodEnumValue?"a.m.":"p.m."}},h:(date,token)=>addLeadingZeros(date.getHours()%12||12,token.length),H:(date,token)=>addLeadingZeros(date.getHours(),token.length),m:(date,token)=>addLeadingZeros(date.getMinutes(),token.length),s:(date,token)=>addLeadingZeros(date.getSeconds(),token.length),S(date,token){const numberOfDigits=token.length,milliseconds=date.getMilliseconds();return addLeadingZeros(Math.trunc(milliseconds*Math.pow(10,numberOfDigits-3)),token.length)}};function isDate(value){return value instanceof Date||"object"==typeof value&&"[object Date]"===Object.prototype.toString.call(value)}var toDate=__webpack_require__("../../node_modules/date-fns/toDate.js");function isValid(date){return!(!isDate(date)&&"number"!=typeof date||isNaN(+(0,toDate.a)(date)))}const formattingTokensRegExp=/(\w)\1*|''|'(''|[^'])+('|$)|./g,escapedStringRegExp=/^'([^]*?)'?$/,doubleQuoteRegExp=/''/g,unescapedLatinCharacterRegExp=/[a-zA-Z]/;function lightFormat(date,formatStr){const date_=(0,toDate.a)(date);if(!isValid(date_))throw new RangeError("Invalid time value");const tokens=formatStr.match(formattingTokensRegExp);if(!tokens)return"";return tokens.map((substring=>{if("''"===substring)return"'";const firstCharacter=substring[0];if("'"===firstCharacter)return function cleanEscapedString(input){const matches=input.match(escapedStringRegExp);return matches?matches[1].replace(doubleQuoteRegExp,"'"):input}(substring);const formatter=lightFormatters[firstCharacter];if(formatter)return formatter(date_,substring);if(firstCharacter.match(unescapedLatinCharacterRegExp))throw new RangeError("Format string contains an unescaped latin alphabet character `"+firstCharacter+"`");return substring})).join("")}},"../../node_modules/date-fns/setHours.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{a:()=>setHours});var _toDate_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/date-fns/toDate.js");function setHours(date,hours,options){const _date=(0,_toDate_js__WEBPACK_IMPORTED_MODULE_0__.a)(date,options?.in);return _date.setHours(hours),_date}},"../../node_modules/date-fns/setMinutes.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{g:()=>setMinutes});var _toDate_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/date-fns/toDate.js");function setMinutes(date,minutes,options){const date_=(0,_toDate_js__WEBPACK_IMPORTED_MODULE_0__.a)(date,options?.in);return date_.setMinutes(minutes),date_}},"../../node_modules/date-fns/startOfMinute.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{c:()=>startOfMinute});var _toDate_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/date-fns/toDate.js");function startOfMinute(date,options){const date_=(0,_toDate_js__WEBPACK_IMPORTED_MODULE_0__.a)(date,options?.in);return date_.setSeconds(0,0),date_}},"./src/hooks/useEventListener.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{M:()=>useEventListener});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/react/index.js"),_vkontakte_vkjs__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/@vkontakte/vkjs/lib/index.js");class EventListener{callback=_vkontakte_vkjs__WEBPACK_IMPORTED_MODULE_1__.lQ;options=void 0;eventType;#target=null;constructor(type,callback,options){this.options=options,this.eventType=type,callback&&(this.callback=callback)}#listener=ev=>{this.callback(ev)};add=el=>{_vkontakte_vkjs__WEBPACK_IMPORTED_MODULE_1__.Sw&&(this.remove(),el&&(el.addEventListener(this.eventType,this.#listener,this.options),this.#target=el))};remove=()=>{_vkontakte_vkjs__WEBPACK_IMPORTED_MODULE_1__.Sw&&this.#target&&(this.#target.removeEventListener(this.eventType,this.#listener,this.options),this.#target=null)}}function useEventListener(event,_cb,_options){const ref=react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);return null===ref.current?ref.current=new EventListener(event,_cb,_options):(ref.current.eventType=event,ref.current.options=_options,_cb&&(ref.current.callback=_cb)),react__WEBPACK_IMPORTED_MODULE_0__.useEffect((()=>{const detach=ref.current?.remove.bind(ref.current);return detach}),[]),ref.current}},"./src/hooks/useGlobalEventListener.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{l:()=>useGlobalEventListener});var _lib_useIsomorphicLayoutEffect__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/lib/useIsomorphicLayoutEffect.ts"),_useEventListener__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/hooks/useEventListener.ts");function useGlobalEventListener(element,event,cb,options){const listener=(0,_useEventListener__WEBPACK_IMPORTED_MODULE_0__.M)(event,cb,options);(0,_lib_useIsomorphicLayoutEffect__WEBPACK_IMPORTED_MODULE_1__.E)((()=>{cb&&element?listener.add(element):listener.remove()}),[Boolean(cb),Boolean(element)])}}}]);