"use strict";(self.webpackChunk_vkontakte_vkui=self.webpackChunk_vkontakte_vkui||[]).push([[4395,1238],{"../../node_modules/@vkontakte/icons/dist/es6/16/chevron.js":function(e,r,t){var n=t("../../node_modules/@vkontakte/icons-sprite/dist/index.js");r.Z=(0,n.De)("Icon16Chevron","chevron_16","0 0 12 16",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 12 16" id="chevron_16"><path fill="currentColor" d="M7.227 8 3.864 4.636a.9.9 0 0 1 1.272-1.272l4 4a.9.9 0 0 1 0 1.272l-4 4a.9.9 0 0 1-1.272-1.272L7.227 8Z" /></symbol>',12,16,!1,void 0)},"../../node_modules/@vkontakte/icons/dist/es6/24/chevron.js":function(e,r,t){var n=t("../../node_modules/@vkontakte/icons-sprite/dist/index.js");r.Z=(0,n.De)("Icon24Chevron","chevron_24","0 0 16 24",'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 24" id="chevron_24"><g fill="none" fill-rule="evenodd"><path d="M0 0h16v24H0z" /><path fill="currentColor" d="M4.706 7.706a1 1 0 0 1 0-1.412l.088-.088a.997.997 0 0 1 1.414.002l5.084 5.084a.998.998 0 0 1 0 1.416l-5.084 5.084a1.002 1.002 0 0 1-1.414.002l-.088-.088a.995.995 0 0 1 0-1.412L9 12 4.706 7.706Z" /></g></symbol>',16,24,!1,void 0)},"../../node_modules/@vkontakte/icons/dist/es6/24/chevron_compact_left.js":function(e,r,t){var n=t("../../node_modules/@vkontakte/icons-sprite/dist/index.js");r.Z=(0,n.De)("Icon24ChevronCompactLeft","chevron_compact_left_24","0 0 16 24",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 24" id="chevron_compact_left_24"><path fill="currentColor" d="M11.293 7.706a1 1 0 0 0 0-1.412l-.088-.088a.997.997 0 0 0-1.414.002l-5.084 5.084a.998.998 0 0 0 0 1.416l5.084 5.084c.39.391 1.026.39 1.414.002l.088-.088a.995.995 0 0 0 0-1.412L7 12z" /></symbol>',16,24,!1,void 0)},"../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[13].use[1]!../../node_modules/postcss-loader/dist/cjs.js!./src/components/BaseGallery/BaseGallery.module.css":function(e,r,t){var n=t("../../node_modules/css-loader/dist/runtime/noSourceMaps.js"),l=t.n(n),o=t("../../node_modules/css-loader/dist/runtime/api.js"),i=t.n(o)()(l());i.push([e.id,".BaseGallery--aehDU{overflow:hidden;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.BaseGallery__viewport--I1eNk{height:100%;margin:0;position:relative}.BaseGallery--align-center--JQQn4 .BaseGallery__viewport--I1eNk{margin:0 auto}.BaseGallery__layer--nJ0KW{align-items:stretch;display:flex;height:100%;min-height:100px;width:100%}.BaseGallery--draggable--J_egI .BaseGallery__layer--nJ0KW{cursor:-webkit-grab;cursor:grab}.BaseGallery__layer--nJ0KW:empty{min-height:0}.BaseGallery__slide--N5num{flex:0 0 auto;max-width:100%;overflow:hidden;width:100%}.BaseGallery--custom-width--Cet7r .BaseGallery__slide--N5num{width:auto}.BaseGallery__slide--N5num>*{min-height:100%;width:100%}.BaseGallery__bullets--acbMd{align-items:center;bottom:10px;display:flex;height:6px;justify-content:center;left:0;position:absolute;width:100%}.BaseGallery__bullets--dark--T_Veu .BaseGallery__bullet--YYi6w{background-color:#2c2d2e;background-color:var(--vkui--color_icon_primary_invariably)}.BaseGallery__bullets--light--wkxQq .BaseGallery__bullet--YYi6w{background-color:#fff;background-color:var(--vkui--color_icon_contrast)}.BaseGallery__bullet--YYi6w{border-radius:50%;height:6px;margin:0 3px;opacity:.64;opacity:var(--vkui--opacity_disable_accessibility);width:6px}.BaseGallery__bullet--active--WpJY6{opacity:1}",""]),i.locals={BaseGallery:"BaseGallery--aehDU",BaseGallery__viewport:"BaseGallery__viewport--I1eNk","BaseGallery--align-center":"BaseGallery--align-center--JQQn4",BaseGallery__layer:"BaseGallery__layer--nJ0KW","BaseGallery--draggable":"BaseGallery--draggable--J_egI",BaseGallery__slide:"BaseGallery__slide--N5num","BaseGallery--custom-width":"BaseGallery--custom-width--Cet7r",BaseGallery__bullets:"BaseGallery__bullets--acbMd","BaseGallery__bullets--dark":"BaseGallery__bullets--dark--T_Veu",BaseGallery__bullet:"BaseGallery__bullet--YYi6w","BaseGallery__bullets--light":"BaseGallery__bullets--light--wkxQq","BaseGallery__bullet--active":"BaseGallery__bullet--active--WpJY6"},r.Z=i},"../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[13].use[1]!../../node_modules/postcss-loader/dist/cjs.js!./src/components/HorizontalScroll/HorizontalScrollArrow.module.css":function(e,r,t){var n=t("../../node_modules/css-loader/dist/runtime/noSourceMaps.js"),l=t.n(n),o=t("../../node_modules/css-loader/dist/runtime/api.js"),i=t.n(o)()(l());i.push([e.id,".HorizontalScrollArrow--Yblvg{background-color:initial;border:none;cursor:pointer;display:flex;flex-direction:column;height:100%;justify-content:center;opacity:0;padding:0;position:absolute;top:0;transition:opacity .15s;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-timing-function:var(--vkui--animation_easing_platform);-webkit-user-select:auto;-moz-user-select:auto;-ms-user-select:auto;user-select:auto}.HorizontalScrollArrow__icon--ki9tj{align-items:center;background-color:#fff;background-color:var(--vkui--color_background_modal);box-shadow:0 0 2px rgba(0,0,0,.08),0 4px 16px rgba(0,0,0,.08);box-shadow:var(--vkui--elevation3);color:#99a2ad;color:var(--vkui--color_icon_secondary);display:flex;justify-content:center;position:relative}.HorizontalScrollArrow--size-m--_XvYJ .HorizontalScrollArrow__icon--ki9tj{border-radius:14px;height:28px;width:28px}.HorizontalScrollArrow--size-l--KxMZn .HorizontalScrollArrow__icon--ki9tj{border-radius:24px;height:40px;width:40px}.HorizontalScrollArrow--direction-left--r4ALe{left:0;padding-left:16px;padding-left:var(--vkui--size_base_padding_horizontal--regular,16px)}.HorizontalScrollArrow--direction-right--VN2GM{padding-right:16px;padding-right:var(--vkui--size_base_padding_horizontal--regular,16px);right:0}.vkuiInternalBaseGallery:hover .HorizontalScrollArrow--Yblvg,.vkuiInternalHorizontalScroll:hover .HorizontalScrollArrow--Yblvg{opacity:.64;opacity:var(--vkui--opacity_disable_accessibility)}.vkuiInternalBaseGallery:hover .HorizontalScrollArrow--Yblvg:hover,.vkuiInternalHorizontalScroll:hover .HorizontalScrollArrow--Yblvg:hover,.vkuiInternalHorizontalScroll--withConstArrows .HorizontalScrollArrow--Yblvg,.vkuiInternalHorizontalScroll--withConstArrows:hover .HorizontalScrollArrow--Yblvg{opacity:1}",""]),i.locals={HorizontalScrollArrow:"HorizontalScrollArrow--Yblvg",HorizontalScrollArrow__icon:"HorizontalScrollArrow__icon--ki9tj","HorizontalScrollArrow--size-m":"HorizontalScrollArrow--size-m--_XvYJ","HorizontalScrollArrow--size-l":"HorizontalScrollArrow--size-l--KxMZn","HorizontalScrollArrow--direction-left":"HorizontalScrollArrow--direction-left--r4ALe","HorizontalScrollArrow--direction-right":"HorizontalScrollArrow--direction-right--VN2GM"},r.Z=i},"../../node_modules/mitt/dist/mitt.mjs":function(e,r,t){t.d(r,{Z:function(){return n}});function n(e){return{all:e=e||new Map,on:function(r,t){var n=e.get(r);n?n.push(t):e.set(r,[t])},off:function(r,t){var n=e.get(r);n&&(t?n.splice(n.indexOf(t)>>>0,1):e.set(r,[]))},emit:function(r,t){var n=e.get(r);n&&n.slice().map(function(e){e(t)}),(n=e.get("*"))&&n.slice().map(function(e){e(r,t)})}}}},"./src/components/Gallery/Gallery.stories.tsx":function(e,r,t){t.r(r),t.d(r,{Playground:function(){return Y},default:function(){return T}});var n,l,o,i=t("../../node_modules/react/jsx-runtime.js"),a=t("../../node_modules/react/index.js"),s=t("./src/storybook/constants.ts"),u=t("./src/helpers/math.ts"),c=t("./src/hooks/useTimeout.ts"),d=t("../../node_modules/@vkontakte/vkjs/lib/es6/index.js"),f=t("./src/hooks/useAdaptivityHasPointer.ts"),m=t("./src/hooks/useExternRef.ts"),p=t("./src/hooks/useGlobalEventListener.ts"),y=t("./src/lib/dom.tsx"),v=t("./src/lib/useIsomorphicLayoutEffect.ts"),b=t("./src/components/HorizontalScroll/HorizontalScrollArrow.tsx"),g=t("./src/components/Touch/Touch.tsx"),h=function(e){var r=e.containerWidth,t=void 0===r?0:r,n=e.layerWidth,l=void 0===n?0:n,o=e.slides,i=void 0===o?[]:o,a=e.viewportOffsetWidth,s=void 0===a?0:a,u=e.align,c=e.isCenterWithCustomWidth;switch(u){case"left":return t-l;case"right":return s-l;case"center":if(!c||!i.length)return s-(t-s)/2-l;var d=i[i.length-1];return s/2-d.coordX-d.width/2}},_=function(e){var r=e.slides,t=void 0===r?[]:r,n=e.viewportOffsetWidth;if(e.isCenterWithCustomWidth&&t.length){var l=t[0],o=l.width;return(void 0===n?0:n)/2-l.coordX-o/2}return 0},w=t("../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),j=t.n(w),S=t("../../node_modules/style-loader/dist/runtime/singletonStyleDomAPI.js"),O=t.n(S),k=t("../../node_modules/style-loader/dist/runtime/insertBySelector.js"),x=t.n(k),A=t("../../node_modules/style-loader/dist/runtime/setAttributesWithAttributesAndNonce.js"),G=t.n(A),z=t("../../node_modules/style-loader/dist/runtime/insertStyleElement.js"),B=t.n(z),C=t("../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[13].use[1]!../../node_modules/postcss-loader/dist/cjs.js!./src/components/BaseGallery/BaseGallery.module.css"),P={attributes:{class:"vkui-style"}};P.setAttributes=G(),P.insert=x().bind(null,"head"),P.domAPI=O(),P.insertStyleElement=B(),j()(C.Z,P);var E=C.Z&&C.Z.locals?C.Z.locals:void 0;function H(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=Array(r);t<r;t++)n[t]=e[t];return n}function I(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{},n=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(t).filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.forEach(function(r){!function(e,r,t){r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t}(e,r,t[r])})}return e}function D(e,r){return r=null!=r?r:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):(function(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,n)}return t})(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}),e}var V={containerWidth:0,viewportOffsetWidth:0,layerWidth:0,min:0,max:0,slides:[],isFullyVisible:!0},W={animation:void 0,shiftX:0,dragging:!1,deltaX:0,indent:0},X=function(e){var r,t=e.bullets,n=void 0!==t&&t,l=e.getRootRef,o=e.children,s=e.slideWidth,u=void 0===s?"100%":s,c=e.slideIndex,w=void 0===c?0:c,j=e.isDraggable,S=void 0===j||j,O=e.onDragStart,k=e.onDragEnd,x=e.onChange,A=e.onPrevClick,G=e.onNextClick,z=e.align,B=void 0===z?"left":z,C=e.showArrows,P=e.getRef,X=e.className,N=e.arrowSize,R=void 0===N?"l":N,q=function(e,r){if(null==e)return{};var t,n,l=function(e,r){if(null==e)return{};var t,n,l={},o=Object.keys(e);for(n=0;n<o.length;n++)t=o[n],r.indexOf(t)>=0||(l[t]=e[t]);return l}(e,r);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)t=o[n],!(r.indexOf(t)>=0)&&Object.prototype.propertyIsEnumerable.call(e,t)&&(l[t]=e[t])}return l}(e,["bullets","getRootRef","children","slideWidth","slideIndex","isDraggable","onDragStart","onDragEnd","onChange","onPrevClick","onNextClick","align","showArrows","getRef","className","arrowSize"]),M=a.useRef({}),T=a.useRef(V),Y=function(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var t,n,l=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=l){var o=[],i=!0,a=!1;try{for(l=l.call(e);!(i=(t=l.next()).done)&&(o.push(t.value),!r||o.length!==r);i=!0);}catch(e){a=!0,n=e}finally{try{i||null==l.return||l.return()}finally{if(a)throw n}}return o}}(e,r)||function(e,r){if(e){if("string"==typeof e)return H(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if("Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return H(e,r)}}(e,r)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(a.useState(W),2),L=Y[0],Z=Y[1],K=(0,m.Q)(l),J=(0,m.Q)(P),Q=(0,y.NG)().window,F=(0,f.K)(),U="custom"===u&&"center"===B,$=function(e){var r,t,n=null!==(r=T.current.max)&&void 0!==r?r:0,l=null!==(t=T.current.min)&&void 0!==t?t:0;return e<l?l:e>n?n:e},ee=function(e){if(T.current.isFullyVisible)return 0;var r=(null===(t=T.current.slides)||void 0===t?void 0:t.length)?T.current.slides[e]:null;if(r){var t,n,l=r.coordX,o=r.width;return U?(null!==(n=T.current.viewportOffsetWidth)&&void 0!==n?n:0)/2-l-o/2:$(-1*l)}return 0},er=function(){var e,r,t=null!==(e=T.current.max)&&void 0!==e?e:0,n=null!==(r=T.current.min)&&void 0!==r?r:0,l=L.shiftX+L.deltaX;return l>t?t+Number((l-t)/3):l<n?n+Number((l-n)/3):l},et=function(){var e,r,t,n,l,i,s,u,c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},d=null!==(l=a.Children.map(o,function(e,r){var t,n,l=M.current["slide-".concat(r)];return{coordX:null!==(t=null==l?void 0:l.offsetLeft)&&void 0!==t?t:0,width:null!==(n=null==l?void 0:l.offsetWidth)&&void 0!==n?n:0}}))&&void 0!==l?l:[],f=null!==(i=null===(e=K.current)||void 0===e?void 0:e.offsetWidth)&&void 0!==i?i:0,m=null!==(s=null===(r=J.current)||void 0===r?void 0:r.offsetWidth)&&void 0!==s?s:0,p=d.reduce(function(e,r){return r.width+e},0),y=d.length<=T.current.slides.length||(null===(t=T.current.slides[w])||void 0===t?void 0:t.coordX)!==(null===(n=d[w])||void 0===n?void 0:n.coordX);T.current={containerWidth:f,viewportOffsetWidth:m,layerWidth:p,max:_({slides:d,viewportOffsetWidth:m,isCenterWithCustomWidth:U}),min:h({containerWidth:f,layerWidth:p,slides:d,viewportOffsetWidth:m,isCenterWithCustomWidth:U,align:B}),slides:d,isFullyVisible:p<=f},Z(function(e){return D(I({},e),{shiftX:y?ee(w):e.shiftX,animation:null!==(u=c.animation)&&void 0!==u?u:e.shiftX===$(e.shiftX)})})};(0,p.J)(Q,"resize",function(){void 0!==L.animation&&et({animation:!1})}),(0,v.L)(function(){et({animation:!1})},[o,B,u]),(0,v.L)(function(){void 0!==L.animation&&Z(function(e){return D(I({},e),{animation:!0,deltaX:0,shiftX:ee(null!=w?w:0)})})},[w]);var en=function(e){var r,t=L.deltaX/e.duration*144,n=L.shiftX+L.deltaX+t-(null!==(r=T.current.max)&&void 0!==r?r:0),l=L.deltaX<0?1:-1,o=T.current.slides.reduce(function(e,r,t){return Math.abs(T.current.slides[e].coordX+n)<Math.abs(r.coordX+n)?e:t},w);if(o===w){var i=w+l;i>=0&&i<T.current.slides.length&&Math.abs(L.deltaX)>.05*T.current.slides[i].width&&(o=i)}return o},el=L.dragging?er():L.shiftX,eo={WebkitTransform:"translateX(".concat(el,"px)"),transform:"translateX(".concat(el,"px)"),WebkitTransition:L.animation?"-webkit-transform ".concat(.24,"s cubic-bezier(.1, 0, .25, 1)"):"none",transition:L.animation?"transform ".concat(.24,"s cubic-bezier(.1, 0, .25, 1)"):"none"},ei=function(e,r){M.current["slide-".concat(r)]=e},ea=!T.current.isFullyVisible&&L.shiftX<0,es=!T.current.isFullyVisible&&("left"===B&&T.current.containerWidth-L.shiftX<(null!==(r=T.current.layerWidth)&&void 0!==r?r:0)||"left"!==B&&w<T.current.slides.length-1),eu=S&&!T.current.isFullyVisible;return(0,i.jsxs)("div",D(I({},q),{className:(0,d.AK)(E.BaseGallery,"vkuiInternalBaseGallery","center"===B&&E["BaseGallery--align-center"],"custom"===u&&E["BaseGallery--custom-width"],eu&&E["BaseGallery--draggable"],X),ref:K,children:[(0,i.jsx)(g.X,{className:E.BaseGallery__viewport,onStartX:function(e){null==O||O(e),Z(function(e){return D(I({},e),{animation:!1})})},onMoveX:function(e){S&&!T.current.isFullyVisible&&(e.originalEvent.preventDefault(),e.isSlideX&&L.deltaX!==e.shiftX&&Z(function(r){return D(I({},r),{deltaX:e.shiftX,dragging:e.isSlideX})}))},onEnd:function(e){var r=e.isSlide?en(e):null!=w?w:0;null==k||k(e,r);var t={animation:!0,dragging:!1,deltaX:0},n=er();r!==w&&(t.shiftX=n),Z(function(e){return I({},e,t)}),r!==w&&(null==x||x(r))},style:{width:"custom"===u?"100%":u},getRootRef:J,noSlideClick:!0,children:(0,i.jsx)("div",{className:E.BaseGallery__layer,style:eo,children:a.Children.map(o,function(e,r){return(0,i.jsx)("div",{className:E.BaseGallery__slide,ref:function(e){return ei(e,r)},children:e},"slide-".concat(r))})})}),n&&(0,i.jsx)("div",{"aria-hidden":!0,className:(0,d.AK)(E.BaseGallery__bullets,{dark:E["BaseGallery__bullets--dark"],light:E["BaseGallery__bullets--light"]}[n]),children:a.Children.map(o,function(e,r){return(0,i.jsx)("div",{className:(0,d.AK)(E.BaseGallery__bullet,r===w&&E["BaseGallery__bullet--active"])},r)})}),C&&F&&ea&&(0,i.jsx)(b.S,{direction:"left",onClick:function(e){null==x||x(w-1),null==A||A(e)},size:R}),C&&F&&es&&(0,i.jsx)(b.S,{direction:"right",onClick:function(e){null==x||x(w+1),null==G||G(e)},size:R})]}))};try{X.displayName="BaseGallery",X.__docgenInfo={description:"",displayName:"BaseGallery",props:{slideWidth:{defaultValue:{value:"100%"},description:"",name:"slideWidth",required:!1,type:{name:"string | number"}},slideIndex:{defaultValue:{value:"0"},description:"",name:"slideIndex",required:!1,type:{name:"number"}},onDragStart:{defaultValue:null,description:"",name:"onDragStart",required:!1,type:{name:"TouchEventHandler"}},onDragEnd:{defaultValue:null,description:"",name:"onDragEnd",required:!1,type:{name:"((e: TouchEvent, targetIndex: number) => void)"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"((current: number) => void)"}},onPrevClick:{defaultValue:null,description:"Будет вызвано при клике на кнопку-стрелку влево",name:"onPrevClick",required:!1,type:{name:"((event: MouseEvent<Element, MouseEvent>) => void)"}},onNextClick:{defaultValue:null,description:"Будет вызвано при клике на кнопку-стрелку вправо",name:"onNextClick",required:!1,type:{name:"((event: MouseEvent<Element, MouseEvent>) => void)"}},bullets:{defaultValue:{value:"false"},description:"",name:"bullets",required:!1,type:{name:'false | "dark" | "light"'}},isDraggable:{defaultValue:null,description:"",name:"isDraggable",required:!1,type:{name:"boolean"}},showArrows:{defaultValue:null,description:"",name:"showArrows",required:!1,type:{name:"boolean"}},hasPointer:{defaultValue:null,description:"",name:"hasPointer",required:!1,type:{name:"boolean"}},arrowSize:{defaultValue:{value:"l"},description:"",name:"arrowSize",required:!1,type:{name:"enum",value:[{value:'"m"'},{value:'"l"'}]}},align:{defaultValue:{value:"left"},description:"",name:"align",required:!1,type:{name:"enum",value:[{value:'"center"'},{value:'"left"'},{value:'"right"'}]}},getRootRef:{defaultValue:null,description:"",name:"getRootRef",required:!1,type:{name:"Ref<HTMLDivElement>"}},getRef:{defaultValue:null,description:"",name:"getRef",required:!1,type:{name:"Ref<HTMLElement>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/BaseGallery/BaseGallery.tsx#BaseGallery"]={docgenInfo:X.__docgenInfo,name:"BaseGallery",path:"src/components/BaseGallery/BaseGallery.tsx#BaseGallery"})}catch(e){}function N(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=Array(r);t<r;t++)n[t]=e[t];return n}var R=function(e){var r,t=e.initialSlideIndex,n=e.children,l=e.timeout,o=void 0===l?0:l,s=e.onChange,d=e.bullets,f=function(e,r){if(null==e)return{};var t,n,l=function(e,r){if(null==e)return{};var t,n,l={},o=Object.keys(e);for(n=0;n<o.length;n++)t=o[n],r.indexOf(t)>=0||(l[t]=e[t]);return l}(e,r);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)t=o[n],!(r.indexOf(t)>=0)&&Object.prototype.propertyIsEnumerable.call(e,t)&&(l[t]=e[t])}return l}(e,["initialSlideIndex","children","timeout","onChange","bullets"]),m=function(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var t,n,l=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=l){var o=[],i=!0,a=!1;try{for(l=l.call(e);!(i=(t=l.next()).done)&&(o.push(t.value),!r||o.length!==r);i=!0);}catch(e){a=!0,n=e}finally{try{i||null==l.return||l.return()}finally{if(a)throw n}}return o}}(e,r)||function(e,r){if(e){if("string"==typeof e)return N(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if("Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return N(e,r)}}(e,r)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(a.useState(void 0===t?0:t),2),p=m[0],y=m[1],v="number"==typeof f.slideIndex,b=v?null!==(r=f.slideIndex)&&void 0!==r?r:0:p,g=a.useMemo(function(){return a.Children.toArray(n).filter(function(e){return!!e})},[n]),h=g.length,_=a.useCallback(function(e){e!==b&&(v||y(e),s&&s(e))},[v,s,b]),w=(0,c.K)(function(){return _((b+1)%h)},o);a.useEffect(function(){return o?w.set():w.clear()},[o,b,w]);var j=h>0?(0,u.uZ)(b,0,h-1):b;return a.useEffect(function(){s&&j!==b&&s(j),y(j)},[s,j,b]),(0,i.jsx)(X,function(e,r){return r=null!=r?r:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):(function(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,n)}return t})(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}),e}(function(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{},n=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(t).filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.forEach(function(r){!function(e,r,t){r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t}(e,r,t[r])})}return e}({isDraggable:!v||!!s},f),{bullets:h>0&&d,slideIndex:j,onChange:_,children:g}))};try{R.displayName="Gallery",R.__docgenInfo={description:"",displayName:"Gallery",props:{initialSlideIndex:{defaultValue:{value:"0"},description:"",name:"initialSlideIndex",required:!1,type:{name:"number"}},timeout:{defaultValue:{value:"0"},description:"",name:"timeout",required:!1,type:{name:"number"}},slideWidth:{defaultValue:null,description:"",name:"slideWidth",required:!1,type:{name:"string | number"}},slideIndex:{defaultValue:null,description:"",name:"slideIndex",required:!1,type:{name:"number"}},onDragStart:{defaultValue:null,description:"",name:"onDragStart",required:!1,type:{name:"TouchEventHandler"}},onDragEnd:{defaultValue:null,description:"",name:"onDragEnd",required:!1,type:{name:"((e: TouchEvent, targetIndex: number) => void)"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"((current: number) => void)"}},onPrevClick:{defaultValue:null,description:"Будет вызвано при клике на кнопку-стрелку влево",name:"onPrevClick",required:!1,type:{name:"((event: MouseEvent<Element, MouseEvent>) => void)"}},onNextClick:{defaultValue:null,description:"Будет вызвано при клике на кнопку-стрелку вправо",name:"onNextClick",required:!1,type:{name:"((event: MouseEvent<Element, MouseEvent>) => void)"}},bullets:{defaultValue:null,description:"",name:"bullets",required:!1,type:{name:'false | "dark" | "light"'}},isDraggable:{defaultValue:null,description:"",name:"isDraggable",required:!1,type:{name:"boolean"}},showArrows:{defaultValue:null,description:"",name:"showArrows",required:!1,type:{name:"boolean"}},hasPointer:{defaultValue:null,description:"",name:"hasPointer",required:!1,type:{name:"boolean"}},arrowSize:{defaultValue:null,description:"",name:"arrowSize",required:!1,type:{name:"enum",value:[{value:'"m"'},{value:'"l"'}]}},align:{defaultValue:null,description:"",name:"align",required:!1,type:{name:"enum",value:[{value:'"center"'},{value:'"left"'},{value:'"right"'}]}},getRootRef:{defaultValue:null,description:"",name:"getRootRef",required:!1,type:{name:"Ref<HTMLDivElement>"}},getRef:{defaultValue:null,description:"",name:"getRef",required:!1,type:{name:"Ref<HTMLElement>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Gallery/Gallery.tsx#Gallery"]={docgenInfo:R.__docgenInfo,name:"Gallery",path:"src/components/Gallery/Gallery.tsx#Gallery"})}catch(e){}function q(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{},n=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(t).filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.forEach(function(r){!function(e,r,t){r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t}(e,r,t[r])})}return e}function M(e,r){return r=null!=r?r:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):(function(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,n)}return t})(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}),e}var T={title:"Blocks/Gallery",component:R,parameters:q({},s.tW,s.nB)},Y={render:function(e){return(0,i.jsxs)(R,M(q({},e),{children:[(0,i.jsx)("div",{style:{backgroundColor:"var(--vkui--color_background_negative)"}}),(0,i.jsx)("img",{alt:"image",src:"https://picsum.photos/1024/640",style:{display:"block"}}),(0,i.jsx)("div",{style:{backgroundColor:"var(--vkui--color_background_accent)"}})]}))}};Y.parameters=M(q({},Y.parameters),{docs:M(q({},null===(n=Y.parameters)||void 0===n?void 0:n.docs),{source:q({originalSource:"{\n  render: args => <Gallery {...args}>\n      <div style={{\n      backgroundColor: 'var(--vkui--color_background_negative)'\n    }} />\n      <img alt=\"image\" src=\"https://picsum.photos/1024/640\" style={{\n      display: 'block'\n    }} />\n      <div style={{\n      backgroundColor: 'var(--vkui--color_background_accent)'\n    }} />\n    </Gallery>\n}"},null===(l=Y.parameters)||void 0===l?void 0:null===(o=l.docs)||void 0===o?void 0:o.source)})})},"./src/components/HorizontalScroll/HorizontalScrollArrow.tsx":function(e,r,t){t.d(r,{S:function(){return S}});var n=t("../../node_modules/react/jsx-runtime.js");t("../../node_modules/react/index.js");var l=(0,t("../../node_modules/@vkontakte/icons-sprite/dist/index.js").De)("Icon16ChevronLeft","chevron_left_16","0 0 12 16",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 12 16" id="chevron_left_16"><path fill="currentColor" d="m4.773 8 3.363 3.364a.9.9 0 1 1-1.272 1.272l-4-4a.9.9 0 0 1 0-1.272l4-4a.9.9 0 1 1 1.272 1.272z" /></symbol>',12,16,!1,void 0),o=t("../../node_modules/@vkontakte/icons/dist/es6/16/chevron.js"),i=t("../../node_modules/@vkontakte/icons/dist/es6/24/chevron_compact_left.js"),a=t("../../node_modules/@vkontakte/icons/dist/es6/24/chevron.js"),s=t("../../node_modules/@vkontakte/vkjs/lib/es6/index.js"),u=t("./src/components/Tappable/Tappable.tsx"),c=t("../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),d=t.n(c),f=t("../../node_modules/style-loader/dist/runtime/singletonStyleDomAPI.js"),m=t.n(f),p=t("../../node_modules/style-loader/dist/runtime/insertBySelector.js"),y=t.n(p),v=t("../../node_modules/style-loader/dist/runtime/setAttributesWithAttributesAndNonce.js"),b=t.n(v),g=t("../../node_modules/style-loader/dist/runtime/insertStyleElement.js"),h=t.n(g),_=t("../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[13].use[1]!../../node_modules/postcss-loader/dist/cjs.js!./src/components/HorizontalScroll/HorizontalScrollArrow.module.css"),w={attributes:{class:"vkui-style"}};w.setAttributes=b(),w.insert=y().bind(null,"head"),w.domAPI=m(),w.insertStyleElement=h(),d()(_.Z,w);var j=_.Z&&_.Z.locals?_.Z.locals:void 0,S=function(e){var r,t=e.size,c=void 0===t?"l":t,d=e.offsetY,f=e.direction,m=e.onClick,p=e.className,y=function(e,r){if(null==e)return{};var t,n,l=function(e,r){if(null==e)return{};var t,n,l={},o=Object.keys(e);for(n=0;n<o.length;n++)t=o[n],r.indexOf(t)>=0||(l[t]=e[t]);return l}(e,r);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)t=o[n],!(r.indexOf(t)>=0)&&Object.prototype.propertyIsEnumerable.call(e,t)&&(l[t]=e[t])}return l}(e,["size","offsetY","direction","onClick","className"]);return r="m"===c?"left"===f?l:o.Z:"left"===f?i.Z:a.Z,(0,n.jsx)(u.KR,function(e,r){return r=null!=r?r:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):(function(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,n)}return t})(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}),e}(function(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{},n=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(t).filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.forEach(function(r){!function(e,r,t){r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t}(e,r,t[r])})}return e}({},y),{Component:"button",hasHover:!1,hasActive:!1,className:(0,s.AK)(j.HorizontalScrollArrow,{m:j["HorizontalScrollArrow--size-m"],l:j["HorizontalScrollArrow--size-l"]}[c],{left:j["HorizontalScrollArrow--direction-left"],right:j["HorizontalScrollArrow--direction-right"]}[f],p),onClick:m,children:(0,n.jsx)("span",{className:j.HorizontalScrollArrow__icon,style:d?{top:d}:void 0,children:(0,n.jsx)(r,{})})}))};try{S.displayName="HorizontalScrollArrow",S.__docgenInfo={description:"",displayName:"HorizontalScrollArrow",props:{direction:{defaultValue:null,description:"",name:"direction",required:!0,type:{name:"enum",value:[{value:'"left"'},{value:'"right"'}]}},size:{defaultValue:{value:"l"},description:"",name:"size",required:!1,type:{name:"enum",value:[{value:'"m"'},{value:'"l"'}]}},offsetY:{defaultValue:null,description:"",name:"offsetY",required:!1,type:{name:"string | number"}},onClick:{defaultValue:null,description:"",name:"onClick",required:!0,type:{name:"(event: MouseEvent<Element, MouseEvent>) => void"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/HorizontalScroll/HorizontalScrollArrow.tsx#HorizontalScrollArrow"]={docgenInfo:S.__docgenInfo,name:"HorizontalScrollArrow",path:"src/components/HorizontalScroll/HorizontalScrollArrow.tsx#HorizontalScrollArrow"})}catch(e){}}}]);