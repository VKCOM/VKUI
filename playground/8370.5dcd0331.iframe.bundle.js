"use strict";(self.webpackChunk_vkontakte_vkui=self.webpackChunk_vkontakte_vkui||[]).push([[8370],{"../../node_modules/@vkontakte/icons/dist_es6/16/chevron_16.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{U:()=>Icon16Chevron});var Icon16Chevron=(0,__webpack_require__("../../node_modules/@vkontakte/icons-sprite/dist/index.js").mT)("Icon16Chevron","chevron_16","0 0 12 16",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 12 16" id="chevron_16"><path fill="currentColor" d="M7.227 8 3.864 4.636a.9.9 0 0 1 1.272-1.272l4 4a.9.9 0 0 1 0 1.272l-4 4a.9.9 0 0 1-1.272-1.272z" /></symbol>',12,16,!1,void 0)},"../../node_modules/@vkontakte/icons/dist_es6/24/chevron_24.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{x:()=>Icon24Chevron});var Icon24Chevron=(0,__webpack_require__("../../node_modules/@vkontakte/icons-sprite/dist/index.js").mT)("Icon24Chevron","chevron_24","0 0 16 24",'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 24" id="chevron_24"><g fill="none" fill-rule="evenodd"><path d="M0 0h16v24H0z" /><path fill="currentColor" d="M4.706 7.706a1 1 0 0 1 0-1.412l.088-.088a.997.997 0 0 1 1.414.002l5.084 5.084a1 1 0 0 1 0 1.416l-5.084 5.084a1 1 0 0 1-1.414.002l-.088-.088a.995.995 0 0 1 0-1.412L9 12z" /></g></symbol>',16,24,!1,void 0)},"../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[14].use[1]!../../node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[14].use[2]!./src/components/CarouselBase/CarouselBase.module.css":(module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/css-loader/dist/runtime/sourceMaps.js"),_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__),_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/css-loader/dist/runtime/api.js"),___CSS_LOADER_EXPORT___=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__)()(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default());___CSS_LOADER_EXPORT___.push([module.id,".CarouselBase__host--SJRf5{overflow:hidden;-webkit-user-select:none;-moz-user-select:none;user-select:none}.CarouselBase__host--SJRf5,.CarouselBase__viewport--DdIvm{position:relative}.CarouselBase__viewport--DdIvm{block-size:100%;margin:0}.CarouselBase__alignCenter--rK_JZ .CarouselBase__viewport--DdIvm{margin-block:0;margin-inline:auto}.CarouselBase__layer--GWAtZ{align-items:stretch;-webkit-backface-visibility:hidden;backface-visibility:hidden;block-size:100%;display:flex;inline-size:100%;min-block-size:100px}.CarouselBase__draggable--qJTwC .CarouselBase__layer--GWAtZ{cursor:-webkit-grab;cursor:grab}.CarouselBase__layer--GWAtZ:empty{min-block-size:0}.CarouselBase__slide--GIQ1s{flex:0 0 auto;inline-size:100%;max-inline-size:100%;overflow:hidden}.CarouselBase__customWidth--CZE33 .CarouselBase__slide--GIQ1s{inline-size:auto}.CarouselBase__slide--GIQ1s>*{inline-size:100%;min-block-size:100%}.CarouselBase__bullets--wwzaJ{align-items:center;block-size:6px;display:flex;inline-size:100%;inset-block-end:10px;inset-inline-start:0;justify-content:center;position:absolute}.CarouselBase__bulletsDark--XbRQS .CarouselBase__bullet--B6DxX{background-color:var(--vkui--color_icon_primary_invariably)}.CarouselBase__bulletsLight--sosdL .CarouselBase__bullet--B6DxX{background-color:var(--vkui--color_icon_contrast)}.CarouselBase__bullet--B6DxX{block-size:6px;border-radius:50%;inline-size:6px;margin-block:0;margin-inline:3px;opacity:var(--vkui--opacity_disable_accessibility)}.CarouselBase__bulletActive--LztiR{opacity:1}.CarouselBase__arrow--NF4s2{opacity:0;position:absolute}.CarouselBase__arrowAreaStretch--Ov9Iy{inset-block-start:0}.CarouselBase__arrowAreaFit--t6Bqo{block-size:auto;inset-block-start:50%;padding-block:calc(var(--vkui--size_base_padding_vertical--regular) * 2);transform:translateY(-50%)}.CarouselBase__arrowStart--RE0uk{-webkit-padding-end:var(--vkui--size_base_padding_horizontal--regular);padding-inline-end:var(--vkui--size_base_padding_horizontal--regular)}.CarouselBase__arrowEnd--U8Gg1{-webkit-padding-start:var(--vkui--size_base_padding_horizontal--regular);padding-inline-start:var(--vkui--size_base_padding_horizontal--regular)}.CarouselBase__host--SJRf5:hover .CarouselBase__arrow--NF4s2{opacity:var(--vkui--opacity_disable_accessibility)}.CarouselBase__host--SJRf5 .CarouselBase__arrow--NF4s2:hover{opacity:1}","",{version:3,sources:["webpack://./src/components/CarouselBase/CarouselBase.module.css"],names:[],mappings:"AAAA,2BAEE,eAAgB,CAChB,wBAAiB,CAAjB,qBAAiB,CAAjB,gBACF,CAEA,0DALE,iBASF,CAJA,+BAEE,eAAgB,CADhB,QAGF,CAEA,iEACE,cAAe,CACf,kBACF,CAEA,4BAKE,mBAAoB,CACpB,kCAA2B,CAA3B,0BAA2B,CAH3B,eAAgB,CAFhB,YAAa,CACb,gBAAiB,CAEjB,oBAGF,CAEA,4DACE,mBAAY,CAAZ,WACF,CAEA,kCACE,gBACF,CAEA,4BAEE,aAAc,CADd,gBAAiB,CAEjB,oBAAqB,CACrB,eACF,CAEA,8DACE,gBACF,CAGA,8BACE,gBAAiB,CACjB,mBACF,CAEA,8BAOE,kBAAmB,CAJnB,cAAe,CAGf,YAAa,CAFb,gBAAiB,CAFjB,oBAAqB,CAGrB,oBAAqB,CAGrB,sBAAuB,CAPvB,iBAQF,CAEA,+DACE,2DACF,CAEA,gEACE,iDACF,CAEA,6BACE,cAAe,CAEf,iBAAkB,CADlB,eAAgB,CAEhB,cAAe,CACf,iBAAkB,CAClB,kDACF,CAEA,mCACE,SACF,CAEA,4BAEE,SAAU,CADV,iBAEF,CAEA,uCACE,mBACF,CAEA,mCAGE,eAAgB,CAFhB,qBAAsB,CAGtB,wEAAyE,CAFzE,0BAGF,CAEA,iCACE,sEAAsE,CAAtE,qEACF,CAEA,+BACE,wEAAwE,CAAxE,uEACF,CAEA,6DACE,kDACF,CAEA,6DACE,SACF",sourcesContent:[".host {\n  position: relative;\n  overflow: hidden;\n  user-select: none;\n}\n\n.viewport {\n  margin: 0;\n  block-size: 100%;\n  position: relative;\n}\n\n.alignCenter .viewport {\n  margin-block: 0;\n  margin-inline: auto;\n}\n\n.layer {\n  display: flex;\n  inline-size: 100%;\n  block-size: 100%;\n  min-block-size: 100px;\n  align-items: stretch;\n  backface-visibility: hidden;\n}\n\n.draggable .layer {\n  cursor: grab;\n}\n\n.layer:empty {\n  min-block-size: 0;\n}\n\n.slide {\n  inline-size: 100%;\n  flex: 0 0 auto;\n  max-inline-size: 100%;\n  overflow: hidden;\n}\n\n.customWidth .slide {\n  inline-size: auto;\n}\n\n/* stylelint-disable-next-line selector-max-universal */\n.slide > * {\n  inline-size: 100%;\n  min-block-size: 100%;\n}\n\n.bullets {\n  position: absolute;\n  inset-block-end: 10px;\n  block-size: 6px;\n  inline-size: 100%;\n  inset-inline-start: 0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.bulletsDark .bullet {\n  background-color: var(--vkui--color_icon_primary_invariably);\n}\n\n.bulletsLight .bullet {\n  background-color: var(--vkui--color_icon_contrast);\n}\n\n.bullet {\n  block-size: 6px;\n  inline-size: 6px;\n  border-radius: 50%;\n  margin-block: 0;\n  margin-inline: 3px;\n  opacity: var(--vkui--opacity_disable_accessibility);\n}\n\n.bulletActive {\n  opacity: 1;\n}\n\n.arrow {\n  position: absolute;\n  opacity: 0;\n}\n\n.arrowAreaStretch {\n  inset-block-start: 0;\n}\n\n.arrowAreaFit {\n  inset-block-start: 50%;\n  transform: translateY(-50%);\n  block-size: auto;\n  padding-block: calc(var(--vkui--size_base_padding_vertical--regular) * 2);\n}\n\n.arrowStart {\n  padding-inline-end: var(--vkui--size_base_padding_horizontal--regular);\n}\n\n.arrowEnd {\n  padding-inline-start: var(--vkui--size_base_padding_horizontal--regular);\n}\n\n.host:hover .arrow {\n  opacity: var(--vkui--opacity_disable_accessibility);\n}\n\n.host .arrow:hover {\n  opacity: 1;\n}\n"],sourceRoot:""}]),___CSS_LOADER_EXPORT___.locals={host:"CarouselBase__host--SJRf5",viewport:"CarouselBase__viewport--DdIvm",alignCenter:"CarouselBase__alignCenter--rK_JZ",layer:"CarouselBase__layer--GWAtZ",draggable:"CarouselBase__draggable--qJTwC",slide:"CarouselBase__slide--GIQ1s",customWidth:"CarouselBase__customWidth--CZE33",bullets:"CarouselBase__bullets--wwzaJ",bulletsDark:"CarouselBase__bulletsDark--XbRQS",bullet:"CarouselBase__bullet--B6DxX",bulletsLight:"CarouselBase__bulletsLight--sosdL",bulletActive:"CarouselBase__bulletActive--LztiR",arrow:"CarouselBase__arrow--NF4s2",arrowAreaStretch:"CarouselBase__arrowAreaStretch--Ov9Iy",arrowAreaFit:"CarouselBase__arrowAreaFit--t6Bqo",arrowStart:"CarouselBase__arrowStart--RE0uk",arrowEnd:"CarouselBase__arrowEnd--U8Gg1"};const __WEBPACK_DEFAULT_EXPORT__=___CSS_LOADER_EXPORT___},"./src/components/Gallery/Gallery.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>Gallery});var jsx_runtime=__webpack_require__("../../node_modules/react/jsx-runtime.js"),react=__webpack_require__("../../node_modules/react/index.js"),math=__webpack_require__("./src/helpers/math.ts"),useIsClient=__webpack_require__("./src/hooks/useIsClient.ts"),callMultiple=__webpack_require__("./src/lib/callMultiple.ts"),lib=__webpack_require__("../../node_modules/@vkontakte/vkjs/lib/index.js"),useAdaptivityHasPointer=__webpack_require__("./src/hooks/useAdaptivityHasPointer.ts"),useExternRef=__webpack_require__("./src/hooks/useExternRef.ts"),useMutationObserver=__webpack_require__("./src/hooks/useMutationObserver.ts"),useResizeObserver=__webpack_require__("./src/hooks/useResizeObserver.ts"),dom=__webpack_require__("./src/lib/dom.tsx"),useIsomorphicLayoutEffect=__webpack_require__("./src/lib/useIsomorphicLayoutEffect.ts"),warnOnce=__webpack_require__("./src/lib/warnOnce.ts"),RootComponent=__webpack_require__("./src/components/RootComponent/RootComponent.tsx"),injectStylesIntoStyleTag=__webpack_require__("../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),injectStylesIntoStyleTag_default=__webpack_require__.n(injectStylesIntoStyleTag),singletonStyleDomAPI=__webpack_require__("../../node_modules/style-loader/dist/runtime/singletonStyleDomAPI.js"),singletonStyleDomAPI_default=__webpack_require__.n(singletonStyleDomAPI),insertBySelector=__webpack_require__("../../node_modules/style-loader/dist/runtime/insertBySelector.js"),insertBySelector_default=__webpack_require__.n(insertBySelector),setAttributesWithAttributesAndNonce=__webpack_require__("../../node_modules/style-loader/dist/runtime/setAttributesWithAttributesAndNonce.js"),setAttributesWithAttributesAndNonce_default=__webpack_require__.n(setAttributesWithAttributesAndNonce),insertStyleElement=__webpack_require__("../../node_modules/style-loader/dist/runtime/insertStyleElement.js"),insertStyleElement_default=__webpack_require__.n(insertStyleElement),CarouselBase_module=__webpack_require__("../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[14].use[1]!../../node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[14].use[2]!./src/components/CarouselBase/CarouselBase.module.css"),options={attributes:{class:"vkui-style"}};options.setAttributes=setAttributesWithAttributesAndNonce_default(),options.insert=insertBySelector_default().bind(null,"head"),options.domAPI=singletonStyleDomAPI_default(),options.insertStyleElement=insertStyleElement_default();injectStylesIntoStyleTag_default()(CarouselBase_module.A,options);const CarouselBase_CarouselBase_module=CarouselBase_module.A&&CarouselBase_module.A.locals?CarouselBase_module.A.locals:void 0,stylesBullets={dark:CarouselBase_CarouselBase_module.bulletsDark,light:CarouselBase_CarouselBase_module.bulletsLight},Bullets=({bullets,slideIndex,count,bulletTestId})=>(0,jsx_runtime.jsx)("div",{"aria-hidden":!0,className:(0,lib.xW)(CarouselBase_CarouselBase_module.bullets,stylesBullets[bullets]),children:Array.from({length:count}).map(((_,index)=>(0,jsx_runtime.jsx)("div",{className:(0,lib.xW)(CarouselBase_CarouselBase_module.bullet,index===slideIndex&&CarouselBase_CarouselBase_module.bulletActive),"data-testid":bulletTestId?.(index,index===slideIndex)},index)))});try{Bullets.displayName="Bullets",Bullets.__docgenInfo={description:"",displayName:"Bullets",props:{bullets:{defaultValue:null,description:"",name:"bullets",required:!0,type:{name:"enum",value:[{value:'"light"'},{value:'"dark"'}]}},slideIndex:{defaultValue:null,description:"",name:"slideIndex",required:!0,type:{name:"number"}},count:{defaultValue:null,description:"",name:"count",required:!0,type:{name:"number"}},bulletTestId:{defaultValue:null,description:"Передает атрибут `data-testid` для bullets",name:"bulletTestId",required:!1,type:{name:"((index: number, active: boolean) => string)"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/CarouselBase/Bullets.tsx#Bullets"]={docgenInfo:Bullets.__docgenInfo,name:"Bullets",path:"src/components/CarouselBase/Bullets.tsx#Bullets"})}catch(__react_docgen_typescript_loader_error){}var Touch=__webpack_require__("./src/components/Touch/Touch.tsx");const CarouselViewPort=({slideTestId,slideWidth,onStart,onMoveX,onEnd,getRootRef,layerRef,children,setSlideRef})=>(0,jsx_runtime.jsx)(Touch.U,{className:CarouselBase_CarouselBase_module.viewport,onStartX:onStart,onMoveX,onEnd,style:{width:"custom"===slideWidth?"100%":slideWidth},noSlideClick:!0,getRootRef,children:(0,jsx_runtime.jsx)("div",{className:CarouselBase_CarouselBase_module.layer,ref:layerRef,children:react.Children.map(children,((item,i)=>(0,jsx_runtime.jsx)("div",{className:CarouselBase_CarouselBase_module.slide,"data-testid":slideTestId?.(i),ref:el=>setSlideRef(el,i),children:item},`slide-${i}`)))})});try{CarouselViewPort.displayName="CarouselViewPort",CarouselViewPort.__docgenInfo={description:"",displayName:"CarouselViewPort",props:{slideWidth:{defaultValue:null,description:"",name:"slideWidth",required:!1,type:{name:"string | number"}},slideTestId:{defaultValue:null,description:"Передает атрибут `data-testid` для слайда",name:"slideTestId",required:!1,type:{name:"((index: number) => string)"}},getRootRef:{defaultValue:null,description:"",name:"getRootRef",required:!1,type:{name:"Ref<HTMLElement>"}},onStart:{defaultValue:null,description:"",name:"onStart",required:!0,type:{name:"(e: CustomTouchEvent) => void"}},onMoveX:{defaultValue:null,description:"",name:"onMoveX",required:!0,type:{name:"(e: CustomTouchEvent) => void"}},onEnd:{defaultValue:null,description:"",name:"onEnd",required:!0,type:{name:"(e: CustomTouchEvent) => void"}},setSlideRef:{defaultValue:null,description:"",name:"setSlideRef",required:!0,type:{name:"(slideRef: HTMLDivElement | null, slideIndex: number) => void"}},layerRef:{defaultValue:null,description:"",name:"layerRef",required:!1,type:{name:"Ref<HTMLDivElement>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/CarouselBase/CarouselViewPort.tsx#CarouselViewPort"]={docgenInfo:CarouselViewPort.__docgenInfo,name:"CarouselViewPort",path:"src/components/CarouselBase/CarouselViewPort.tsx#CarouselViewPort"})}catch(__react_docgen_typescript_loader_error){}var ScrollArrow=__webpack_require__("./src/components/ScrollArrow/ScrollArrow.tsx");const stylesArrowAreaHeight={stretch:CarouselBase_CarouselBase_module.arrowAreaStretch,fit:CarouselBase_CarouselBase_module.arrowAreaFit},getArrowClassName=(side,arrowAreaHeight)=>(0,lib.xW)(CarouselBase_CarouselBase_module.arrow,"start"===side?CarouselBase_CarouselBase_module.arrowStart:CarouselBase_CarouselBase_module.arrowEnd,stylesArrowAreaHeight[arrowAreaHeight]),ScrollArrows=({hasPointer,canSlideLeft,canSlideRight,onSlideRight,onSlideLeft,showArrows=!1,arrowSize="m",arrowAreaHeight="stretch",nextArrowTestId,prevArrowTestId})=>showArrows&&hasPointer?(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[canSlideLeft&&(0,jsx_runtime.jsx)(ScrollArrow.L,{className:getArrowClassName("start",arrowAreaHeight),direction:"left",onClick:onSlideLeft,size:arrowSize,"data-testid":prevArrowTestId}),canSlideRight&&(0,jsx_runtime.jsx)(ScrollArrow.L,{className:getArrowClassName("end",arrowAreaHeight),direction:"right",onClick:onSlideRight,size:arrowSize,"data-testid":nextArrowTestId})]}):null;try{ScrollArrows.displayName="ScrollArrows",ScrollArrows.__docgenInfo={description:"",displayName:"ScrollArrows",props:{hasPointer:{defaultValue:null,description:"",name:"hasPointer",required:!1,type:{name:"boolean"}},canSlideLeft:{defaultValue:null,description:"",name:"canSlideLeft",required:!0,type:{name:"boolean"}},canSlideRight:{defaultValue:null,description:"",name:"canSlideRight",required:!0,type:{name:"boolean"}},onSlideLeft:{defaultValue:null,description:"",name:"onSlideLeft",required:!0,type:{name:"(e: MouseEvent<Element, MouseEvent>) => void"}},onSlideRight:{defaultValue:null,description:"",name:"onSlideRight",required:!0,type:{name:"(e: MouseEvent<Element, MouseEvent>) => void"}},showArrows:{defaultValue:{value:"false"},description:"",name:"showArrows",required:!1,type:{name:"boolean"}},arrowSize:{defaultValue:{value:"m"},description:"",name:"arrowSize",required:!1,type:{name:"enum",value:[{value:'"s"'},{value:'"m"'}]}},arrowAreaHeight:{defaultValue:{value:"stretch"},description:"Управление размером кликабельной зоны стрелок. В дизайне свойство называется `arrowArea`",name:"arrowAreaHeight",required:!1,type:{name:"enum",value:[{value:'"stretch"'},{value:'"fit"'}]}},nextArrowTestId:{defaultValue:null,description:"Передает атрибут `data-testid` для кнопки перехода к следующему слайду",name:"nextArrowTestId",required:!1,type:{name:"string"}},prevArrowTestId:{defaultValue:null,description:"Передает атрибут `data-testid` для кнопки перехода к предыдущему слайду",name:"prevArrowTestId",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/CarouselBase/ScrollArrows.tsx#ScrollArrows"]={docgenInfo:ScrollArrows.__docgenInfo,name:"ScrollArrows",path:"src/components/CarouselBase/ScrollArrows.tsx#ScrollArrows"})}catch(__react_docgen_typescript_loader_error){}const CONTROL_ELEMENTS_STATE={canSlideLeft:!0,canSlideRight:!0,isDraggable:!0},SLIDES_MANAGER_STATE={viewportOffsetWidth:0,slides:[],isFullyVisible:!0,loopPoints:[],contentSize:0,snaps:[],containerWidth:0,layerWidth:0,min:0,max:0};function getShiftedIndexes(direction,slides,availableWidth){let gap=availableWidth;const shiftedSlideIndexes=[],startIndex=1===direction?0:slides.length-1,endIndex=1===direction?slides.length-1:0;for(let i=startIndex;(1===direction?i<=endIndex:i>=endIndex)&&gap>0;i+=direction){const slideWidth=slides[i].width;gap>0&&shiftedSlideIndexes.push(i),gap-=slideWidth}return shiftedSlideIndexes}function calculateLoopPoints(indexes,edge,slidesManager,containerWidth){const{contentSize,slides,snaps}=slidesManager,isStartEdge="start"===edge,offset=isStartEdge?-contentSize:contentSize;return indexes.map((index=>{const initial=isStartEdge?0:-contentSize,altered=isStartEdge?contentSize:0,loopPoint=isStartEdge?snaps[index]+containerWidth+offset:snaps[index]-slides[index].width+offset-snaps[0];return{index,target:currentLocation=>currentLocation>=loopPoint?initial:altered}}))}const calcMin=({containerWidth=0,layerWidth=0,slides=[],viewportOffsetWidth=0,align})=>{switch(align){case"left":return containerWidth-layerWidth;case"right":return viewportOffsetWidth-layerWidth;case"center":const{coordX,width}=slides[slides.length-1];return containerWidth/2-coordX-width/2;default:throw new Error(`unknown align ${align}`)}},calcMax=({slides=[],containerWidth=0,isCenterAlign})=>{if(isCenterAlign&&slides.length){const{width,coordX}=slides[0];return containerWidth/2-coordX-width/2}return 0};const TIMING_FUNCTION=(0,__webpack_require__("./src/lib/fx.ts").A)(.8,1);function useSlideAnimation(){const animationQueue=react.useRef([]);return{getAnimateFunction:function getAnimateFunction(drawFunction){return()=>{!function animate({duration,timing,draw,animationQueue=[]}){if(!lib.Sw)return;let start;requestAnimationFrame((function animate(time){start||(start=time);let timeFraction=Math.min((time-start)/duration,1);const progress=timing(timeFraction);draw(progress),timeFraction<1?requestAnimationFrame(animate):(animationQueue.shift(),animationQueue.length>0&&animationQueue[0]())}))}({duration:240,timing:TIMING_FUNCTION,animationQueue:animationQueue.current,draw:drawFunction})}},addToAnimationQueue:function addToAnimationQueue(func){animationQueue.current.push(func)},startAnimation:function startAnimation(){1===animationQueue.current.length&&animationQueue.current[0]()}}}(0,warnOnce.m)("Gallery");const CarouselBase=({bullets=!1,getRootRef,children,slideWidth="100%",slideIndex=0,dragDisabled=!1,resizeSource="window",onDragStart,onDragEnd,onChange,onPrevClick,onNextClick,align="left",showArrows,getRef,arrowSize,arrowAreaHeight,slideTestId,bulletTestId,nextArrowTestId,prevArrowTestId,looped=!1,...restProps})=>{const slidesStore=react.useRef({}),slidesManager=react.useRef(SLIDES_MANAGER_STATE),rootRef=(0,useExternRef.Z)(getRootRef),viewportRef=(0,useExternRef.Z)(getRef),layerRef=react.useRef(null),animationFrameRef=react.useRef(null),shiftXCurrentRef=react.useRef(0),shiftXDeltaRef=react.useRef(0),initialized=react.useRef(!1),{addToAnimationQueue,getAnimateFunction,startAnimation}=useSlideAnimation(),isDragging=react.useRef(!1),[controlElementsState,setControlElementsState]=react.useState(CONTROL_ELEMENTS_STATE),hasPointer=(0,useAdaptivityHasPointer.Y)(),isCenterAlign="center"===align,calculateCanSlideLeft=()=>looped?!slidesManager.current.isFullyVisible:!slidesManager.current.isFullyVisible&&shiftXCurrentRef.current<0,calculateCanSlideRight=()=>looped?!slidesManager.current.isFullyVisible:!slidesManager.current.isFullyVisible&&("left"===align&&slidesManager.current.containerWidth-shiftXCurrentRef.current<(slidesManager.current.layerWidth??0)||"left"!==align&&slideIndex<slidesManager.current.slides.length-1),transformCssStyles=(shiftX,animation=!1)=>{if(shiftX=Math.round(shiftX),looped?slidesManager.current.loopPoints.forEach((loopPoint=>{const{target,index}=loopPoint,slide=slidesStore.current[index];slide&&(slide.style.transform=`translate3d(${target(shiftX)}px, 0, 0)`)})):Object.values(slidesStore.current).forEach((slide=>{slide&&(slide.style.transform="")})),layerRef.current){const indent=isDragging.current&&!looped?(()=>{const localMax=slidesManager.current.max??0,localMin=slidesManager.current.min??0,indent=shiftXCurrentRef.current+shiftXDeltaRef.current;return indent>localMax?localMax+Number((indent-localMax)/3):indent<localMin?localMin+Number((indent-localMin)/3):indent})():shiftX;layerRef.current.style.transform=`translate3d(${indent}px, 0, 0)`,layerRef.current.style.transition=animation?"transform 240ms cubic-bezier(.1, 0, .25, 1)":""}},requestTransform=(shiftX,animation=!1)=>{const{snaps,contentSize,slides}=slidesManager.current;null!==animationFrameRef.current&&cancelAnimationFrame(animationFrameRef.current),animationFrameRef.current=requestAnimationFrame((()=>{looped&&shiftX>snaps[0]&&(shiftXCurrentRef.current=-contentSize+snaps[0],shiftX=shiftXCurrentRef.current+shiftXDeltaRef.current);const lastPoint=slides[slides.length-1].width+slides[slides.length-1].coordX;looped&&shiftX<=-lastPoint&&(shiftXCurrentRef.current=Math.abs(shiftXDeltaRef.current)+snaps[0]),transformCssStyles(shiftX,animation)}))},initializeSlides=()=>{if(!rootRef.current||!viewportRef.current)return;let localSlides=react.Children.map(children,((_item,i)=>{const elem=slidesStore.current[i]||{offsetLeft:0,offsetWidth:0};return{coordX:elem.offsetLeft,width:elem.offsetWidth}}))||[];if(0===localSlides.length)return void(initialized.current=!1);const containerWidth=rootRef.current.offsetWidth,viewportOffsetWidth=viewportRef.current.offsetWidth,layerWidth=localSlides.reduce(((val,slide)=>slide.width+val),0);const currentSlideOffsetOnCenterAlignment=(containerWidth-(localSlides[slideIndex]?.width??0))/2,isFullyVisible="center"===align?layerWidth+currentSlideOffsetOnCenterAlignment<=containerWidth:layerWidth<=containerWidth;slidesManager.current={...slidesManager.current,layerWidth,containerWidth,viewportOffsetWidth,slides:localSlides,isFullyVisible,max:looped?null:calcMax({slides:localSlides,containerWidth,isCenterAlign}),min:looped?null:calcMin({containerWidth,layerWidth,slides:localSlides,viewportOffsetWidth,align})};const snaps=localSlides.map(((_,index)=>function calculateIndent(targetIndex,slidesManager,isCenter,looped=!1){if(slidesManager.isFullyVisible||!slidesManager.slides.length)return 0;const targetSlide=slidesManager.slides[targetIndex];if(targetSlide){const{coordX,width}=targetSlide;if(isCenter)return slidesManager.containerWidth/2-coordX-width/2;const indent=-1*coordX;return looped?indent:((slidesManager,value)=>{const localMax=slidesManager.max??0,localMin=slidesManager.min??0;return value<localMin?localMin:value>localMax?localMax:value})(slidesManager,indent)}return 0}(index,slidesManager.current,isCenterAlign,looped)));let contentSize=-snaps[snaps.length-1]+localSlides[localSlides.length-1].width;"center"===align&&(contentSize+=snaps[0]),slidesManager.current.snaps=snaps,slidesManager.current.contentSize=contentSize,looped&&(slidesManager.current.loopPoints=function getLoopPoints(slidesManager,containerWidth){const{slides,snaps}=slidesManager,startShiftedIndexes=getShiftedIndexes(-1,slides,snaps[0]);return[...calculateLoopPoints(getShiftedIndexes(1,slides,containerWidth-snaps[0]),"start",slidesManager,containerWidth),...calculateLoopPoints(startShiftedIndexes,"end",slidesManager,containerWidth)]}(slidesManager.current,containerWidth)),shiftXCurrentRef.current=snaps[slideIndex],initialized.current=!0,setControlElementsState({canSlideLeft:calculateCanSlideLeft(),canSlideRight:calculateCanSlideRight(),isDraggable:!(dragDisabled||slidesManager.current.isFullyVisible)}),requestTransform(shiftXCurrentRef.current)},{window}=(0,dom.a4)();(0,useResizeObserver.w)("element"===resizeSource?rootRef:window,(()=>{initialized.current&&initializeSlides()}));(0,useIsomorphicLayoutEffect.E)((function performSlideChange(){if(!initialized.current)return;const{snaps}=slidesManager.current,indent=snaps[slideIndex];looped?(()=>{const{snaps,slides}=slidesManager.current,indent=snaps[slideIndex];let startPoint=shiftXCurrentRef.current;if(indent===snaps[0]&&shiftXCurrentRef.current<=snaps[snaps.length-1]){const distance=Math.abs(snaps[snaps.length-1])+slides[slides.length-1].width+startPoint;addToAnimationQueue(getAnimateFunction((progress=>{const shiftX=startPoint+progress*distance*-1;transformCssStyles(shiftX),shiftX<=snaps[snaps.length-1]-slides[slides.length-1].width&&requestAnimationFrame((()=>{shiftXCurrentRef.current=indent,transformCssStyles(snaps[0])}))})))}else indent===snaps[snaps.length-1]&&shiftXCurrentRef.current===snaps[0]?(startPoint=indent-slides[slides.length-1].width,addToAnimationQueue((()=>{requestAnimationFrame((()=>{const shiftX=indent-slides[slides.length-1].width;transformCssStyles(shiftX),getAnimateFunction((progress=>{transformCssStyles(startPoint+progress*slides[slides.length-1].width)}))()}))}))):addToAnimationQueue((()=>{const distance=Math.abs(indent-startPoint);let direction=startPoint<=indent?1:-1;getAnimateFunction((progress=>{transformCssStyles(startPoint+progress*distance*direction)}))()}))})():(()=>{const{snaps}=slidesManager.current,startPoint=shiftXCurrentRef.current,distance=snaps[slideIndex]-startPoint;addToAnimationQueue(getAnimateFunction((progress=>transformCssStyles(startPoint+distance*progress))))})(),startAnimation(),shiftXCurrentRef.current=indent,setControlElementsState((v=>({...v,canSlideLeft:calculateCanSlideLeft(),canSlideRight:calculateCanSlideRight()})))}),[slideIndex]),(0,useIsomorphicLayoutEffect.E)((function updateIsDraggable(){setControlElementsState((v=>({...v,isDraggable:!(dragDisabled||slidesManager.current.isFullyVisible)})))}),[dragDisabled]),(0,useMutationObserver.P)(layerRef,initializeSlides),(0,useIsomorphicLayoutEffect.E)(initializeSlides,[align,slideWidth,looped]);const calculateMinDeltaXToSlide=()=>.05*slidesManager.current.slides[slideIndex].width,{isDraggable,canSlideRight,canSlideLeft}=controlElementsState;return(0,jsx_runtime.jsxs)(RootComponent.I,{...restProps,baseClassName:(0,lib.xW)(CarouselBase_CarouselBase_module.host,"custom"===slideWidth&&CarouselBase_CarouselBase_module.customWidth,isDraggable&&CarouselBase_CarouselBase_module.draggable),getRootRef:rootRef,children:[(0,jsx_runtime.jsx)(CarouselViewPort,{slideWidth,slideTestId,onStart:e=>{e.originalEvent.stopPropagation(),controlElementsState.isDraggable&&(onDragStart?.(e),shiftXCurrentRef.current=slidesManager.current.snaps[slideIndex],shiftXDeltaRef.current=0)},onMoveX:e=>{controlElementsState.isDraggable&&(e.originalEvent.preventDefault(),e.isSlideX&&(isDragging.current=!0,shiftXDeltaRef.current!==e.shiftX&&(shiftXDeltaRef.current=e.shiftX,requestTransform(shiftXCurrentRef.current+shiftXDeltaRef.current))))},onEnd:e=>{if(controlElementsState.isDraggable){isDragging.current=!1;let targetIndex=slideIndex;if(e.isSlide&&(targetIndex=function getTargetIndex(slides,slideIndex,currentShiftX,currentShiftXDelta,looped=!1){const shift=currentShiftX+currentShiftXDelta,direction=currentShiftXDelta<0?1:-1;let targetIndex=slides.reduce(((val,item,index)=>Math.abs(slides[val].coordX+shift)<Math.abs(item.coordX+shift)?val:index),slideIndex);if(targetIndex===slideIndex){let targetSlide=slideIndex+direction;return targetSlide>=0&&targetSlide<slides.length?Math.abs(currentShiftXDelta)>.05*slides[targetSlide].width?targetSlide:targetIndex:looped?direction<0?(targetSlide+slides.length)%slides.length:targetSlide%slides.length:direction<0?Math.max(targetIndex,0):Math.min(targetIndex,slides.length-1)}return targetIndex}(slidesManager.current.slides,slideIndex,shiftXCurrentRef.current,shiftXDeltaRef.current,looped)),onDragEnd?.(e,targetIndex),targetIndex!==slideIndex)shiftXCurrentRef.current=shiftXCurrentRef.current+shiftXDeltaRef.current,onChange?.(targetIndex);else{const initialShiftX=slidesManager.current.snaps[targetIndex];requestTransform(initialShiftX,!0)}}},getRootRef:viewportRef,layerRef,setSlideRef:(slideRef,slideIndex)=>{slidesStore.current[slideIndex]=slideRef},children}),bullets&&(0,jsx_runtime.jsx)(Bullets,{bullets,slideIndex,count:react.Children.count(children),bulletTestId}),(0,jsx_runtime.jsx)(ScrollArrows,{hasPointer,canSlideLeft,canSlideRight,onSlideRight:event=>{slideIndex<slidesManager.current.slides.length-1&&(shiftXCurrentRef.current-=calculateMinDeltaXToSlide()),onChange?.((slideIndex+1)%slidesManager.current.slides.length),onNextClick?.(event)},onSlideLeft:event=>{slideIndex>0&&(shiftXCurrentRef.current+=calculateMinDeltaXToSlide()),onChange?.((slideIndex-1+slidesManager.current.slides.length)%slidesManager.current.slides.length),onPrevClick?.(event)},showArrows,arrowSize,arrowAreaHeight,prevArrowTestId,nextArrowTestId})]})};try{CarouselBase.displayName="CarouselBase",CarouselBase.__docgenInfo={description:"",displayName:"CarouselBase",props:{slideWidth:{defaultValue:{value:"100%"},description:"",name:"slideWidth",required:!1,type:{name:"string | number"}},slideIndex:{defaultValue:{value:"0"},description:"",name:"slideIndex",required:!1,type:{name:"number"}},onDragStart:{defaultValue:null,description:"",name:"onDragStart",required:!1,type:{name:"CustomTouchEventHandler"}},onDragEnd:{defaultValue:null,description:"",name:"onDragEnd",required:!1,type:{name:"((e: CustomTouchEvent, targetIndex: number) => void)"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"((current: number) => void)"}},onPrevClick:{defaultValue:null,description:"Будет вызвано при клике на кнопку-стрелку влево",name:"onPrevClick",required:!1,type:{name:"((event: MouseEvent<Element, MouseEvent>) => void)"}},onNextClick:{defaultValue:null,description:"Будет вызвано при клике на кнопку-стрелку вправо",name:"onNextClick",required:!1,type:{name:"((event: MouseEvent<Element, MouseEvent>) => void)"}},bullets:{defaultValue:{value:"false"},description:"",name:"bullets",required:!1,type:{name:'false | "light" | "dark"'}},dragDisabled:{defaultValue:{value:"false"},description:"Позволяет отключить реагирование на тач-события",name:"dragDisabled",required:!1,type:{name:"boolean"}},showArrows:{defaultValue:null,description:"",name:"showArrows",required:!1,type:{name:"boolean"}},arrowAreaHeight:{defaultValue:null,description:"Управление размером кликабельной зоны стрелок. В дизайне свойство называется `arrowArea`",name:"arrowAreaHeight",required:!1,type:{name:"enum",value:[{value:'"stretch"'},{value:'"fit"'}]}},hasPointer:{defaultValue:null,description:"",name:"hasPointer",required:!1,type:{name:"boolean"}},arrowSize:{defaultValue:null,description:"",name:"arrowSize",required:!1,type:{name:"enum",value:[{value:'"s"'},{value:'"m"'}]}},arrowPrevLabel:{defaultValue:null,description:"Текст для кнопки-стрелки влево (назад). Делает ее доступной для ассистивных технологий",name:"arrowPrevLabel",required:!1,type:{name:"string"}},arrowNextLabel:{defaultValue:null,description:"Текст для кнопки-стрелки вправо (вперед). Делает ее доступной для ассистивных технологий",name:"arrowNextLabel",required:!1,type:{name:"string"}},slideTestId:{defaultValue:null,description:"Передает атрибут `data-testid` для слайда",name:"slideTestId",required:!1,type:{name:"((index: number) => string)"}},looped:{defaultValue:{value:"false"},description:"Включает зацикленность слайдов",name:"looped",required:!1,type:{name:"boolean"}},resizeSource:{defaultValue:{value:"window"},description:"Тип источника для отслеживания размера:\n- `window`: пересчет позиции слайдов будет происходить при изменении размеров `window`\n- `element`: пересчет позиции слайдов будет происходить при изменении размеров компонента",name:"resizeSource",required:!1,type:{name:"enum",value:[{value:'"window"'},{value:'"element"'}]}},getRootRef:{defaultValue:null,description:"",name:"getRootRef",required:!1,type:{name:"Ref<HTMLDivElement>"}},align:{defaultValue:{value:"left"},description:"",name:"align",required:!1,type:{name:"enum",value:[{value:'"center"'},{value:'"right"'},{value:'"left"'}]}},getRef:{defaultValue:null,description:"",name:"getRef",required:!1,type:{name:"Ref<HTMLElement>"}},bulletTestId:{defaultValue:null,description:"Передает атрибут `data-testid` для bullets",name:"bulletTestId",required:!1,type:{name:"((index: number, active: boolean) => string)"}},nextArrowTestId:{defaultValue:null,description:"Передает атрибут `data-testid` для кнопки перехода к следующему слайду",name:"nextArrowTestId",required:!1,type:{name:"string"}},prevArrowTestId:{defaultValue:null,description:"Передает атрибут `data-testid` для кнопки перехода к предыдущему слайду",name:"prevArrowTestId",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/CarouselBase/CarouselBase.tsx#CarouselBase"]={docgenInfo:CarouselBase.__docgenInfo,name:"CarouselBase",path:"src/components/CarouselBase/CarouselBase.tsx#CarouselBase"})}catch(__react_docgen_typescript_loader_error){}var useStableCallback=__webpack_require__("./src/hooks/useStableCallback.ts");const Gallery=({initialSlideIndex=0,children,timeout=0,onChange,bullets,onDragStart,onDragEnd,...props})=>{const[localSlideIndex,setSlideIndex]=react.useState(initialSlideIndex),isControlled="number"==typeof props.slideIndex,slideIndex=isControlled?props.slideIndex??0:localSlideIndex,slides=react.useMemo((()=>react.Children.toArray(children).filter((item=>Boolean(item)))),[children]),childCount=slides.length,isClient=(0,useIsClient.D)(),handleChange=react.useCallback((current=>{current!==slideIndex&&(!isControlled&&setSlideIndex(current),onChange&&onChange(current))}),[isControlled,onChange,slideIndex]),autoPlayControls=function useAutoPlay({timeout,slideIndex,onNext}){const{document}=(0,dom.a4)(),[paused,setPaused]=react.useState(!1),timeoutRef=react.useRef(null),callbackFn=(0,useStableCallback.K)(onNext),pause=react.useCallback((()=>setPaused(!0)),[]),resume=react.useCallback((()=>setPaused(!1)),[]),clearAutoPlayTimeout=react.useCallback((()=>{timeoutRef.current&&(clearTimeout(timeoutRef.current),timeoutRef.current=null)}),[]),startAutoPlayTimeout=react.useCallback((()=>{document&&timeout&&!paused&&("visible"===document.visibilityState?(clearAutoPlayTimeout(),timeoutRef.current=setTimeout(callbackFn,timeout)):clearAutoPlayTimeout())}),[document,timeout,paused,clearAutoPlayTimeout,callbackFn]);return react.useEffect((function initializeAutoPlay(){if(document&&timeout&&!paused)return startAutoPlayTimeout(),document.addEventListener("visibilitychange",startAutoPlayTimeout),()=>{clearAutoPlayTimeout(),document.removeEventListener("visibilitychange",startAutoPlayTimeout)}}),[document,timeout,slideIndex,startAutoPlayTimeout,clearAutoPlayTimeout,paused]),{resume,pause}}({timeout,slideIndex,onNext:()=>handleChange((slideIndex+1)%childCount)}),safeSlideIndex=childCount>0?(0,math.qE)(slideIndex,0,childCount-1):slideIndex;return react.useEffect((()=>{onChange&&safeSlideIndex!==slideIndex&&onChange(safeSlideIndex),setSlideIndex(safeSlideIndex)}),[onChange,safeSlideIndex,slideIndex]),isClient?(0,jsx_runtime.jsx)(CarouselBase,{dragDisabled:isControlled&&!onChange,...props,onDragStart:(0,callMultiple.j)(onDragStart,autoPlayControls.pause),onDragEnd:(0,callMultiple.j)(onDragEnd,autoPlayControls.resume),bullets:childCount>0&&bullets,slideIndex:safeSlideIndex,onChange:handleChange,children:slides}):null};try{Gallery.displayName="Gallery",Gallery.__docgenInfo={description:"",displayName:"Gallery",props:{initialSlideIndex:{defaultValue:{value:"0"},description:"",name:"initialSlideIndex",required:!1,type:{name:"number"}},timeout:{defaultValue:{value:"0"},description:"",name:"timeout",required:!1,type:{name:"number"}},slideWidth:{defaultValue:null,description:"",name:"slideWidth",required:!1,type:{name:"string | number"}},slideIndex:{defaultValue:null,description:"",name:"slideIndex",required:!1,type:{name:"number"}},onDragStart:{defaultValue:null,description:"",name:"onDragStart",required:!1,type:{name:"CustomTouchEventHandler"}},onDragEnd:{defaultValue:null,description:"",name:"onDragEnd",required:!1,type:{name:"((e: CustomTouchEvent, targetIndex: number) => void)"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"((current: number) => void)"}},onPrevClick:{defaultValue:null,description:"Будет вызвано при клике на кнопку-стрелку влево",name:"onPrevClick",required:!1,type:{name:"((event: MouseEvent<Element, MouseEvent>) => void)"}},onNextClick:{defaultValue:null,description:"Будет вызвано при клике на кнопку-стрелку вправо",name:"onNextClick",required:!1,type:{name:"((event: MouseEvent<Element, MouseEvent>) => void)"}},bullets:{defaultValue:null,description:"",name:"bullets",required:!1,type:{name:'false | "light" | "dark"'}},dragDisabled:{defaultValue:null,description:"Позволяет отключить реагирование на тач-события",name:"dragDisabled",required:!1,type:{name:"boolean"}},showArrows:{defaultValue:null,description:"",name:"showArrows",required:!1,type:{name:"boolean"}},arrowAreaHeight:{defaultValue:null,description:"Управление размером кликабельной зоны стрелок. В дизайне свойство называется `arrowArea`",name:"arrowAreaHeight",required:!1,type:{name:"enum",value:[{value:'"stretch"'},{value:'"fit"'}]}},hasPointer:{defaultValue:null,description:"",name:"hasPointer",required:!1,type:{name:"boolean"}},arrowSize:{defaultValue:null,description:"",name:"arrowSize",required:!1,type:{name:"enum",value:[{value:'"s"'},{value:'"m"'}]}},arrowPrevLabel:{defaultValue:null,description:"Текст для кнопки-стрелки влево (назад). Делает ее доступной для ассистивных технологий",name:"arrowPrevLabel",required:!1,type:{name:"string"}},arrowNextLabel:{defaultValue:null,description:"Текст для кнопки-стрелки вправо (вперед). Делает ее доступной для ассистивных технологий",name:"arrowNextLabel",required:!1,type:{name:"string"}},slideTestId:{defaultValue:null,description:"Передает атрибут `data-testid` для слайда",name:"slideTestId",required:!1,type:{name:"((index: number) => string)"}},looped:{defaultValue:null,description:"Включает зацикленность слайдов",name:"looped",required:!1,type:{name:"boolean"}},resizeSource:{defaultValue:null,description:"Тип источника для отслеживания размера:\n- `window`: пересчет позиции слайдов будет происходить при изменении размеров `window`\n- `element`: пересчет позиции слайдов будет происходить при изменении размеров компонента",name:"resizeSource",required:!1,type:{name:"enum",value:[{value:'"window"'},{value:'"element"'}]}},getRootRef:{defaultValue:null,description:"",name:"getRootRef",required:!1,type:{name:"Ref<HTMLDivElement>"}},align:{defaultValue:null,description:"",name:"align",required:!1,type:{name:"enum",value:[{value:'"center"'},{value:'"right"'},{value:'"left"'}]}},getRef:{defaultValue:null,description:"",name:"getRef",required:!1,type:{name:"Ref<HTMLElement>"}},bulletTestId:{defaultValue:null,description:"Передает атрибут `data-testid` для bullets",name:"bulletTestId",required:!1,type:{name:"((index: number, active: boolean) => string)"}},nextArrowTestId:{defaultValue:null,description:"Передает атрибут `data-testid` для кнопки перехода к следующему слайду",name:"nextArrowTestId",required:!1,type:{name:"string"}},prevArrowTestId:{defaultValue:null,description:"Передает атрибут `data-testid` для кнопки перехода к предыдущему слайду",name:"prevArrowTestId",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Gallery/Gallery.tsx#Gallery"]={docgenInfo:Gallery.__docgenInfo,name:"Gallery",path:"src/components/Gallery/Gallery.tsx#Gallery"})}catch(__react_docgen_typescript_loader_error){}},"./src/hooks/useMutationObserver.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{P:()=>useMutationObserver});var _lib_useIsomorphicLayoutEffect__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/lib/useIsomorphicLayoutEffect.ts"),_useStableCallback__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/hooks/useStableCallback.ts");const useMutationObserver=(ref,callback)=>{const stableCallback=(0,_useStableCallback__WEBPACK_IMPORTED_MODULE_0__.K)(callback);(0,_lib_useIsomorphicLayoutEffect__WEBPACK_IMPORTED_MODULE_1__.E)((()=>{if(!ref||!ref.current)return;const observer=new MutationObserver(stableCallback);return observer.observe(ref.current,{subtree:!0,childList:!0}),()=>observer.disconnect()}),[ref,stableCallback])}}}]);