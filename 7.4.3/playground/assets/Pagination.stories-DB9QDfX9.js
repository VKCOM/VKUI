import{r as E,ad as e4,j as t,l as O,i as x,T as w,R as t4}from"./iframe-C2_PECK0.js";import{D as a4,C as n4}from"./constants-DdkjnEgz.js";import{c as i4}from"./createStoryParameters-CcwS40kl.js";import{u as s4}from"./useCustomArgs-BkdoSo1V.js";import{u as r4}from"./useConfigDirection-CkTav0j8.js";import{r as _}from"./range-rFhSCI5u.js";import{V as y}from"./VisuallyHidden-DSMrBIlo.js";import{B as o4}from"./Button-DnPEcOt6.js";import{T as l4}from"./Tappable-DLQDSygG.js";import{I as z}from"./chevron_compact_right_24-DnaIo2yl.js";import{I as M}from"./chevron_compact_left_24-DMRlikaG.js";const d4=({currentPage:u=1,siblingCount:a=1,boundaryCount:e=1,totalPages:n=1}={})=>E.useMemo(()=>{const s=_(1,Math.min(e,n)),l=_(Math.max(n-e+1,e+1),n),f=n-e-1-2*a,c=e4(u-a,e+2,f),m=e+2+2*a,p=Math.min(Math.max(u+a,m),l.length>0?l[0]-2:n-1),o=s;return c>e+2?o.push("start-ellipsis"):e+1<n-e&&o.push(e+1),o.push(..._(c,p)),p<n-e-1?o.push("end-ellipsis"):n-e>e&&o.push(n-e),o.push(...l),o},[u,n,a,e]),c4=u=>{const a=u.style!=="caption"?t.jsxs(t.Fragment,{children:[t.jsx(y,{children:u.a11yLabel}),t.jsx(u.Icon,{})]}):null,e=u.style==="caption"?t.jsxs(t.Fragment,{children:[t.jsx(y,{children:u.a11yLabel}),t.jsx("span",{"aria-hidden":"true",children:u.caption})]}):u.style!=="icon"?t.jsx("span",{"aria-hidden":"true",children:u.caption}):null;return{size:"l",before:u.type==="prev"?a:null,after:u.type==="next"?a:null,appearance:u.style==="caption"?"neutral":"accent",mode:"tertiary",disabled:u.disabled,onClick:u.onClick,children:e,"data-page":u["data-page"],"data-testid":u["data-testid"]}},C=({renderNavigationButton:u,...a})=>{const e=c4(a);return typeof u=="function"?u(e):t.jsx(o4,{...e})};try{C.displayName="PaginationNavigationButton",C.__docgenInfo={description:"",displayName:"PaginationNavigationButton",props:{renderNavigationButton:{defaultValue:null,description:"",name:"renderNavigationButton",required:!1,type:{name:"((props: ButtonProps & { 'data-page': number; 'data-testid': string; }) => ReactNode) | undefined"}},type:{defaultValue:null,description:"",name:"type",required:!0,type:{name:"enum",value:[{value:'"next"'},{value:'"prev"'}]}},style:{defaultValue:null,description:"",name:"style",required:!0,type:{name:"enum",value:[{value:'"both"'},{value:'"caption"'},{value:'"icon"'}]}},caption:{defaultValue:null,description:"",name:"caption",required:!0,type:{name:"ReactNode"}},Icon:{defaultValue:null,description:"",name:"Icon",required:!0,type:{name:"ComponentType<{}>"}},a11yLabel:{defaultValue:null,description:"",name:"a11yLabel",required:!0,type:{name:"ReactNode"}},disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}},onClick:{defaultValue:null,description:"",name:"onClick",required:!0,type:{name:"(event: MouseEvent<HTMLElement, MouseEvent>) => void"}},"data-page":{defaultValue:null,description:"",name:"data-page",required:!0,type:{name:"number | undefined"}},"data-testid":{defaultValue:null,description:"",name:"data-testid",required:!0,type:{name:"string | undefined"}}}}}catch{}const p4="_host_10kfo_2",m4="_stateHover_10kfo_17",E4="_stateActive_10kfo_21",f4="_current_10kfo_22",g4="_disabled_10kfo_27",B4="_sizeYCompact_10kfo_31",A4="_sizeYNone_10kfo_37",D4="_typeEllipsis_10kfo_43",d={host:p4,stateHover:m4,stateActive:E4,current:f4,disabled:g4,sizeYCompact:B4,sizeYNone:A4,typeEllipsis:D4},K=u=>x(d.host,u.sizeY==null&&d.sizeYNone,u.sizeY==="compact"&&d.sizeYCompact,u.isCurrent&&d.current,u.disabled&&d.disabled);function F4({isCurrent:u,disabled:a}){const{sizeY:e}=O();return K({isCurrent:u,disabled:a,sizeY:e})}const y4=u=>{const{isCurrent:a=!1,getPageLabel:e,children:n,className:s,disabled:l,sizeY:f,...c}=u,m=K({isCurrent:a,disabled:l,sizeY:f}),p=e==null?void 0:e(a);return{className:x(m,s),activeMode:d.stateActive,hoverMode:d.stateHover,focusVisibleMode:"outside","aria-current":a?!0:void 0,disabled:l,children:t.jsxs(w,{normalize:!1,children:[p&&t.jsxs(y,{children:[p," "]}),n]}),"data-page":n,...c}},P=({renderPageButton:u,...a})=>{const e=y4(a);return typeof u=="function"?u(e):t.jsx(l4,{...e})};try{P.displayName="PaginationPageButton",P.__docgenInfo={description:"",displayName:"PaginationPageButton",props:{renderPageButton:{defaultValue:null,description:"",name:"renderPageButton",required:!1,type:{name:"((props: TappableOmitProps & { 'data-page': number; }) => ReactNode)"}},isCurrent:{defaultValue:null,description:"",name:"isCurrent",required:!1,type:{name:"boolean"}},sizeY:{defaultValue:null,description:"",name:"sizeY",required:!1,type:{name:"enum",value:[{value:'"compact"'},{value:'"regular"'}]}},getPageLabel:{defaultValue:null,description:`[a11y] Функция для переопределения и/или локализации метки кнопки страницы.

> Note: По возможности лучше не использовать,
так как компонент и так проставляет номер страницы в разметку,
что достаточно для пользователей скринридеров.
Дополнительная информация скорее будет избыточна,
так как будет зачитываться для каждой кнопки при перемещении по списку.`,name:"getPageLabel",required:!1,type:{name:"((isCurrent: boolean) => string)"}}}}}catch{}const h=({className:u,disabled:a,...e})=>{const n=F4({isCurrent:!1,disabled:a});return t.jsx(w,{className:x(n,d.typeEllipsis,u),...e,children:"…"})};try{h.displayName="PaginationPageEllipsis",h.__docgenInfo={description:"",displayName:"PaginationPageEllipsis",props:{disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}},getRootRef:{defaultValue:null,description:"",name:"getRootRef",required:!1,type:{name:"Ref<HTMLSpanElement>"}}}}}catch{}const C4="_list_sb96v_1",v4="_prevButtonContainer_sb96v_8",_4="_nextButtonContainer_sb96v_12",b={list:C4,prevButtonContainer:v4,nextButtonContainer:_4},v=({currentPage:u=1,siblingCount:a=1,boundaryCount:e=1,totalPages:n=1,disabled:s,prevButtonCaption:l="Назад",nextButtonCaption:f="Вперёд",navigationButtonsStyle:c="icon",getPageLabel:m,navigationLabel:p="Страницы",navigationLabelComponent:o="h2",prevButtonLabel:U="Перейти на предыдущую страницу",nextButtonLabel:W="Перейти на следующую страницу",onChange:r,renderPageButton:N,pageButtonTestId:B,prevButtonTestId:$,nextButtonTestId:G,renderNavigationButton:V,...J})=>{const q=r4()==="rtl",Q=d4({currentPage:u,totalPages:n,siblingCount:a,boundaryCount:e}),j=u===1,L=u===n,A=j?void 0:u-1,D=L?void 0:u+1,X=E.useCallback(i=>{r&&A!==void 0&&r(A,i)},[A,r]),k=E.useCallback(i=>{const F=i.currentTarget.dataset.page||"1";r==null||r(Number(F),i)},[r]),Z=E.useCallback(i=>{r&&D!==void 0&&r(D,i)},[D,r]),{sizeY:I}=O(),u4=E.useCallback(i=>{const F=i===u,T=B==null?void 0:B(i,F);switch(i){case"start-ellipsis":case"end-ellipsis":return t.jsx("li",{children:t.jsx(h,{disabled:s,"data-testid":T})},i);default:return t.jsx("li",{children:t.jsx(P,{getPageLabel:m,isCurrent:F,onClick:k,disabled:s,sizeY:I,renderPageButton:N,"data-testid":T,children:i})},i)}},[u,s,m,k,N,I,B]),R=E.useId();return t.jsxs(t4,{Component:"nav",role:"navigation","aria-labelledby":R,...J,children:[t.jsx(y,{id:R,Component:o,children:p}),t.jsxs("ul",{className:b.list,children:[t.jsx("li",{className:b.prevButtonContainer,children:t.jsx(C,{type:"prev",style:c,caption:l,Icon:q?z:M,a11yLabel:U,disabled:j||s,onClick:X,"data-page":A,"data-testid":$,renderNavigationButton:V})}),Q.map(u4),t.jsx("li",{className:b.nextButtonContainer,children:t.jsx(C,{type:"next",style:c,caption:f,Icon:q?M:z,a11yLabel:W,disabled:L||s,onClick:Z,"data-page":D,"data-testid":G,renderNavigationButton:V})})]})]})};try{v.displayName="Pagination",v.__docgenInfo={description:"",displayName:"Pagination",props:{currentPage:{defaultValue:{value:"1"},description:"Текущая страница.",name:"currentPage",required:!1,type:{name:"number"}},siblingCount:{defaultValue:{value:"1"},description:"Кол-во всегда видимых страниц по краям текущей страницы.",name:"siblingCount",required:!1,type:{name:"number"}},boundaryCount:{defaultValue:{value:"1"},description:"Кол-во всегда видимых страниц в начале и в конце.",name:"boundaryCount",required:!1,type:{name:"number"}},totalPages:{defaultValue:{value:"1"},description:"Общее кол-во страниц.",name:"totalPages",required:!1,type:{name:"number"}},disabled:{defaultValue:null,description:"Блокировка взаимодействия с компонентом.",name:"disabled",required:!1,type:{name:"boolean"}},prevButtonCaption:{defaultValue:{value:"Назад"},description:"Декоративный текст для кнопки навигации назад.\n\n> Note: Экранные дикторы будут использовать `prevButtonLabel`.",name:"prevButtonCaption",required:!1,type:{name:"string"}},nextButtonCaption:{defaultValue:{value:"Вперёд"},description:"Декоративный текст для кнопки навигации вперёд.\n\n> Note: Экранные дикторы будут использовать `nextButtonLabel`.",name:"nextButtonCaption",required:!1,type:{name:"string"}},navigationButtonsStyle:{defaultValue:{value:"icon"},description:"Задаёт стиль отображения кнопок навигации.\n\n- `icon` – показывать только иконку;\n- `caption` – показывать только подпись;\n- `both` – показывать и иконку, и подпись.",name:"navigationButtonsStyle",required:!1,type:{name:"enum",value:[{value:'"both"'},{value:'"caption"'},{value:'"icon"'}]}},navigationLabel:{defaultValue:{value:"Страницы"},description:"[a11y] Метка для обозначения блока навигации.",name:"navigationLabel",required:!1,type:{name:"string"}},navigationLabelComponent:{defaultValue:{value:"h2"},description:"Тип элемента отрисовки блока навигации.",name:"navigationLabelComponent",required:!1,type:{name:"ElementType<any, keyof IntrinsicElements>"}},prevButtonLabel:{defaultValue:{value:"Перейти на предыдущую страницу"},description:"[a11y] Метка для кнопки навигации назад.",name:"prevButtonLabel",required:!1,type:{name:"string"}},nextButtonLabel:{defaultValue:{value:"Перейти на следующую страницу"},description:"[a11y] Метка для кнопки навигации вперёд.",name:"nextButtonLabel",required:!1,type:{name:"string"}},getPageLabel:{defaultValue:null,description:`[a11y] Функция для переопределения и/или локализации метки кнопки страницы.

> Note: По возможности лучше не использовать,
так как компонент и так проставляет номер страницы в разметку,
что достаточно для пользователей скринридеров.
Дополнительная информация скорее будет избыточна,
так как будет зачитываться для каждой кнопки при перемещении по списку.`,name:"getPageLabel",required:!1,type:{name:"((isCurrent: boolean) => string)"}},onChange:{defaultValue:null,description:"Обработчик изменения выбранной страницы.",name:"onChange",required:!1,type:{name:"((page: number, event: MouseEvent<HTMLElement, MouseEvent>) => void)"}},renderPageButton:{defaultValue:null,description:"Функция для кастомного рендера кнопок страниц.\n\n> Note: `CustomPaginationPageButtonProps` наследует API [Tappable](https://vkcom.github.io/VKUI/#/Tappable).",name:"renderPageButton",required:!1,type:{name:"((props: TappableOmitProps & { 'data-page': number; }) => ReactNode)"}},renderNavigationButton:{defaultValue:null,description:"Функция для кастомного рендера кнопок навигации `prev` и `next`.\n\n > Note: `CustomPaginationNavigationButton` наследует API [Button](https://vkcom.github.io/VKUI/#/Button).",name:"renderNavigationButton",required:!1,type:{name:"((props: ButtonProps & { 'data-page': number; 'data-testid': string; }) => ReactNode) | undefined"}},pageButtonTestId:{defaultValue:null,description:"Передает атрибут `data-testid` для кнопок страниц.",name:"pageButtonTestId",required:!1,type:{name:"((day: PaginationPageType, active: boolean) => string)"}},prevButtonTestId:{defaultValue:null,description:"Передает атрибут `data-testid` для кнопки `prev`.",name:"prevButtonTestId",required:!1,type:{name:"string"}},nextButtonTestId:{defaultValue:null,description:"Передает атрибут `data-testid` для кнопки `next`.",name:"nextButtonTestId",required:!1,type:{name:"string"}},getRootRef:{defaultValue:null,description:"",name:"getRootRef",required:!1,type:{name:"Ref<HTMLElement>"}}}}}catch{}const b4={title:"Blocks/Pagination",component:v,parameters:i4("Pagination",n4,a4)},g={render:function(a){const[,e]=s4(),n=s=>{e({currentPage:s})};return t.jsx(v,{...a,onChange:n})},args:{currentPage:1,boundaryCount:2,totalPages:25}};var Y,H,S;g.parameters={...g.parameters,docs:{...(Y=g.parameters)==null?void 0:Y.docs,source:{originalSource:`{
  render: function Render(args) {
    const [, updateArg] = useCustomArgs();
    const onPageChange = (page: number) => {
      updateArg({
        currentPage: page
      });
    };
    return <Pagination {...args} onChange={onPageChange} />;
  },
  args: {
    currentPage: 1,
    boundaryCount: 2,
    totalPages: 25
  }
}`,...(S=(H=g.parameters)==null?void 0:H.docs)==null?void 0:S.source}}};const P4=["Playground"],M4=Object.freeze(Object.defineProperty({__proto__:null,Playground:g,__namedExportsOrder:P4,default:b4},Symbol.toStringTag,{value:"Module"}));export{g as P,v as a,M4 as b};
