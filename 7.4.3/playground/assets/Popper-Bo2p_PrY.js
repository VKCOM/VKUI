import{r as L,k as U,m as j,j as n,R as k,W as z}from"./iframe-C2_PECK0.js";import{u as N}from"./useReferenceHiddenChangeCallback-2ArwOqZN.js";import{A as K}from"./AppRootPortal-Q7WzAGvZ.js";import{u as $,c as X,F as Y,D as Z,a as J,b as Q}from"./FloatingArrow-_eZKd9-i.js";import{u as u4,a as e4,b as a4}from"./usePlacementChangeCallback-DeYYV3Z9.js";const t4="_host_4xycg_14",n4={host:t4},i=({placement:e="bottom-start",sameWidth:l,hideWhenReferenceHidden:s,offsetByMainAxis:d=8,offsetByCrossAxis:D=0,arrow:r,arrowHeight:B=J,arrowPadding:m=Q,customMiddlewares:F,disableFlipMiddleware:C=!1,flipMiddlewareFallbackAxisSideDirection:p,autoUpdateOnTargetResize:f=!1,strategy:c,arrowProps:A,ArrowIcon:g=Z,targetRef:u,getRootRef:y,children:h,usePortal:R=!0,onPlacementChange:v,onReferenceHiddenChange:w,zIndex:o,style:b,...V})=>{const[x,P]=L.useState(null),{strictPlacement:S,middlewares:_}=u4({placement:e,sameWidth:l,arrow:r,arrowRef:x,arrowHeight:B,arrowPadding:m,offsetByMainAxis:d,offsetByCrossAxis:D,hideWhenReferenceHidden:s,customMiddlewares:F,disableFlipMiddleware:C,flipMiddlewareFallbackAxisSideDirection:p}),{x:q,y:H,strategy:T,placement:E,refs:a,middlewareData:t}=$({placement:S,strategy:c,middleware:_,whileElementsMounted(...O){return a4(...O,{elementResize:f})}});e4(e,E,v),N(t.hide,w);const{arrow:I}=t,M=U(a.setFloating,y);j(()=>{a.setReference("current"in u?u.current:u)},[a.setReference,u]);const W=typeof o<"u"?{zIndex:o}:void 0,G=n.jsxs(k,{...V,style:z(W,b),baseClassName:n4.host,getRootRef:M,baseStyle:X({strategy:T,x:q,y:H,initialWidth:l?null:void 0,middlewareData:t}),children:[r&&n.jsx(Y,{...A,coords:I,placement:E,getRootRef:P,Icon:g}),h]});return n.jsx(K,{usePortal:R,children:G})};try{i.displayName="Popper",i.__docgenInfo={description:"",displayName:"Popper",props:{targetRef:{defaultValue:null,description:"Ref на якорный элемент.",name:"targetRef",required:!0,type:{name:"RefObject<HTMLElement | null> | VirtualElement"}},arrowProps:{defaultValue:null,description:"Позволяет набросить на стрелку пользовательские атрибуты.",name:"arrowProps",required:!1,type:{name:"FloatingArrowProps"}},ArrowIcon:{defaultValue:{value:`(props: React.SVGAttributes<SVGSVGElement>): React.ReactNode => {
  return (
    <svg
      width={DEFAULT_ARROW_WIDTH}
      height={ARROW_HEIGHT_WITH_WHITE_SPACE}
      viewBox={\`0 0 \${DEFAULT_ARROW_WIDTH} \${ARROW_HEIGHT_WITH_WHITE_SPACE}\`}
      xmlns="http://www.w3.org/2000/svg"
      {...props}
    >
      <path d="M10 0c3 0 6 8 10 8v1H0V8c3.975 0 7-8 10-8Z" fill="currentColor" />
    </svg>
  );
}`},description:'Пользовательская SVG иконка.\n\nТребования:\n\n1. Иконка по умолчанию должна быть направлена вверх (a.k.a `IconUp`).\n2. Чтобы избежать проблемы с пространством между стрелкой и контентом на некоторых экранах,\n   растяните кривую по высоте на `1px` и увеличьте на этот размер `height` и `viewBox` SVG.\n   (смотри https://github.com/VKCOM/VKUI/pull/4496).\n3. Передайте высоту иконки в параметр `arrowHeight`. В значении высоты можно исключить хак с `1px` из п.2.\n4. Убедитесь, что компонент принимает все валидные для SVG параметры.\n5. Убедитесь, что SVG и её элементы наследует цвет через `fill="currentColor"`.',name:"ArrowIcon",required:!1,type:{name:"ComponentType<SVGAttributes<SVGSVGElement>>"}},autoUpdateOnTargetResize:{defaultValue:{value:"false"},description:"Подписывается на изменение геометрии `targetRef`, чтобы пересчитать свою позицию.",name:"autoUpdateOnTargetResize",required:!1,type:{name:"boolean"}},usePortal:{defaultValue:{value:"true"},description:"По умолчанию используется document.body.",name:"usePortal",required:!1,type:{name:"boolean | HTMLElement | RefObject<HTMLElement>"}},placement:{defaultValue:null,description:"По умолчанию компонент выберет наилучшее расположение сам, но приоритетное можно задать с помощью этого свойства.",name:"placement",required:!1,type:{name:"enum",value:[{value:'"auto"'},{value:'"left"'},{value:'"right"'},{value:'"auto-start"'},{value:'"auto-end"'},{value:'"top"'},{value:'"bottom"'},{value:'"left-start"'},{value:'"left-end"'},{value:'"right-start"'},{value:'"right-end"'},{value:'"top-start"'},{value:'"top-end"'},{value:'"bottom-start"'},{value:'"bottom-end"'}]}},zIndex:{defaultValue:null,description:"Перебивает zIndex заданный по умолчанию.",name:"zIndex",required:!1,type:{name:"string | number"}},arrow:{defaultValue:null,description:"Отображать ли стрелку, указывающую на якорный элемент.",name:"arrow",required:!1,type:{name:"boolean"}},arrowHeight:{defaultValue:{value:"8"},description:"Высота стрелки. Складывается с `mainAxis`, чтобы стрелка не залезала на якорный элемент.",name:"arrowHeight",required:!1,type:{name:"number"}},arrowPadding:{defaultValue:{value:"10"},description:"Безопасная зона вокруг стрелки, чтобы та не выходила за края контента.",name:"arrowPadding",required:!1,type:{name:"number"}},onPlacementChange:{defaultValue:null,description:`В зависимости от области видимости, позиция может смениться на более оптимальную,
чтобы всплывающий элемент вместился в эту область видимости.`,name:"onPlacementChange",required:!1,type:{name:"OnPlacementChange"}},hoverDelay:{defaultValue:null,description:`Количество миллисекунд, после которых произойдёт показ/скрытие всплывающего элемента
при наведении.

> Чтобы задать разное время на показ и скрытие, передайте массив типа \`[<показ>, <скрытие>]\`.

> Используется только для \`trigger="hover"\`.`,name:"hoverDelay",required:!1,type:{name:"number | [number, number]"}},offsetByMainAxis:{defaultValue:{value:"8"},description:"Отступ по главной оси.",name:"offsetByMainAxis",required:!1,type:{name:"number"}},offsetByCrossAxis:{defaultValue:{value:"0"},description:"Отступ по вспомогательной оси.",name:"offsetByCrossAxis",required:!1,type:{name:"number"}},defaultShown:{defaultValue:null,description:"Начальное состояние всплывающего элемента.",name:"defaultShown",required:!1,type:{name:"boolean"}},shown:{defaultValue:null,description:"Если передан, то всплывающий элемент будет показано/скрыто в зависимости от значения свойства.",name:"shown",required:!1,type:{name:"boolean"}},onShownChange:{defaultValue:null,description:"Вызывается при каждом изменении видимости всплывающего элемента.",name:"onShownChange",required:!1,type:{name:"OnShownChange"}},sameWidth:{defaultValue:null,description:"Выставлять ширину равной target элементу.",name:"sameWidth",required:!1,type:{name:"boolean"}},hideWhenReferenceHidden:{defaultValue:null,description:"Принудительно скрывает компонент если целевой элемент вышел за область видимости.",name:"hideWhenReferenceHidden",required:!1,type:{name:"boolean"}},onReferenceHiddenChange:{defaultValue:null,description:"Событие скрытия / раскрытия компонента при использовании свойства `hideWhenReferenceHidden`.\n\n> Стоит иметь ввиду, что событие также будет вызвано и при новом рендере компонента",name:"onReferenceHiddenChange",required:!1,type:{name:"((hidden: boolean) => void)"}},disableFlipMiddleware:{defaultValue:{value:"false"},description:"Указанное значение `placement` форсируется, даже если для выпадающего элемента недостаточно места.\nНе оказывает влияния при `placement` значениях - `'auto' | 'auto-start' | 'auto-end'`",name:"disableFlipMiddleware",required:!1,type:{name:"boolean"}},customMiddlewares:{defaultValue:null,description:"Массив кастомных модификаторов для Popper (необходимо мемоизировать).",name:"customMiddlewares",required:!1,type:{name:"{ name: string; options?: any; fn: (state: { placement: Placement; platform: Platform; strategy: Strategy; x: number; y: number; initialPlacement: Placement; middlewareData: MiddlewareData; rects: ElementRects; elements: Elements; }) => Promisable<...>; }[]"}},strategy:{defaultValue:null,description:'Стратегия позиционирования всплывающего элемента.\n\n- `"fixed"` - позиционируется, используя `position: fixed`. Является значением по умолчанию\n- `"absolute"` - позиционируется, используя `position: absolute`, относительно ближайшего элемента с `position: relative`\n\n> `strategy="absolute"` Рекомендуется использовать с `usePortal={false}`. И нужно не забыть обернуть в элемент с `position: relative`',name:"strategy",required:!1,type:{name:"enum",value:[{value:'"fixed"'},{value:'"absolute"'}]}},flipMiddlewareFallbackAxisSideDirection:{defaultValue:null,description:"Задаёт резервный вариант размещения по перпендикулярной оси.",name:"flipMiddlewareFallbackAxisSideDirection",required:!1,type:{name:"enum",value:[{value:'"none"'},{value:'"start"'},{value:'"end"'}]}},arrowRef:{defaultValue:null,description:"",name:"arrowRef",required:!1,type:{name:"Element | MutableRefObject<Element | null> | null"}},getRootRef:{defaultValue:null,description:"",name:"getRootRef",required:!1,type:{name:"Ref<HTMLDivElement>"}}}}}catch{}export{i as P};
