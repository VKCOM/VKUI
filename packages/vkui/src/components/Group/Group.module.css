.host {
  color: var(--vkui--color_text_primary);
  padding-block: 8px;
}

.header:empty {
  display: none;
}

.hostModePlain:not(:first-of-type) > .header {
  margin-block-start: -8px;
}

@media (--sizeX-compact) {
  .hostSizeXNone.hostModeNone:not(:first-of-type) > .header {
    margin-block-start: -8px;
  }
}

.hostModeCard > .header {
  margin-block-start: -4px;
}

@media (--sizeX-regular) {
  .hostSizeXNone.hostModeNone > .header {
    margin-block-start: -4px;
  }
}

.separatorSpacing,
.separatorSeparator {
  display: none;
}

/* stylelint-disable-next-line selector-max-universal */
.hostModePlain + * + .separatorSeparator {
  display: block;
}

@media (--sizeX-compact) {
  /* stylelint-disable-next-line selector-max-universal */
  .hostSizeXNone.hostModeNone + * + .separatorSeparator {
    display: block;
  }
}

.hostModeCard + .separatorSpacing {
  display: block;
}

@media (--sizeX-regular) {
  .hostSizeXNone.hostModeNone + .separatorSpacing {
    display: block;
  }
}

.host:last-of-type ~ .separator {
  display: none;
}

.host:last-of-type ~ .separatorForce,
.hostModeCard:last-of-type + .separatorSpacing {
  display: block;
}

@media (--sizeX-regular) {
  .hostSizeXNone.hostModeNone:last-of-type + .separatorSpacing {
    display: block;
  }
}

.hostModeCard.hostPaddingS {
  padding: 4px;
}

.hostModeCard.hostPaddingM {
  padding: 8px;
}

@media (--sizeX-regular) {
  .hostSizeXNone.hostInsideModal.hostPaddingS,
  .hostSizeXNone.hostModeNone.hostPaddingS {
    padding: 4px;
  }

  .hostSizeXNone.hostInsideModal.hostPaddingM,
  .hostSizeXNone.hostModeNone.hostPaddingM {
    padding: 8px;
  }
}

.hostSizeXCompact,
.hostSizeXCompact.hostModeCard {
  padding-inline: 0;
}

@media (--sizeX-compact) {
  .hostSizeXNone,
  .hostSizeXNone.hostModeCard {
    padding-inline: 0;
  }
}

.hostModeCard {
  background: var(--vkui--color_background_content);
  border-radius: var(--vkui--size_border_radius_paper--regular);
  position: relative;
}

@media (--sizeX-regular) {
  .hostSizeXNone.hostModeNone {
    background: var(--vkui--color_background_content);
    border-radius: var(--vkui--size_border_radius_paper--regular);
    position: relative;
  }
}

.hostSizeXCompact.hostModeCard:first-of-type {
  border-start-start-radius: 0;
  border-start-end-radius: 0;
  border-end-end-radius: var(--vkui--size_border_radius_paper--regular);
  border-end-start-radius: var(--vkui--size_border_radius_paper--regular);
}

@media (--sizeX-compact) {
  .hostSizeXNone.hostModeCard:first-of-type {
    border-start-start-radius: 0;
    border-start-end-radius: 0;
    border-end-end-radius: var(--vkui--size_border_radius_paper--regular);
    border-end-start-radius: var(--vkui--size_border_radius_paper--regular);
  }
}

/**
 * Изменено с ::after на ::before
 * потому что при ::after абсолютно позиционированный элемент накладывается
 * поверх любого другого абсолютно позиционированного элемента внутри Group,
 * например поверх Tooltip
 * См. пример: Slider c пропом withTooltip
 */
.hostModeCard::before {
  content: '';
  inset-inline-start: 0;
  inset-block-start: 0;
  inline-size: 100%;
  block-size: 100%;
  position: absolute;
  border-radius: inherit;
  pointer-events: none;
  box-shadow: inset 0 0 0 var(--vkui--size_border--regular) var(--vkui--color_separator_primary);
}

@media (--sizeX-regular) {
  .hostSizeXNone.hostModeNone::before {
    content: '';
    inset-inline-start: 0;
    inset-block-start: 0;
    inline-size: 100%;
    block-size: 100%;
    position: absolute;
    border-radius: inherit;
    pointer-events: none;
    box-shadow: inset 0 0 0 var(--vkui--size_border--regular) var(--vkui--color_field_border_alpha);
  }
}

.hostSizeXCompact.hostModeCard::before {
  box-shadow: none;
}

@media (--sizeX-compact) {
  .hostSizeXNone.hostModeCard::before {
    box-shadow: none;
  }
}

.hostModePlain + .separator,
.hostModePlain + .separator + .separator {
  padding-block: 8px;
}

@media (--sizeX-compact) {
  .hostSizeXNone.hostModeNone + .separator,
  .hostSizeXNone.hostModeNone + .separator + .separator {
    padding-block: 8px;
  }
}

.description {
  display: block;
  padding-block: 4px 16px;
  padding-inline: 16px;
  color: var(--vkui--color_text_secondary);
}

.host .host,
.host .host + .separator {
  padding-inline: 0;
}

.host .host:first-of-type {
  padding-block-start: 0;
}

.host .host:last-of-type {
  padding-block-end: 0;
}

/**
 * iOS
 */
.hostIos .description {
  padding-block: 4px 16px;
  padding-inline: 12px;
}

/*
 * CMP:
 * PanelHeader
 */
/* stylelint-disable-next-line selector-max-universal, selector-pseudo-class-disallowed-list */
:global(.vkuiInternalPanelHeaderVkcom) ~ .host:first-of-type,
:global(.vkuiInternalPanelHeaderVkcom) + * .host:first-of-type {
  position: relative;
  inset-block-start: -1px;
  border-start-end-radius: 0;
  border-start-start-radius: 0;
}
