var d=Object.defineProperty;var l=t=>{throw TypeError(t)};var m=(t,e,r)=>e in t?d(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var i=(t,e,r)=>m(t,typeof e!="symbol"?e+"":e,r),p=(t,e,r)=>e.has(t)||l("Cannot "+r);var o=(t,e,r)=>(p(t,e,"read from private field"),r?r.call(t):e.get(t)),u=(t,e,r)=>e.has(t)?l("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),a=(t,e,r,n)=>(p(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r);import{r as v,n as E,B as f}from"./iframe-D9ctG7Ns.js";var s,c;class y{constructor(e,r,n){i(this,"callback",E);i(this,"options");i(this,"eventType");u(this,s,null);u(this,c,e=>{this.callback(e)});i(this,"add",e=>{f&&(this.remove(),e&&(e.addEventListener(this.eventType,o(this,c),this.options),a(this,s,e)))});i(this,"remove",()=>{!f||!o(this,s)||(o(this,s).removeEventListener(this.eventType,o(this,c),this.options),a(this,s,null))});this.options=n,this.eventType=e,r&&(this.callback=r)}}s=new WeakMap,c=new WeakMap;function b(t,e,r){const n=v.useRef(null);return n.current===null?n.current=new y(t,e,r):(n.current.eventType=t,n.current.options=r,e&&(n.current.callback=e)),v.useEffect(()=>{var h;return(h=n.current)==null?void 0:h.remove.bind(n.current)},[]),n.current}export{b as u};
