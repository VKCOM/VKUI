import{r as D,j as u,i as d,R as F}from"./iframe-DTUKIQpa.js";import{h as M}from"./react_utils-CSZjvU4X.js";import{u as I}from"./useConfigDirection-Cb5ryD04.js";import{C as b}from"./Caption-D0cKPzOT.js";import{F as B}from"./Footnote-rQhC0WQs.js";const z="_host_1r6v9_1",N="_sizeS_1r6v9_9",w="_sizeM_1r6v9_13",R="_sizeL_1r6v9_17",U="_avatarsPositionInlineEnd_1r6v9_21",W="_avatarsPositionBlockStart_1r6v9_25",q="_photos_1r6v9_30",V="_fill_1r6v9_34",$="_item_1r6v9_38",L="_photo_1r6v9_30",T="_counter_1r6v9_47",H="_photoWrapper_1r6v9_58",O="_text_1r6v9_66",G="_avatarsPositionInlineStart_1r6v9_76",t={host:z,sizeS:N,sizeM:w,sizeL:R,avatarsPositionInlineEnd:U,avatarsPositionBlockStart:W,photos:q,fill:V,item:$,photo:L,counter:T,photoWrapper:H,text:O,avatarsPositionInlineStart:G},J={s:t.sizeS,m:t.sizeM,l:t.sizeL},K={"inline-start":t.avatarsPositionInlineStart,"inline-end":t.avatarsPositionInlineEnd,"block-start":t.avatarsPositionBlockStart};function Q({photoSize:a,direction:n,...e}){switch(n){case"circle":const s=a/2;return u.jsx("circle",{cx:s,cy:s,r:s,...e});case"right":switch(a){case 16:return u.jsx("path",{d:"M14,13.285A8 8 0 0 1 8 16A8 8 0 0 1 8 0A8 8 0 0 1 14 2.715A8 8 0 0 0 14,13.285",...e});case 24:return u.jsx("path",{d:"M22,18.625A12 12 0 0 1 12 24A12 12 0 0 1 12 0A12 12 0 0 1 22 5.375A12 12 0 0 0 22,18.625",...e});default:return u.jsx("path",{d:"M30,23.75A16 16 0 0 1 16 32A16 16 0 0 1 16 0A16 16 0 0 1 30 8.25A16 16 0 0 0 30,23.75",...e})}default:switch(a){case 16:return u.jsx("path",{d:"M2,13.285A8 8 0 0 0 8 16A8 8 0 0 0 8 0A8 8 0 0 0 2 2.715A8 8 0 0 1 2,13.285",...e});case 24:return u.jsx("path",{d:"M2,18.625A12 12 0 0 0 12 24A12 12 0 0 0 12 0A12 12 0 0 0 2 5.375A12 12 0 0 1 2,18.625",...e});default:return u.jsx("path",{d:"M2,23.75A16 16 0 0 0 16 32A16 16 0 0 0 16 0A16 16 0 0 0 2 8.25A16 16 0 0 1 2,23.75",...e})}}}const X={s:16,m:24,l:32},C=({photos:a=[],visibleCount:n=3,count:e=Math.max(0,a.length-n),size:s="m",children:p,avatarsPosition:j="inline-start",...S})=>{const m=D.useId(),g=I(),o=e>0&&e<100&&s!=="s",P=s==="l"?B:b,l=X[s],y=g==="ltr"?o?"right":"left":o?"left":"right",E=a.slice(0,n).map((r,i)=>{const k=i===0&&!o?"circle":y,_=`UsersStackDefs${m}${i}`,c=`#${_}`,f=`UsersStackMask${m}${i}`,A=typeof r=="object",x=A?r.src:r;let h=u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:d(t.photo,t.item),"aria-hidden":!0,display:"block",children:[u.jsx("defs",{children:u.jsx(Q,{id:_,direction:k,photoSize:l})}),u.jsx("clipPath",{id:f,children:u.jsx("use",{href:c})}),u.jsxs("g",{clipPath:`url(#${f})`,children:[u.jsx("use",{href:c,className:t.fill}),u.jsx("image",{href:x,width:l,height:l}),u.jsx("use",{href:c,fill:"none",stroke:"rgba(0, 0, 0, 0.08)"})]})]});return A&&r.renderWrapper&&(h=r.renderWrapper({children:h,"data-src":x})),u.jsx("div",{className:t.photoWrapper,children:h},i)}),v=o?u.jsx("div",{className:t.photoWrapper,children:u.jsxs(P,{caps:!0,weight:"1",className:d(t.item,t.counter),children:["+",e]})}):null;return u.jsxs(F,{...S,baseClassName:d(t.host,J[s],K[j]),children:[(E.length>0||v)&&u.jsxs("div",{className:t.photos,"aria-hidden":!0,children:[E,v]}),M(p)&&u.jsx(B,{className:t.text,children:p})]})};try{C.displayName="UsersStack",C.__docgenInfo={description:"",displayName:"UsersStack",props:{photos:{defaultValue:{value:"[]"},description:"Массив ссылок на фотографии либо массив структур типа `UsersStackPhoto`.",name:"photos",required:!1,type:{name:"string[] | UsersStackPhoto[]"}},size:{defaultValue:{value:"m"},description:"Размер аватарок.",name:"size",required:!1,type:{name:"enum",value:[{value:'"s"'},{value:'"m"'},{value:'"l"'}]}},visibleCount:{defaultValue:{value:"3"},description:"Количество аватарок, которые будут показаны.\nЕсли в массиве `photos` больше элементов и не используется размер `s`, то будет показано количество остальных элементов.",name:"visibleCount",required:!1,type:{name:"number"}},count:{defaultValue:{value:"Math.max(0, photos.length - visibleCount)"},description:"Число, которое будет указано в счетчике.\nПо умолчанию высчитывается по формуле `photos.length - visibleCount`.\nЕсли число больше 99, то счетчик скроется.",name:"count",required:!1,type:{name:"number"}},avatarsPosition:{defaultValue:{value:"inline-start"},description:"Определяет положение аватаров\nРежим `block-start` рекомендуется использовать с размером `m`.",name:"avatarsPosition",required:!1,type:{name:"enum",value:[{value:'"inline-start"'},{value:'"block-start"'},{value:'"inline-end"'}]}},getRootRef:{defaultValue:null,description:"",name:"getRootRef",required:!1,type:{name:"Ref<HTMLDivElement>"}}}}}catch{}export{C as U};
