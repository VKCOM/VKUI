"use strict";(self.webpackChunk_vkontakte_vkui=self.webpackChunk_vkontakte_vkui||[]).push([[3211],{"../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[14].use[1]!../../node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[14].use[2]!./src/components/ChipsInputBase/Chip/Chip.module.css":(module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/css-loader/dist/runtime/sourceMaps.js"),_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__),_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/css-loader/dist/runtime/api.js"),___CSS_LOADER_EXPORT___=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__)()(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default());___CSS_LOADER_EXPORT___.push([module.id,".Chip__host--zSqPb{align-items:center;background:var(--vkui--color_background_content);block-size:32px;border:var(--vkui--size_border--regular) solid var(--vkui--color_image_border_alpha);border-radius:6px;box-sizing:border-box;display:inline-flex}.Chip__in--QUii7,.Chip__removable--yyVxS{align-items:center;block-size:100%;border-radius:inherit;display:flex;position:relative}.Chip__in--QUii7{-webkit-padding-start:8px;overflow:hidden;padding-inline-start:8px}.Chip__in--QUii7:last-of-type{-webkit-padding-end:8px;padding-inline-end:8px}.Chip__content--vAqSx{color:var(--vkui--color_text_primary);display:inline-block;font-family:var(--vkui--font_paragraph--font_family--regular);font-size:var(--vkui--font_paragraph--font_size--regular);font-weight:var(--vkui--font_paragraph--font_weight--regular);line-height:var(--vkui--font_paragraph--line_height--regular);overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.Chip__sizeYCompact--ErwFo .Chip__content--vAqSx{font-family:var(--vkui--font_footnote--font_family--regular);font-size:var(--vkui--font_footnote--font_size--regular);font-weight:var(--vkui--font_footnote--font_weight--regular);line-height:var(--vkui--font_footnote--line_height--regular)}@media (max-height:414.9px),(pointer:fine) and (min-width:768px){.Chip__sizeYNone--NFyDz .Chip__content--vAqSx{font-family:var(--vkui--font_footnote--font_family--regular);font-size:var(--vkui--font_footnote--font_size--regular);font-weight:var(--vkui--font_footnote--font_weight--regular);line-height:var(--vkui--font_footnote--line_height--regular)}}.Chip__removable--yyVxS{flex-grow:0;flex-shrink:0}.Chip__remove--hbDKL{background:transparent;border:0;border-radius:inherit;box-sizing:border-box;color:var(--vkui--color_icon_secondary);cursor:pointer;flex:0 0 100%;padding:5px;transform:translateX(-1px)}.Chip__before--H3VcA{-webkit-margin-end:6px;margin-inline-end:6px}.Chip__after--Gt7rf{-webkit-margin-start:6px;margin-inline-start:6px}.Chip__sizeYCompact--ErwFo{block-size:28px}@media (max-height:414.9px),(pointer:fine) and (min-width:768px){.Chip__sizeYNone--NFyDz{block-size:28px}}","",{version:3,sources:["webpack://./src/components/ChipsInputBase/Chip/Chip.module.css"],names:[],mappings:"AAAA,mBAGE,kBAAmB,CAEnB,gDAAiD,CADjD,eAAgB,CAEhB,oFAAqF,CACrF,iBAAkB,CANlB,qBAAsB,CACtB,mBAMF,CAEA,yCAIE,kBAAmB,CACnB,eAAgB,CAChB,qBAAsB,CAHtB,YAAa,CADb,iBAKF,CAEA,iBACE,yBAAyB,CACzB,eAAgB,CADhB,wBAEF,CAEA,8BACE,uBAAuB,CAAvB,sBACF,CAEA,sBAUE,qCAAsC,CATtC,oBAAqB,CAGrB,6DAA8D,CAG9D,yDAA0D,CAC1D,6DAA8D,CAC9D,6DAA8D,CAP9D,eAAgB,CAChB,sBAAuB,CAQvB,kBACF,CAEA,iDACE,4DAA6D,CAE7D,wDAAyD,CACzD,4DAA6D,CAC7D,4DACF,CAEA,iEACE,8CACE,4DAA6D,CAE7D,wDAAyD,CACzD,4DAA6D,CAC7D,4DACF,CACF,CAEA,wBACE,WAAY,CACZ,aACF,CAEA,qBAME,sBAAuB,CACvB,QAAS,CACT,qBAAsB,CAPtB,qBAAsB,CAGtB,uCAAwC,CACxC,cAAe,CAHf,aAAc,CACd,WAAY,CAMZ,0BACF,CAEA,qBACE,sBAAsB,CAAtB,qBACF,CAEA,oBACE,wBAAwB,CAAxB,uBACF,CAEA,2BACE,eACF,CAEA,iEACE,wBACE,eACF,CACF",sourcesContent:[".host {\n  box-sizing: border-box;\n  display: inline-flex;\n  align-items: center;\n  block-size: 32px;\n  background: var(--vkui--color_background_content);\n  border: var(--vkui--size_border--regular) solid var(--vkui--color_image_border_alpha);\n  border-radius: 6px;\n}\n\n.in,\n.removable {\n  position: relative;\n  display: flex;\n  align-items: center;\n  block-size: 100%;\n  border-radius: inherit;\n}\n\n.in {\n  padding-inline-start: 8px;\n  overflow: hidden;\n}\n\n.in:last-of-type {\n  padding-inline-end: 8px;\n}\n\n.content {\n  display: inline-block;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  font-family: var(--vkui--font_paragraph--font_family--regular);\n\n  /* Typography/Paragraph */\n  font-size: var(--vkui--font_paragraph--font_size--regular);\n  font-weight: var(--vkui--font_paragraph--font_weight--regular);\n  line-height: var(--vkui--font_paragraph--line_height--regular);\n  color: var(--vkui--color_text_primary);\n  white-space: nowrap;\n}\n\n.sizeYCompact .content {\n  font-family: var(--vkui--font_footnote--font_family--regular);\n  /* Typography/Footnote */\n  font-size: var(--vkui--font_footnote--font_size--regular);\n  font-weight: var(--vkui--font_footnote--font_weight--regular);\n  line-height: var(--vkui--font_footnote--line_height--regular);\n}\n\n@media (--sizeY-compact) {\n  .sizeYNone .content {\n    font-family: var(--vkui--font_footnote--font_family--regular);\n    /* Typography/Footnote */\n    font-size: var(--vkui--font_footnote--font_size--regular);\n    font-weight: var(--vkui--font_footnote--font_weight--regular);\n    line-height: var(--vkui--font_footnote--line_height--regular);\n  }\n}\n\n.removable {\n  flex-grow: 0;\n  flex-shrink: 0;\n}\n\n.remove {\n  box-sizing: border-box;\n  flex: 0 0 100%;\n  padding: 5px;\n  color: var(--vkui--color_icon_secondary);\n  cursor: pointer;\n  background: transparent;\n  border: 0;\n  border-radius: inherit;\n  transform: translateX(-1px);\n}\n\n.before {\n  margin-inline-end: 6px;\n}\n\n.after {\n  margin-inline-start: 6px;\n}\n\n.sizeYCompact {\n  block-size: 28px;\n}\n\n@media (--sizeY-compact) {\n  .sizeYNone {\n    block-size: 28px;\n  }\n}\n"],sourceRoot:""}]),___CSS_LOADER_EXPORT___.locals={host:"Chip__host--zSqPb",in:"Chip__in--QUii7",removable:"Chip__removable--yyVxS",content:"Chip__content--vAqSx",sizeYCompact:"Chip__sizeYCompact--ErwFo",sizeYNone:"Chip__sizeYNone--NFyDz",remove:"Chip__remove--hbDKL",before:"Chip__before--H3VcA",after:"Chip__after--Gt7rf"};const __WEBPACK_DEFAULT_EXPORT__=___CSS_LOADER_EXPORT___},"../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[14].use[1]!../../node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[14].use[2]!./src/components/ChipsInputBase/ChipsInputBase.module.css":(module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/css-loader/dist/runtime/sourceMaps.js"),_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__),_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/css-loader/dist/runtime/api.js"),___CSS_LOADER_EXPORT___=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__)()(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default());___CSS_LOADER_EXPORT___.push([module.id,".ChipsInputBase__host--PHqxk{--vkui_internal--chips_input_base_container_gap:4px;display:flex;flex-grow:1;flex-shrink:1;flex-wrap:wrap;list-style:none;margin:0;max-inline-size:100%;overflow:hidden;padding:var(--vkui_internal--chips_input_base_container_gap);position:relative;z-index:var(--vkui_internal--z_index_form_field_element)}.ChipsInputBase__chip--wc_ND{margin:2px;max-inline-size:calc(100% - var(--vkui_internal--chips_input_base_container_gap))}.ChipsInputBase__el--B_h_d{-webkit-appearance:none;-moz-appearance:none;appearance:none;background:transparent;border:0;box-shadow:none;color:var(--vkui--color_text_primary);flex:1;inline-size:100%;margin-block:2px 4px;margin-inline:10px 2px;padding:0;position:relative}.ChipsInputBase__el--B_h_d:not(:-moz-read-only):focus{min-inline-size:64px}.ChipsInputBase__el--B_h_d:not(:read-only):focus{min-inline-size:64px}.ChipsInputBase__el--B_h_d::-ms-clear{display:none}.ChipsInputBase__el--B_h_d::placeholder{opacity:1}.ChipsInputBase__el--B_h_d::placeholder,.ChipsInputBase__el--B_h_d:disabled::placeholder{color:var(--vkui--color_text_secondary)}.ChipsInputBase__el--B_h_d[readonly]{cursor:default}.ChipsInputBase__hasPlaceholder--DZ1i1 .ChipsInputBase__el--B_h_d{margin-inline:calc(12px - var(--vkui_internal--chips_input_base_container_gap)) 0;text-overflow:ellipsis;white-space:nowrap}.ChipsInputBase__sizeYCompact--cEhnH{--vkui_internal--chips_input_base_container_gap:2px}@media (max-height:414.9px),(pointer:fine) and (min-width:768px){.ChipsInputBase__sizeYNone--TIe3z{--vkui_internal--chips_input_base_container_gap:2px}}","",{version:3,sources:["webpack://./src/components/ChipsInputBase/ChipsInputBase.module.css"],names:[],mappings:"AAAA,6BACE,mDAAoD,CAIpD,YAAa,CACb,WAAY,CACZ,aAAc,CACd,cAAe,CAKf,eAAgB,CAFhB,QAAS,CAFT,oBAAqB,CAGrB,eAAgB,CAFhB,4DAA6D,CAP7D,iBAAkB,CAClB,wDAUF,CAEA,6BAEE,UAAW,CADX,iFAEF,CAEA,2BAQE,uBAAgB,CAAhB,oBAAgB,CAAhB,eAAgB,CAChB,sBAAuB,CACvB,QAAS,CACT,eAAgB,CAJhB,qCAAsC,CALtC,MAAO,CACP,gBAAiB,CAEjB,oBAAqB,CACrB,sBAAuB,CAFvB,SAAU,CAHV,iBAWF,CAEA,sDACE,oBACF,CAFA,iDACE,oBACF,CAEA,sCACE,YACF,CAEA,wCAGE,SACF,CAEA,yFALE,uCAOF,CAEA,qCACE,cACF,CAEA,kEACE,iFAAkF,CAClF,sBAAuB,CACvB,kBACF,CAKA,qCACE,mDACF,CAEA,iEACE,kCACE,mDACF,CACF",sourcesContent:[".host {\n  --vkui_internal--chips_input_base_container_gap: 4px;\n\n  position: relative;\n  z-index: var(--vkui_internal--z_index_form_field_element);\n  display: flex;\n  flex-grow: 1;\n  flex-shrink: 1;\n  flex-wrap: wrap;\n  max-inline-size: 100%;\n  padding: var(--vkui_internal--chips_input_base_container_gap);\n  margin: 0;\n  overflow: hidden;\n  list-style: none;\n}\n\n.chip {\n  max-inline-size: calc(100% - var(--vkui_internal--chips_input_base_container_gap));\n  margin: 2px;\n}\n\n.el {\n  position: relative;\n  flex: 1;\n  inline-size: 100%;\n  padding: 0;\n  margin-block: 2px 4px;\n  margin-inline: 10px 2px;\n  color: var(--vkui--color_text_primary);\n  appearance: none;\n  background: transparent;\n  border: 0;\n  box-shadow: none;\n}\n\n.el:not(:read-only):focus {\n  min-inline-size: 64px;\n}\n\n.el::-ms-clear {\n  display: none;\n}\n\n.el::placeholder {\n  color: var(--vkui--color_text_secondary);\n  /* Для Firefox */\n  opacity: 1;\n}\n\n.el:disabled::placeholder {\n  color: var(--vkui--color_text_secondary);\n}\n\n.el[readonly] {\n  cursor: default;\n}\n\n.hasPlaceholder .el {\n  margin-inline: calc(12px - var(--vkui_internal--chips_input_base_container_gap)) 0;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n\n/**\n * sizeY COMPACT\n */\n.sizeYCompact {\n  --vkui_internal--chips_input_base_container_gap: 2px;\n}\n\n@media (--sizeY-compact) {\n  .sizeYNone {\n    --vkui_internal--chips_input_base_container_gap: 2px;\n  }\n}\n"],sourceRoot:""}]),___CSS_LOADER_EXPORT___.locals={host:"ChipsInputBase__host--PHqxk",chip:"ChipsInputBase__chip--wc_ND",el:"ChipsInputBase__el--B_h_d",hasPlaceholder:"ChipsInputBase__hasPlaceholder--DZ1i1",sizeYCompact:"ChipsInputBase__sizeYCompact--cEhnH",sizeYNone:"ChipsInputBase__sizeYNone--TIe3z"};const __WEBPACK_DEFAULT_EXPORT__=___CSS_LOADER_EXPORT___},"../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[14].use[1]!../../node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[14].use[2]!./src/components/ChipsSelect/ChipsSelect.module.css":(module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/css-loader/dist/runtime/sourceMaps.js"),_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__),_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/css-loader/dist/runtime/api.js"),___CSS_LOADER_EXPORT___=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__)()(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default());___CSS_LOADER_EXPORT___.push([module.id,".ChipsSelect__host--s6HHs{position:relative}.ChipsSelect__empty--Q1hSA{color:var(--vkui--color_text_secondary);padding-block:12px;padding-inline:0;text-align:center}.ChipsSelect__popDown--raQiJ{border-end-end-radius:0;border-end-start-radius:0}.ChipsSelect__popUp--M2iJ1{border-start-end-radius:0;border-start-start-radius:0}.ChipsSelect__dropdownIcon--MwViQ{cursor:pointer}.ChipsSelect__dropdownIconWithOffset--pvv96{-webkit-margin-end:8px;margin-inline-end:8px}","",{version:3,sources:["webpack://./src/components/ChipsSelect/ChipsSelect.module.css"],names:[],mappings:"AAAA,0BACE,iBACF,CAEA,2BAGE,uCAAwC,CAFxC,kBAAmB,CACnB,gBAAiB,CAEjB,iBACF,CAEA,6BAEE,uBAAwB,CADxB,yBAEF,CAEA,2BAEE,yBAA0B,CAD1B,2BAEF,CAEA,kCACE,cACF,CAEA,4CACE,sBAAsB,CAAtB,qBACF",sourcesContent:[".host {\n  position: relative;\n}\n\n.empty {\n  padding-block: 12px;\n  padding-inline: 0;\n  color: var(--vkui--color_text_secondary);\n  text-align: center;\n}\n\n.popDown {\n  border-end-start-radius: 0;\n  border-end-end-radius: 0;\n}\n\n.popUp {\n  border-start-start-radius: 0;\n  border-start-end-radius: 0;\n}\n\n.dropdownIcon {\n  cursor: pointer;\n}\n\n.dropdownIconWithOffset {\n  margin-inline-end: 8px;\n}\n"],sourceRoot:""}]),___CSS_LOADER_EXPORT___.locals={host:"ChipsSelect__host--s6HHs",empty:"ChipsSelect__empty--Q1hSA",popDown:"ChipsSelect__popDown--raQiJ",popUp:"ChipsSelect__popUp--M2iJ1",dropdownIcon:"ChipsSelect__dropdownIcon--MwViQ",dropdownIconWithOffset:"ChipsSelect__dropdownIconWithOffset--pvv96"};const __WEBPACK_DEFAULT_EXPORT__=___CSS_LOADER_EXPORT___},"./src/components/ChipsInput/useChipsInput.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{o:()=>transformValue,v:()=>useChipsInput});var react=__webpack_require__("../../node_modules/react/index.js"),useEnsuredControl=__webpack_require__("./src/hooks/useEnsuredControl.ts"),useNativeFormResetListener=__webpack_require__("./src/hooks/useNativeFormResetListener.ts");var constants=__webpack_require__("./src/components/ChipsInputBase/constants.tsx"),helpers=__webpack_require__("./src/components/ChipsInputBase/helpers.ts");const transformValue=(value,getOptionValue,getOptionLabel)=>value.map((option=>({...option,label:getOptionLabel(option),value:getOptionValue(option)}))),useChipsInput=({value:valueProp,defaultValue=constants.kH,onChange,getOptionLabel=constants.jX,getOptionValue=constants.Su,getNewOptionData=constants.Ti,inputValue:inputValueProp,defaultInputValue=constants.F3,onInputChange:onInputChangeProp,disabled,delimiter})=>{const[value,setValue]=(0,useEnsuredControl.m)({disabled,value:valueProp?transformValue(valueProp,getOptionValue,getOptionLabel):void 0,defaultValue:transformValue(defaultValue,getOptionValue,getOptionLabel),onChange}),inputRef=react.useRef(null),[inputValue,setInputChange]=(0,useEnsuredControl.D)({disabled,value:inputValueProp,defaultValue:defaultInputValue,onChange:onInputChangeProp}),toggleOption=react.useCallback(((nextValuesProp,isNewValue)=>{setValue((prevValue=>{const resolvedNextOptionsSet=new Set,resolvedNextOptions=nextValuesProp.map((option=>{const isLikeObjectOption=(0,helpers.zP)(option),resolvedOption=isLikeObjectOption?getNewOptionData(option.value,option.label):getNewOptionData(option,"string"==typeof option?option:"");return resolvedNextOptionsSet.add(resolvedOption.value),isLikeObjectOption?{...option,...resolvedOption}:resolvedOption})),nextValue=prevValue.filter((option=>!resolvedNextOptionsSet.has(option.value)));return isNewValue&&nextValue.push(...resolvedNextOptions),nextValue}))}),[setValue,getNewOptionData]),clearInput=react.useCallback((()=>{inputRef.current&&((target,nextValue="")=>{try{const prevValue=target.value;target.value=nextValue;const tracker=target._valueTracker;tracker&&tracker.setValue(prevValue);const event=new Event("input",{bubbles:!0});target.dispatchEvent(event)}catch(error){}})(inputRef.current,"")}),[inputRef]),addOption=react.useCallback((newValue=>toggleOption([newValue],!0)),[toggleOption]),addOptions=react.useCallback((newValues=>toggleOption(newValues,!0)),[toggleOption]),removeOption=react.useCallback((newValue=>toggleOption([newValue],!1)),[toggleOption]),addOptionFromInput=react.useCallback((inputValue=>{const label=inputValue.trim();label&&(addOption(label),clearInput())}),[addOption,clearInput]),reset=react.useCallback((()=>{setValue(defaultValue)}),[defaultValue,setValue]),clearOptions=react.useCallback((()=>{setValue(constants.kH),clearInput()}),[clearInput,setValue]),onInputChange=react.useCallback(((e,canCreate=!0)=>{const newInputValue=e.target.value;if(!delimiter||!newInputValue.includes(delimiter)||!canCreate)return void setInputChange(e);const values=newInputValue.trim().split(delimiter).map((v=>v.trim())).filter(Boolean);e.target.value="",e.currentTarget.value="",setInputChange(e),addOptions(values)}),[addOptions,delimiter,setInputChange]);return(0,useNativeFormResetListener.g)(inputRef,reset),{value,addOption,addOptionFromInput,removeOption,inputRef,inputValue,onInputChange,clearInput,clearOptions}}},"./src/components/ChipsInputBase/Chip/Chip.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{v:()=>Chip});var jsx_runtime=__webpack_require__("../../node_modules/react/jsx-runtime.js"),react=__webpack_require__("../../node_modules/react/index.js"),cancel_16=__webpack_require__("../../node_modules/@vkontakte/icons/dist/16/cancel_16.js"),lib=__webpack_require__("../../node_modules/@vkontakte/vkjs/lib/index.js"),useAdaptivity=__webpack_require__("./src/hooks/useAdaptivity.ts"),useFocusVisible=__webpack_require__("./src/hooks/useFocusVisible.ts"),useFocusVisibleClassName=__webpack_require__("./src/hooks/useFocusVisibleClassName.ts"),RootComponent=__webpack_require__("./src/components/RootComponent/RootComponent.tsx"),Footnote=__webpack_require__("./src/components/Typography/Footnote/Footnote.tsx"),VisuallyHidden=__webpack_require__("./src/components/VisuallyHidden/VisuallyHidden.tsx"),injectStylesIntoStyleTag=__webpack_require__("../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),injectStylesIntoStyleTag_default=__webpack_require__.n(injectStylesIntoStyleTag),singletonStyleDomAPI=__webpack_require__("../../node_modules/style-loader/dist/runtime/singletonStyleDomAPI.js"),singletonStyleDomAPI_default=__webpack_require__.n(singletonStyleDomAPI),insertBySelector=__webpack_require__("../../node_modules/style-loader/dist/runtime/insertBySelector.js"),insertBySelector_default=__webpack_require__.n(insertBySelector),setAttributesWithAttributesAndNonce=__webpack_require__("../../node_modules/style-loader/dist/runtime/setAttributesWithAttributesAndNonce.js"),setAttributesWithAttributesAndNonce_default=__webpack_require__.n(setAttributesWithAttributesAndNonce),insertStyleElement=__webpack_require__("../../node_modules/style-loader/dist/runtime/insertStyleElement.js"),insertStyleElement_default=__webpack_require__.n(insertStyleElement),Chip_module=__webpack_require__("../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[14].use[1]!../../node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[14].use[2]!./src/components/ChipsInputBase/Chip/Chip.module.css"),options={attributes:{class:"vkui-style"}};options.setAttributes=setAttributesWithAttributesAndNonce_default(),options.insert=insertBySelector_default().bind(null,"head"),options.domAPI=singletonStyleDomAPI_default(),options.insertStyleElement=insertStyleElement_default();injectStylesIntoStyleTag_default()(Chip_module.A,options);const Chip_Chip_module=Chip_module.A&&Chip_module.A.locals?Chip_module.A.locals:void 0,sizeYClassNames={none:Chip_Chip_module.sizeYNone,compact:Chip_Chip_module.sizeYCompact},Chip=({Component="span",value="",removable=!0,onRemove,removeLabel="Удалить",before,after,disabled,readOnly,children,className,onFocus:onFocusProp,onBlur:onBlurProp,...restProps})=>{const{sizeY="none"}=(0,useAdaptivity.L)(),{focusVisible,onFocus,onBlur}=(0,useFocusVisible.Y)(),focusVisibleClassName=(0,useFocusVisibleClassName.z)({focusVisible}),onRemoveWrapper=react.useCallback((event=>{onRemove?.(event,value)}),[onRemove,value]);return(0,jsx_runtime.jsxs)(RootComponent.I,{...restProps,Component,className:(0,lib.xW)(Chip_Chip_module.host,"regular"!==sizeY&&sizeYClassNames[sizeY],focusVisibleClassName,className),"aria-readonly":readOnly,"aria-disabled":disabled,onFocus:disabled?void 0:event=>{onFocusProp&&onFocusProp(event),onFocus(event)},onBlur:disabled?void 0:event=>{onBlurProp&&onBlurProp(event),onBlur(event)},children:[(0,jsx_runtime.jsxs)("div",{className:Chip_Chip_module.in,children:[(0,lib.G1)(before)&&(0,jsx_runtime.jsx)("div",{className:Chip_Chip_module.before,children:before}),(0,jsx_runtime.jsx)(Footnote.t,{className:Chip_Chip_module.content,children}),(0,lib.G1)(after)&&(0,jsx_runtime.jsx)("div",{className:Chip_Chip_module.after,children:after})]}),!readOnly&&removable&&(0,jsx_runtime.jsx)("div",{className:Chip_Chip_module.removable,children:(0,jsx_runtime.jsxs)("button",{tabIndex:-1,disabled,className:Chip_Chip_module.remove,onClick:disabled?void 0:onRemoveWrapper,children:[(0,jsx_runtime.jsxs)(VisuallyHidden.s,{children:["  ",removeLabel," ",children]}),(0,jsx_runtime.jsx)(cancel_16.X,{})]})})]})};try{Chip.displayName="Chip",Chip.__docgenInfo={description:"",displayName:"Chip",props:{value:{defaultValue:{value:""},description:"Значение чипа.",name:"value",required:!1,type:{name:"ChipOptionValue"}},removable:{defaultValue:{value:"true"},description:"Можно ли удалить чип.",name:"removable",required:!1,type:{name:"boolean"}},disabled:{defaultValue:null,description:"Блокировка взаимодействия с чипом.",name:"disabled",required:!1,type:{name:"boolean"}},readOnly:{defaultValue:null,description:"Режим только для чтения.",name:"readOnly",required:!1,type:{name:"boolean"}},removeLabel:{defaultValue:{value:"Удалить"},description:"Текст для кнопки удаления.",name:"removeLabel",required:!1,type:{name:"string"}},before:{defaultValue:null,description:"Контент перед основным содержимым.",name:"before",required:!1,type:{name:"ReactNode"}},after:{defaultValue:null,description:"Контент после основного содержимого.",name:"after",required:!1,type:{name:"ReactNode"}},onRemove:{defaultValue:null,description:"Обработчик удаления чипа.",name:"onRemove",required:!1,type:{name:"((event: MouseEvent<Element, MouseEvent>, value: ChipOptionValue) => void)"}},Component:{defaultValue:{value:"span"},description:"",name:"Component",required:!1,type:{name:"ElementType<any, keyof IntrinsicElements>"}},getRootRef:{defaultValue:null,description:"",name:"getRootRef",required:!1,type:{name:"Ref<HTMLElement>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/ChipsInputBase/Chip/Chip.tsx#Chip"]={docgenInfo:Chip.__docgenInfo,name:"Chip",path:"src/components/ChipsInputBase/Chip/Chip.tsx#Chip"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/ChipsInputBase/ChipsInputBase.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{j:()=>ChipsInputBase});var jsx_runtime=__webpack_require__("../../node_modules/react/jsx-runtime.js"),react=__webpack_require__("../../node_modules/react/index.js"),lib=__webpack_require__("../../node_modules/@vkontakte/vkjs/lib/index.js"),floating_ui_utils_dom=__webpack_require__("../../node_modules/@vkontakte/vkui-floating-ui/utils/dist/floating-ui.utils.dom.mjs"),useAdaptivity=__webpack_require__("./src/hooks/useAdaptivity.ts"),useExternRef=__webpack_require__("./src/hooks/useExternRef.ts"),accessibility=__webpack_require__("./src/lib/accessibility.ts"),dom=__webpack_require__("./src/lib/dom.tsx"),FormField=__webpack_require__("./src/components/FormField/FormField.tsx"),cancel_16=__webpack_require__("../../node_modules/@vkontakte/icons/dist/16/cancel_16.js"),utils=__webpack_require__("./src/lib/utils.ts"),IconButton=__webpack_require__("./src/components/IconButton/IconButton.tsx");const FormFieldClearButton=({className,onClick,...restProps})=>(0,jsx_runtime.jsx)(IconButton.K,{Component:"button",label:"Очистить поле",onKeyDown:utils.dG,type:"button",activeMode:"opacity",hoverMode:"opacity",...restProps,className,onClick:e=>{(0,utils.dG)(e),e.preventDefault(),onClick()},children:(0,jsx_runtime.jsx)(cancel_16.X,{})});try{FormFieldClearButton.displayName="FormFieldClearButton",FormFieldClearButton.__docgenInfo={description:"",displayName:"FormFieldClearButton",props:{className:{defaultValue:null,description:"`className` для компонента.",name:"className",required:!1,type:{name:"string"}},onClick:{defaultValue:null,description:"Обработчик нажатия на кнопку.",name:"onClick",required:!0,type:{name:"() => void"}},disabled:{defaultValue:null,description:"Блокировка взаимодействия с компонентом.",name:"disabled",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/FormFieldClearButton/FormFieldClearButton.tsx#FormFieldClearButton"]={docgenInfo:FormFieldClearButton.__docgenInfo,name:"FormFieldClearButton",path:"src/components/FormFieldClearButton/FormFieldClearButton.tsx#FormFieldClearButton"})}catch(__react_docgen_typescript_loader_error){}var Text=__webpack_require__("./src/components/Typography/Text/Text.tsx"),constants=__webpack_require__("./src/components/ChipsInputBase/constants.tsx"),helpers=__webpack_require__("./src/components/ChipsInputBase/helpers.ts"),injectStylesIntoStyleTag=__webpack_require__("../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),injectStylesIntoStyleTag_default=__webpack_require__.n(injectStylesIntoStyleTag),singletonStyleDomAPI=__webpack_require__("../../node_modules/style-loader/dist/runtime/singletonStyleDomAPI.js"),singletonStyleDomAPI_default=__webpack_require__.n(singletonStyleDomAPI),insertBySelector=__webpack_require__("../../node_modules/style-loader/dist/runtime/insertBySelector.js"),insertBySelector_default=__webpack_require__.n(insertBySelector),setAttributesWithAttributesAndNonce=__webpack_require__("../../node_modules/style-loader/dist/runtime/setAttributesWithAttributesAndNonce.js"),setAttributesWithAttributesAndNonce_default=__webpack_require__.n(setAttributesWithAttributesAndNonce),insertStyleElement=__webpack_require__("../../node_modules/style-loader/dist/runtime/insertStyleElement.js"),insertStyleElement_default=__webpack_require__.n(insertStyleElement),ChipsInputBase_module=__webpack_require__("../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[14].use[1]!../../node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[14].use[2]!./src/components/ChipsInputBase/ChipsInputBase.module.css"),options={attributes:{class:"vkui-style"}};options.setAttributes=setAttributesWithAttributesAndNonce_default(),options.insert=insertBySelector_default().bind(null,"head"),options.domAPI=singletonStyleDomAPI_default(),options.insertStyleElement=insertStyleElement_default();injectStylesIntoStyleTag_default()(ChipsInputBase_module.A,options);const ChipsInputBase_ChipsInputBase_module=ChipsInputBase_module.A&&ChipsInputBase_module.A.locals?ChipsInputBase_module.A.locals:void 0,sizeYClassNames={none:ChipsInputBase_ChipsInputBase_module.sizeYNone,compact:ChipsInputBase_ChipsInputBase_module.sizeYCompact},ChipsInputBase=({getRootRef,style,className,before,after,status,mode,maxHeight,value=constants.kH,onAddChipOption,onRemoveChipOption:onRemoveChipOptionProp,renderChip=constants.ec,getRef,id:idProp,inputValue=constants.F3,placeholder,disabled,readOnly,addOnBlur,onBlur,onInputChange,ClearButton=FormFieldClearButton,clearButtonShown,clearButtonTestId,onClear,...restProps})=>{const{sizeY="none"}=(0,useAdaptivity.L)(),idGenerated=react.useId(),inputRef=(0,useExternRef.Z)(getRef),listboxRef=react.useRef(null),valueLength=value.length,withPlaceholder=0===valueLength,[lastFocusedChipOptionIndex,setLastFocusedChipOptionIndex]=react.useState(0),moveFocusToChipOption=(currentIndex,navigateTo,listboxEl)=>{const index=(0,helpers.pm)(currentIndex,navigateTo,valueLength),foundEl=listboxEl.querySelector(`[data-index="${index}"]`);foundEl&&(setLastFocusedChipOptionIndex(index),foundEl.focus())},removeChipOption=(o,index)=>{var inputEl;inputRef.current&&listboxRef.current&&(valueLength>1?moveFocusToChipOption(index,index===valueLength-1?"prev":"next",listboxRef.current):(inputEl=inputRef.current,setLastFocusedChipOptionIndex(0),inputEl.focus()),onRemoveChipOptionProp(o))},handleChipRemove=(event,v)=>{event.preventDefault(),event.stopPropagation(),removeChipOption(v,(0,helpers.HK)(v,value))},clearButton=react.useMemo((()=>{if(clearButtonShown)return(0,jsx_runtime.jsx)(ClearButton,{onClick:onClear,disabled,"data-testid":clearButtonTestId})}),[ClearButton,clearButtonShown,clearButtonTestId,disabled,onClear]),afterItems=react.useMemo((()=>{if(clearButton||after)return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[clearButton,after]})}),[after,clearButton]);return(0,jsx_runtime.jsx)(FormField.z,{Component:"div",getRootRef,style,disabled,before,after:afterItems,status,mode,className,maxHeight,onClick:disabled?void 0:event=>{event.defaultPrevented||(0,dom.gR)(event.currentTarget,(0,dom.HC)(event.currentTarget))||inputRef.current&&inputRef.current.focus()},children:(0,jsx_runtime.jsxs)("div",{className:(0,lib.xW)(ChipsInputBase_ChipsInputBase_module.host,"regular"!==sizeY&&sizeYClassNames[sizeY],withPlaceholder&&ChipsInputBase_ChipsInputBase_module.hasPlaceholder),ref:listboxRef,role:"listbox","aria-orientation":"horizontal","aria-disabled":disabled,"aria-readonly":readOnly,onKeyDown:disabled?void 0:event=>{const targetEl=event.target;if(!event.defaultPrevented&&listboxRef.current&&(0,floating_ui_utils_dom.sb)(targetEl))switch(event.key){case accessibility.D$.ENTER:!readOnly&&(0,dom.gR)(targetEl,inputRef.current)&&inputRef.current&&!(0,helpers.$z)(inputRef.current)&&(event.preventDefault(),onAddChipOption(inputRef.current.value));break;case accessibility.D$.DELETE:case accessibility.D$.BACKSPACE:!readOnly&&valueLength>0&&((0,dom.gR)(targetEl,inputRef.current)?event.key===accessibility.D$.BACKSPACE&&(0,helpers.$z)(inputRef.current)&&(event.preventDefault(),moveFocusToChipOption((0,helpers.oN)(targetEl),"last",listboxRef.current)):(event.preventDefault(),removeChipOption((0,helpers.tP)(targetEl),(0,helpers.oN)(targetEl))));break;case accessibility.D$.ARROW_UP:case accessibility.D$.ARROW_LEFT:case accessibility.D$.ARROW_DOWN:case accessibility.D$.ARROW_RIGHT:0===valueLength||(0,dom.gR)(targetEl,inputRef.current)||(event.preventDefault(),moveFocusToChipOption((0,helpers.oN)(targetEl),(0,accessibility.Oz)(event.key),listboxRef.current))}},children:[value.map(((option,index)=>(0,jsx_runtime.jsx)(react.Fragment,{children:renderChip({Component:"div",value:option.value,label:option.label,disabled:option.disabled||disabled,readOnly:option.readOnly||readOnly,className:ChipsInputBase_ChipsInputBase_module.chip,onRemove:handleChipRemove,"data-index":index,"data-value":option.value,"data-value-type":typeof option.value,tabIndex:lastFocusedChipOptionIndex===index?0:-1,role:"option","aria-selected":!0,"aria-posinset":index+1,"aria-setsize":valueLength},option)},`${typeof option.value}-${option.value}`))),(0,jsx_runtime.jsx)(Text.E,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",spellCheck:!1,...restProps,Component:"input",type:"text",id:idProp||`chips-input-base-generated-id-${idGenerated}`,getRootRef:inputRef,className:ChipsInputBase_ChipsInputBase_module.el,disabled,readOnly,placeholder:withPlaceholder?placeholder:void 0,value:inputValue,onChange:onInputChange,onBlur:event=>{onBlur&&onBlur(event),addOnBlur&&!event.defaultPrevented&&inputRef.current&&onAddChipOption(inputRef.current.value)}})]})})};try{ChipsInputBase.displayName="ChipsInputBase",ChipsInputBase.__docgenInfo={description:"",displayName:"ChipsInputBase",props:{onClear:{defaultValue:null,description:"Обработчик очистки всех выбранных опций.",name:"onClear",required:!0,type:{name:"() => void"}},onAddChipOption:{defaultValue:null,description:"Обработчик добавления новой опции чипа.",name:"onAddChipOption",required:!0,type:{name:"(value: string) => void"}},onRemoveChipOption:{defaultValue:null,description:"Обработчик удаления опции чипа.",name:"onRemoveChipOption",required:!0,type:{name:"(value: ChipOptionValue | O) => void"}},getRootRef:{defaultValue:null,description:"Ссылка на корневой элемент.",name:"getRootRef",required:!1,type:{name:"Ref<HTMLDivElement>"}},addOnBlur:{defaultValue:null,description:"Добавляет значение в список на событие `onBlur`.",name:"addOnBlur",required:!1,type:{name:"boolean"}},renderChip:{defaultValue:{value:"Используется [Chip](#/Chip)"},description:"Render prop функция для возврата своего компонента.",name:"renderChip",required:!1,type:{name:"RenderChip<O>"}},clearButtonShown:{defaultValue:null,description:"Показывать ли кнопку для очистки значения.",name:"clearButtonShown",required:!1,type:{name:"boolean"}},clearButtonTestId:{defaultValue:null,description:"(e2e) testId кнопки очистки.",name:"clearButtonTestId",required:!1,type:{name:"string"}},ClearButton:{defaultValue:{value:'({\n  className,\n  onClick,\n  ...restProps\n}: FormFieldClearButtonProps): React.ReactNode => {\n  return (\n    <IconButton\n      Component="button"\n      label="Очистить поле"\n      onKeyDown={stopPropagation}\n      type="button"\n      activeMode="opacity"\n      hoverMode="opacity"\n      {...restProps}\n      className={className}\n      onClick={(e) => {\n        stopPropagation(e);\n        e.preventDefault();\n        onClick();\n      }}\n    >\n      <Icon16Cancel />\n    </IconButton>\n  );\n}'},description:"Кастомная кнопка для очистки значения.\nДолжна принимать обязательное свойство `onClick`.",name:"ClearButton",required:!1,type:{name:"ComponentType<FormFieldClearButtonProps>"}},disabled:{defaultValue:null,description:"Блокировка взаимодействия с компонентом.",name:"disabled",required:!1,type:{name:"boolean"}},delimiter:{defaultValue:null,description:'Символ или строка, которая будет использоваться как разделитель для автоматического создания опций из текста, введенного в поле ввода.\n\nРаботает в двух сценариях:\n1. При вводе разделителя - текст до разделителя автоматически преобразуется в новую опцию.\n   Например, при `delimiter=","` ввод "опция1," создаст опцию "опция1".\n\n2. При вставке из буфера обмена - если вставляемый текст содержит разделители,\n   он будет автоматически разбит на несколько опций.\n   Например, при `delimiter=","` вставка "опция1,опция2,опция3" создаст\n   три отдельные опции: "опция1", "опция2" и "опция3".',name:"delimiter",required:!1,type:{name:"string"}},value:{defaultValue:{value:"[]"},description:"Выбранные опции.",name:"value",required:!1,type:{name:"O[]"}},onInputChange:{defaultValue:null,description:"Обработчик изменения значения в поле ввода.",name:"onInputChange",required:!1,type:{name:"OnInputChange"}},inputValue:{defaultValue:{value:""},description:"Значение поля ввода.",name:"inputValue",required:!1,type:{name:"string"}},getRef:{defaultValue:null,description:"",name:"getRef",required:!1,type:{name:"Ref<HTMLInputElement>"}},align:{defaultValue:null,description:"",name:"align",required:!1,type:{name:"enum",value:[{value:'"center"'},{value:'"right"'},{value:'"left"'}]}},mode:{defaultValue:null,description:"Режим отображения.\n\n- `default` — показывает фон, обводку и, при наличии, текст-подсказку.\n- `plain` — показывает только текст-подсказку.",name:"mode",required:!1,type:{name:"enum",value:[{value:'"plain"'},{value:'"default"'}]}},status:{defaultValue:null,description:"Статус отображения поля в форме.",name:"status",required:!1,type:{name:"enum",value:[{value:'"default"'},{value:'"error"'},{value:'"valid"'}]}},before:{defaultValue:null,description:"Добавляет иконку слева.\n\nРекомендации:\n\n- Используйте следующие размеры иконок `12` | `16` | `20` | `24` | `28`.\n- Используйте [IconButton](https://vkcom.github.io/VKUI/#/IconButton), если вам нужна иконка, реагирующая на нажатие.",name:"before",required:!1,type:{name:"ReactNode"}},after:{defaultValue:null,description:"Добавляет иконку справа.\n\nРекомендации:\n\n- Используйте следующие размеры иконок `12` | `16` | `20` | `24` | `28`.\n- Используйте [IconButton](https://vkcom.github.io/VKUI/#/IconButton), если вам нужна иконка, реагируюущая на нажатие.",name:"after",required:!1,type:{name:"ReactNode"}},maxHeight:{defaultValue:null,description:"Максимальная высота поля.",name:"maxHeight",required:!1,type:{name:"number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/ChipsInputBase/ChipsInputBase.tsx#ChipsInputBase"]={docgenInfo:ChipsInputBase.__docgenInfo,name:"ChipsInputBase",path:"src/components/ChipsInputBase/ChipsInputBase.tsx#ChipsInputBase"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/ChipsInputBase/constants.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{F3:()=>DEFAULT_INPUT_VALUE,Su:()=>getOptionValueDefault,Ti:()=>getNewOptionDataDefault,ec:()=>renderChipDefault,jX:()=>getOptionLabelDefault,kH:()=>DEFAULT_VALUE});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/react/jsx-runtime.js"),_Chip_Chip__WEBPACK_IMPORTED_MODULE_2__=(__webpack_require__("../../node_modules/react/index.js"),__webpack_require__("./src/components/ChipsInputBase/Chip/Chip.tsx"));const DEFAULT_VALUE=[],DEFAULT_INPUT_VALUE="";function getOptionValueDefault(option){return option.value}function getOptionLabelDefault(option){return option.label}function getNewOptionDataDefault(value,label){return{value,label}}function renderChipDefault(props){const{label,...rest}=props;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_Chip_Chip__WEBPACK_IMPORTED_MODULE_2__.v,{removable:!props.disabled,...rest,children:label})}try{getOptionValueDefault.displayName="getOptionValueDefault",getOptionValueDefault.__docgenInfo={description:"",displayName:"getOptionValueDefault",props:{value:{defaultValue:null,description:"Значение опции.",name:"value",required:!0,type:{name:"ChipOptionValue"}},label:{defaultValue:null,description:"Отображаемый текст опции.",name:"label",required:!0,type:{name:"ChipOptionLabel"}},disabled:{defaultValue:null,description:"Блокировка взаимодействия с оцией.",name:"disabled",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/ChipsInputBase/constants.tsx#getOptionValueDefault"]={docgenInfo:getOptionValueDefault.__docgenInfo,name:"getOptionValueDefault",path:"src/components/ChipsInputBase/constants.tsx#getOptionValueDefault"})}catch(__react_docgen_typescript_loader_error){}try{getOptionLabelDefault.displayName="getOptionLabelDefault",getOptionLabelDefault.__docgenInfo={description:"",displayName:"getOptionLabelDefault",props:{value:{defaultValue:null,description:"Значение опции.",name:"value",required:!0,type:{name:"ChipOptionValue"}},label:{defaultValue:null,description:"Отображаемый текст опции.",name:"label",required:!0,type:{name:"ChipOptionLabel"}},disabled:{defaultValue:null,description:"Блокировка взаимодействия с оцией.",name:"disabled",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/ChipsInputBase/constants.tsx#getOptionLabelDefault"]={docgenInfo:getOptionLabelDefault.__docgenInfo,name:"getOptionLabelDefault",path:"src/components/ChipsInputBase/constants.tsx#getOptionLabelDefault"})}catch(__react_docgen_typescript_loader_error){}try{renderChipDefault.displayName="renderChipDefault",renderChipDefault.__docgenInfo={description:"",displayName:"renderChipDefault",props:{label:{defaultValue:null,description:"Отображаемый текст чипа.",name:"label",required:!0,type:{name:"ChipOptionLabel"}},value:{defaultValue:null,description:"Значение чипа.",name:"value",required:!1,type:{name:"ChipOptionValue"}},removable:{defaultValue:null,description:"Можно ли удалить чип.",name:"removable",required:!1,type:{name:"boolean"}},disabled:{defaultValue:null,description:"Блокировка взаимодействия с чипом.",name:"disabled",required:!1,type:{name:"boolean"}},readOnly:{defaultValue:null,description:"Режим только для чтения.",name:"readOnly",required:!1,type:{name:"boolean"}},removeLabel:{defaultValue:null,description:"Текст для кнопки удаления.",name:"removeLabel",required:!1,type:{name:"string"}},before:{defaultValue:null,description:"Контент перед основным содержимым.",name:"before",required:!1,type:{name:"ReactNode"}},after:{defaultValue:null,description:"Контент после основного содержимого.",name:"after",required:!1,type:{name:"ReactNode"}},onRemove:{defaultValue:null,description:"Обработчик удаления чипа.",name:"onRemove",required:!1,type:{name:"((event: MouseEvent<Element, MouseEvent>, value: ChipOptionValue) => void)"}},Component:{defaultValue:null,description:"",name:"Component",required:!1,type:{name:"ElementType<any, keyof IntrinsicElements>"}},getRootRef:{defaultValue:null,description:"",name:"getRootRef",required:!1,type:{name:"Ref<HTMLElement>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/ChipsInputBase/constants.tsx#renderChipDefault"]={docgenInfo:renderChipDefault.__docgenInfo,name:"renderChipDefault",path:"src/components/ChipsInputBase/constants.tsx#renderChipDefault"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/ChipsInputBase/helpers.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{$z:()=>isInputValueEmpty,HK:()=>getChipOptionIndexByValueProp,oN:()=>getChipOptionIndexByHTMLElement,pm:()=>getNextChipOptionIndexByNavigateToProp,tP:()=>getChipOptionValueByHTMLElement,zP:()=>isValueLikeChipOptionObject});var _constants__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/components/ChipsInputBase/constants.tsx");const isValueLikeChipOptionObject=v=>"object"==typeof v&&"value"in v,isInputValueEmpty=input=>!input||input.value===_constants__WEBPACK_IMPORTED_MODULE_0__.F3,getChipOptionIndexByValueProp=(optionProp,valueProp)=>{const value=isValueLikeChipOptionObject(optionProp)?optionProp.value:optionProp;return valueProp.findIndex((option=>option.value===value))},getChipOptionIndexByHTMLElement=el=>{const value=el&&el.dataset.index;return"string"==typeof value?Number(value):-1},getChipOptionValueByHTMLElement=el=>{const value=el&&el.dataset.value;return"number"===(el&&el.dataset.valueType)?Number(value):"string"==typeof value?value:-1},getNextChipOptionIndexByNavigateToProp=(currentIndex,navigateTo,length)=>{const LAST_INDEX=length-1;switch(navigateTo){case"prev":const prevIndex=currentIndex-1;return prevIndex<0?LAST_INDEX:prevIndex;case"next":const nextIndex=currentIndex+1;return nextIndex>LAST_INDEX?0:nextIndex;case"last":return LAST_INDEX;default:return-1}}},"./src/components/ChipsSelect/ChipsSelect.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{_:()=>ChipsSelect});var jsx_runtime=__webpack_require__("../../node_modules/react/jsx-runtime.js"),react=__webpack_require__("../../node_modules/react/index.js"),lib=__webpack_require__("../../node_modules/@vkontakte/vkjs/lib/index.js"),useExternRef=__webpack_require__("./src/hooks/useExternRef.ts"),useGlobalOnClickOutside=__webpack_require__("./src/hooks/useGlobalOnClickOutside.ts"),accessibility=__webpack_require__("./src/lib/accessibility.ts"),lib_select=__webpack_require__("./src/lib/select.ts"),ChipsInputBase=__webpack_require__("./src/components/ChipsInputBase/ChipsInputBase.tsx"),constants=__webpack_require__("./src/components/ChipsInputBase/constants.tsx"),CustomSelectDropdown=__webpack_require__("./src/components/CustomSelectDropdown/CustomSelectDropdown.tsx"),CustomSelectOption=__webpack_require__("./src/components/CustomSelectOption/CustomSelectOption.tsx"),DropdownIcon=__webpack_require__("./src/components/DropdownIcon/DropdownIcon.tsx"),Footnote=__webpack_require__("./src/components/Typography/Footnote/Footnote.tsx");const renderOptionDefault=props=>(0,jsx_runtime.jsx)(CustomSelectOption.P,{...props}),isCreateNewOptionPreset=option=>option&&"actionText"in option,isEmptyOptionPreset=option=>option&&"placeholder"in option,isNotServicePreset=option=>!isCreateNewOptionPreset(option)&&!isEmptyOptionPreset(option);try{renderOptionDefault.displayName="renderOptionDefault",renderOptionDefault.__docgenInfo={description:"",displayName:"renderOptionDefault",props:{description:{defaultValue:null,description:"Добавляет описание под основным блоком.",name:"description",required:!1,type:{name:"ReactNode"}},before:{defaultValue:null,description:"Вставляет элемент в начало блока перед основным контентом.\nНапример, можно передать компонент `Avatar`, `Icon<Name>` или другие изображения.",name:"before",required:!1,type:{name:"ReactNode"}},after:{defaultValue:null,description:"Вставляет элемент в конец блока после основного контента.\nНапример, можно передать компонент `Avatar`, `Icon<Name>` или другие изображения.",name:"after",required:!1,type:{name:"ReactNode"}},hierarchy:{defaultValue:null,description:"Позволяет создавать вложенность.",name:"hierarchy",required:!1,type:{name:"number"}},selected:{defaultValue:null,description:"Включает состояние выбранного элемента списка.",name:"selected",required:!1,type:{name:"boolean"}},hovered:{defaultValue:null,description:"Включает состояние наведения.",name:"hovered",required:!1,type:{name:"boolean"}},focused:{defaultValue:null,description:"Включает состояние фокуса.",name:"focused",required:!1,type:{name:"boolean"}},disabled:{defaultValue:null,description:"Блокирует весь блок.\n\n> ⚠️  Важно: если CustomSelectOption используется внутри [Select](https://vkcom.github.io/VKUI/#/Select), [CustomSelect](https://vkcom.github.io/VKUI/#/CustomSelect) или [ChipsSelect](https://vkcom.github.io/VKUI/#/ChipsSelect), то свойство явно должно выставляться только через структуру `options`.\n> Запрещается выставлять `disabled` проп опциям в обход `options`, иначе [CustomSelect](https://vkcom.github.io/VKUI/#/CustomSelect) и [ChipsSelect](https://vkcom.github.io/VKUI/#/ChipsSelect) не будут знать об актуальном состоянии\nопции.",name:"disabled",required:!1,type:{name:"boolean"}},getRootRef:{defaultValue:null,description:"",name:"getRootRef",required:!1,type:{name:"Ref<HTMLDivElement>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/ChipsSelect/constants.tsx#renderOptionDefault"]={docgenInfo:renderOptionDefault.__docgenInfo,name:"renderOptionDefault",path:"src/components/ChipsSelect/constants.tsx#renderOptionDefault"})}catch(__react_docgen_typescript_loader_error){}try{isCreateNewOptionPreset.displayName="isCreateNewOptionPreset",isCreateNewOptionPreset.__docgenInfo={description:"",displayName:"isCreateNewOptionPreset",props:{value:{defaultValue:null,description:"Значение опции.",name:"value",required:!0,type:{name:"ChipOptionValue"}},label:{defaultValue:null,description:"Отображаемый текст опции.",name:"label",required:!0,type:{name:"ChipOptionLabel"}},disabled:{defaultValue:null,description:"Блокировка взаимодействия с оцией.",name:"disabled",required:!1,type:{name:"boolean"}},actionText:{defaultValue:null,description:"",name:"actionText",required:!0,type:{name:"any"}},placeholder:{defaultValue:null,description:"",name:"placeholder",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/ChipsSelect/constants.tsx#isCreateNewOptionPreset"]={docgenInfo:isCreateNewOptionPreset.__docgenInfo,name:"isCreateNewOptionPreset",path:"src/components/ChipsSelect/constants.tsx#isCreateNewOptionPreset"})}catch(__react_docgen_typescript_loader_error){}try{isEmptyOptionPreset.displayName="isEmptyOptionPreset",isEmptyOptionPreset.__docgenInfo={description:"",displayName:"isEmptyOptionPreset",props:{actionText:{defaultValue:null,description:"",name:"actionText",required:!0,type:{name:"any"}},placeholder:{defaultValue:null,description:"",name:"placeholder",required:!0,type:{name:"any"}},value:{defaultValue:null,description:"Значение опции.",name:"value",required:!0,type:{name:"ChipOptionValue"}},label:{defaultValue:null,description:"Отображаемый текст опции.",name:"label",required:!0,type:{name:"ChipOptionLabel"}},disabled:{defaultValue:null,description:"Блокировка взаимодействия с оцией.",name:"disabled",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/ChipsSelect/constants.tsx#isEmptyOptionPreset"]={docgenInfo:isEmptyOptionPreset.__docgenInfo,name:"isEmptyOptionPreset",path:"src/components/ChipsSelect/constants.tsx#isEmptyOptionPreset"})}catch(__react_docgen_typescript_loader_error){}try{isNotServicePreset.displayName="isNotServicePreset",isNotServicePreset.__docgenInfo={description:"",displayName:"isNotServicePreset",props:{actionText:{defaultValue:null,description:"",name:"actionText",required:!0,type:{name:"any"}},placeholder:{defaultValue:null,description:"",name:"placeholder",required:!0,type:{name:"any"}},value:{defaultValue:null,description:"Значение опции.",name:"value",required:!0,type:{name:"ChipOptionValue"}},label:{defaultValue:null,description:"Отображаемый текст опции.",name:"label",required:!0,type:{name:"ChipOptionLabel"}},disabled:{defaultValue:null,description:"Блокировка взаимодействия с оцией.",name:"disabled",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/ChipsSelect/constants.tsx#isNotServicePreset"]={docgenInfo:isNotServicePreset.__docgenInfo,name:"isNotServicePreset",path:"src/components/ChipsSelect/constants.tsx#isNotServicePreset"})}catch(__react_docgen_typescript_loader_error){}var useIsomorphicLayoutEffect=__webpack_require__("./src/lib/useIsomorphicLayoutEffect.ts"),useChipsInput=__webpack_require__("./src/components/ChipsInput/useChipsInput.ts");function transformOptions({value,getOptionValue=constants.Su,getOptionLabel=constants.jX,inputValue=constants.F3,emptyText="Ничего не найдено",creatable=!1,sortFn=!1,filterFn=lib_select.o,options:optionsProp=constants.kH,selectedBehavior="highlight"}){const filteredOptionsProp=filterFn?optionsProp.filter((option=>filterFn(inputValue,option,getOptionLabel))):optionsProp;if(0===filteredOptionsProp.length)return inputValue!==constants.F3&&"string"==typeof creatable?[{actionText:creatable}]:[{placeholder:emptyText}];sortFn&&filteredOptionsProp.sort(((optionA,optionB)=>sortFn(optionA,optionB,inputValue)));const parsedOptions=(0,useChipsInput.o)(filteredOptionsProp,getOptionValue,getOptionLabel);if("hide"===selectedBehavior){const selected=value.map((item=>item.value));return parsedOptions.filter((item=>!!isNotServicePreset(item)&&!selected.includes(item.value)))}return parsedOptions}var injectStylesIntoStyleTag=__webpack_require__("../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),injectStylesIntoStyleTag_default=__webpack_require__.n(injectStylesIntoStyleTag),singletonStyleDomAPI=__webpack_require__("../../node_modules/style-loader/dist/runtime/singletonStyleDomAPI.js"),singletonStyleDomAPI_default=__webpack_require__.n(singletonStyleDomAPI),insertBySelector=__webpack_require__("../../node_modules/style-loader/dist/runtime/insertBySelector.js"),insertBySelector_default=__webpack_require__.n(insertBySelector),setAttributesWithAttributesAndNonce=__webpack_require__("../../node_modules/style-loader/dist/runtime/setAttributesWithAttributesAndNonce.js"),setAttributesWithAttributesAndNonce_default=__webpack_require__.n(setAttributesWithAttributesAndNonce),insertStyleElement=__webpack_require__("../../node_modules/style-loader/dist/runtime/insertStyleElement.js"),insertStyleElement_default=__webpack_require__.n(insertStyleElement),ChipsSelect_module=__webpack_require__("../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[14].use[1]!../../node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[14].use[2]!./src/components/ChipsSelect/ChipsSelect.module.css"),options={attributes:{class:"vkui-style"}};options.setAttributes=setAttributesWithAttributesAndNonce_default(),options.insert=insertBySelector_default().bind(null,"head"),options.domAPI=singletonStyleDomAPI_default(),options.insertStyleElement=insertStyleElement_default();injectStylesIntoStyleTag_default()(ChipsSelect_module.A,options);const ChipsSelect_ChipsSelect_module=ChipsSelect_module.A&&ChipsSelect_module.A.locals?ChipsSelect_module.A.locals:void 0,findIndexAfter=(options=[],startIndex=-1)=>startIndex>=options.length-1?-1:options.findIndex(((option,i)=>i>startIndex&&(!isNotServicePreset(option)||!option.disabled))),findIndexBefore=(options=[],endIndex=options.length)=>{let result=-1;if(endIndex<=0)return result;for(let i=endIndex-1;i>=0;i--){let option=options[i];if(!isNotServicePreset(option)||!option.disabled){result=i;break}}return result},ChipsSelect=({id:labelledbyId,getRootRef,className,status="default",icon:dropdownIconProp,onChangeStart,options:optionsProp,placement:placementProp="bottom",closeAfterSelect=!0,selectedBehavior="highlight",emptyText="Ничего не найдено",creatable=!1,fetching=!1,dropdownAutoWidth,forceDropdownPortal,noMaxHeight=!1,filterFn=lib_select.o,sortFn=!1,dropdownTestId,onClose,onOpen,overscrollBehavior,renderDropdown,getRef,value:valueProp,defaultValue,inputValue:inputValueProp,defaultInputValue,disabled,readOnly,getOptionValue=constants.Su,getOptionLabel=constants.jX,getNewOptionData=constants.Ti,renderChip=constants.ec,renderOption=renderOptionDefault,onChange,onFocus:onFocusProp,onInputChange:onInputChangeProp,onBlur:onBlurProp,onKeyDown:onKeyDownProp,dropdownOffsetDistance=0,allowClearButton,clearButtonTestId,delimiter,...restProps})=>{const{value,addOptionFromInput,addOption,removeOption,clearOptions,inputRef:inputRefHook,inputValue,clearInput,onInputChange,options,opened,setOpened,focusedOption,focusedOptionIndex,setFocusedOption,setFocusedOptionIndex}=(({disabled,delimiter,value:valueProp,defaultValue,onChange,getOptionLabel=constants.jX,getOptionValue=constants.Su,getNewOptionData=constants.Ti,inputValue:inputValueProp,defaultInputValue=constants.F3,onInputChange:onInputChangeProp,creatable=!1,emptyText="Ничего не найдено",filterFn=lib_select.o,sortFn=!1,selectedBehavior="highlight",options:optionsProp=constants.kH,onClose,onOpen})=>{const{value,inputValue,onInputChange,...restChipsInputProps}=(0,useChipsInput.v)({value:valueProp,defaultValue,onChange,getOptionValue,getOptionLabel,getNewOptionData,inputValue:inputValueProp,defaultInputValue,onInputChange:onInputChangeProp,disabled,delimiter}),[opened,setOpened]=react.useState(!1),[options,setOptions]=react.useState((()=>opened?transformOptions({value,getOptionValue,getOptionLabel,inputValue,emptyText,creatable,filterFn,sortFn,options:optionsProp,selectedBehavior}):[])),[focusedOptionIndex,setFocusedOptionIndex]=react.useState(0),[focusedOption,setFocusedOption]=react.useState(null),handleOpened=react.useCallback((isOpened=>{isOpened?onOpen?.():onClose?.(),setOpened(isOpened)}),[onOpen,onClose]),handleInputChange=react.useCallback((event=>{onInputChange(event,!!creatable),opened||(handleOpened(!0),setFocusedOptionIndex(0))}),[onInputChange,creatable,opened,handleOpened]);return(0,useIsomorphicLayoutEffect.E)((function handleDropdownOpen(){opened&&setOptions((prevOptions=>{const nextOptions=transformOptions({value,getOptionValue,getOptionLabel,inputValue,emptyText,creatable,filterFn,sortFn,options:optionsProp,selectedBehavior});return(0,lib.n4)(prevOptions,nextOptions)?prevOptions:nextOptions}))}),[opened,value,getOptionLabel,getOptionValue,inputValue,optionsProp,creatable,selectedBehavior,filterFn,sortFn]),{...restChipsInputProps,value,inputValue,onInputChange:handleInputChange,options,opened,setOpened:handleOpened,focusedOption,focusedOptionIndex,setFocusedOption,setFocusedOptionIndex}})({value:valueProp,defaultValue,onChange,getOptionValue,getOptionLabel,getNewOptionData,inputValue:inputValueProp,defaultInputValue,onInputChange:onInputChangeProp,options:optionsProp,emptyText,creatable,filterFn,sortFn,selectedBehavior,onClose,onOpen,disabled,delimiter}),rootRef=(0,useExternRef.Z)(getRootRef),inputRef=(0,useExternRef.Z)(getRef,inputRefHook),[dropdownVerticalPlacement,setDropdownVerticalPlacement]=react.useState(placementProp),onDropdownPlacementChange=react.useCallback((placement=>{placement.startsWith("top")?setDropdownVerticalPlacement("top"):placement.startsWith("bottom")&&setDropdownVerticalPlacement("bottom")}),[]),dropdownId=react.useId(),dropdownCurrentItemId=null!==focusedOptionIndex?`${dropdownId}-${focusedOptionIndex}`:void 0,dropdownScrollBoxRef=react.useRef(null),chipsSelectOptions=react.useRef([]).current,focusOptionByIndex=(index,oldIndex)=>{if(index===oldIndex)return;const option=options[index];isNotServicePreset(option)&&option.disabled||(((index,center=!1)=>{const dropdown=dropdownScrollBoxRef.current,item=chipsSelectOptions[index];if(!item||!dropdown)return;const dropdownHeight=dropdown.offsetHeight,scrollTop=dropdown.scrollTop,itemTop=item.offsetTop,itemHeight=item.offsetHeight;center?dropdown.scrollTop=itemTop-dropdownHeight/2+itemHeight/2:itemTop+itemHeight>dropdownHeight+scrollTop?dropdown.scrollTop=itemTop-dropdownHeight+itemHeight:itemTop<scrollTop&&(dropdown.scrollTop=itemTop)})(index),setFocusedOptionIndex(index))},focusOption=(nextIndex,type)=>{let index=null===nextIndex?-1:nextIndex;if("next"===type){const nextIndex=findIndexAfter(options,index);index=-1===nextIndex?findIndexAfter(options):nextIndex}else if("prev"===type){const beforeIndex=findIndexBefore(options,index);index=-1===beforeIndex?findIndexBefore(options):beforeIndex}focusOptionByIndex(index,focusedOptionIndex)};react.useEffect((()=>{if(null===focusedOptionIndex)setFocusedOption(null);else{const foundFocusedOptionIndex=options[focusedOptionIndex];foundFocusedOptionIndex&&isNotServicePreset(foundFocusedOptionIndex)&&setFocusedOption(foundFocusedOptionIndex)}}),[options,focusedOptionIndex,setFocusedOption]);const onDropdownMouseLeave=react.useCallback((()=>{setFocusedOptionIndex(null)}),[setFocusedOptionIndex]),handleClickOutside=react.useCallback((()=>{setOpened(!1)}),[setOpened]);(0,useGlobalOnClickOutside.J)("mousedown",handleClickOutside,opened?rootRef:null,opened?dropdownScrollBoxRef:null);const onDropdownIconClick=react.useCallback((e=>{opened&&(e.preventDefault(),setOpened(!1))}),[opened,setOpened]),dropdownContent=react.useMemo((()=>{const defaultDropdownContent=options.map(((option,index)=>{const dropdownItemId=`${dropdownId}-${index}`;return isEmptyOptionPreset(option)?(0,jsx_runtime.jsx)(Footnote.t,{className:ChipsSelect_ChipsSelect_module.empty,children:option.placeholder},"empty-text"):isCreateNewOptionPreset(option)?(0,jsx_runtime.jsx)(CustomSelectOption.P,{id:dropdownItemId,hovered:focusedOptionIndex===index,onMouseDown:()=>addOptionFromInput(inputValue),onMouseEnter:()=>setFocusedOptionIndex(index),children:option.actionText},"create-new-option"):(0,jsx_runtime.jsx)(react.Fragment,{children:renderOption({id:dropdownItemId,disabled:option.disabled,hovered:!!focusedOption&&getOptionValue(option)===getOptionValue(focusedOption),children:option.label,selected:!!value.find((selectedOption=>getOptionValue(selectedOption)===getOptionValue(option))),getRootRef(node){node&&(chipsSelectOptions[index]=node)},onMouseDown(event){option.disabled||(onChangeStart&&onChangeStart(event,option),event.defaultPrevented||(closeAfterSelect&&setOpened(!1),addOption(option),clearInput()))},onMouseEnter(){setFocusedOptionIndex(index)}},option)},`${typeof option.value}-${option.value}`)}));return renderDropdown?renderDropdown({defaultDropdownContent}):defaultDropdownContent}),[addOption,addOptionFromInput,chipsSelectOptions,clearInput,closeAfterSelect,dropdownId,focusedOption,focusedOptionIndex,getOptionValue,inputValue,onChangeStart,options,renderDropdown,renderOption,setFocusedOptionIndex,setOpened,value]),openedClassNames=react.useMemo((()=>opened&&0===dropdownOffsetDistance&&(dropdownVerticalPlacement.includes("top")?ChipsSelect_ChipsSelect_module.popUp:ChipsSelect_ChipsSelect_module.popDown)||void 0),[dropdownOffsetDistance,opened,dropdownVerticalPlacement]),clearButtonShown=allowClearButton&&(!!value.length||!!inputValue.length);return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(ChipsInputBase.j,{...restProps,disabled,readOnly,clearButtonShown,clearButtonTestId,id:labelledbyId,getRootRef:rootRef,className:(0,lib.xW)(ChipsSelect_ChipsSelect_module.host,openedClassNames,className),status,after:dropdownIconProp||(0,jsx_runtime.jsx)(DropdownIcon.F,{opened,onClick:onDropdownIconClick,className:(0,lib.xW)(ChipsSelect_ChipsSelect_module.dropdownIcon,clearButtonShown&&ChipsSelect_ChipsSelect_module.dropdownIconWithOffset)}),value,onAddChipOption:addOptionFromInput,onRemoveChipOption:removeOption,renderChip,onClear:clearOptions,getRef:inputRef,inputValue,onInputChange,onFocus:event=>{onFocusProp&&onFocusProp(event),readOnly||(setOpened(!0),setFocusedOptionIndex(null))},onBlur:event=>{onBlurProp&&onBlurProp(event),readOnly||event.defaultPrevented||creatable||event.preventDefault()},onKeyDown:event=>{if(onKeyDownProp&&onKeyDownProp(event),!event.defaultPrevented&&!readOnly)switch(event.key){case accessibility.D$.ARROW_UP:case accessibility.D$.ARROW_DOWN:event.preventDefault(),opened?focusOption(focusedOptionIndex,event.key===accessibility.D$.ARROW_UP?"prev":"next"):(setOpened(!0),focusOption(null,"next"));break;case accessibility.D$.ENTER:if(!opened)break;if(null!=focusedOptionIndex){const foundOption=options[focusedOptionIndex];if(foundOption&&isNotServicePreset(foundOption)){event.preventDefault(),onChangeStart&&onChangeStart(event,foundOption),addOption(foundOption),setFocusedOptionIndex(null),clearInput(),closeAfterSelect&&setOpened(!1);break}}creatable||event.preventDefault();break;case accessibility.D$.ESCAPE:case accessibility.D$.TAB:opened&&setOpened(!1)}},role:"combobox","aria-expanded":opened,"aria-autocomplete":"list","aria-controls":opened?dropdownId:void 0,"aria-activedescendant":opened?dropdownCurrentItemId:void 0,"aria-haspopup":"listbox"}),opened&&(0,jsx_runtime.jsx)(CustomSelectDropdown.B,{"data-testid":dropdownTestId,targetRef:rootRef,placement:dropdownVerticalPlacement,scrollBoxRef:dropdownScrollBoxRef,onPlacementChange:onDropdownPlacementChange,onMouseLeave:onDropdownMouseLeave,fetching,autoWidth:dropdownAutoWidth,forcePortal:forceDropdownPortal,noMaxHeight,offsetDistance:dropdownOffsetDistance,overscrollBehavior,id:dropdownId,role:"listbox","aria-labelledby":labelledbyId,children:dropdownContent})]})};try{ChipsSelect.displayName="ChipsSelect",ChipsSelect.__docgenInfo={description:"",displayName:"ChipsSelect",props:{placement:{defaultValue:null,description:"Расположение выпадающего списка.",name:"placement",required:!1,type:{name:"enum",value:[{value:'"top"'},{value:'"bottom"'}]}},fetching:{defaultValue:{value:"false"},description:"Отрисовка Spinner вместо списка опций в выпадающем списке.",name:"fetching",required:!1,type:{name:"boolean"}},closeAfterSelect:{defaultValue:{value:"true"},description:"Закрытие выпадающего списка после выбора элемента.",name:"closeAfterSelect",required:!1,type:{name:"boolean"}},dropdownAutoWidth:{defaultValue:null,description:"Ширина раскрывающегося списка зависит от контента.",name:"dropdownAutoWidth",required:!1,type:{name:"boolean"}},forceDropdownPortal:{defaultValue:null,description:"Принудительно использовать портал.",name:"forceDropdownPortal",required:!1,type:{name:"boolean"}},dropdownTestId:{defaultValue:null,description:"Передает атрибут `data-testid` для дропдауна.",name:"dropdownTestId",required:!1,type:{name:"string"}},icon:{defaultValue:null,description:"Иконка раскрывающегося списка.",name:"icon",required:!1,type:{name:"ReactNode"}},addOnBlur:{defaultValue:null,description:"Добавляет значение в список на событие `onBlur` (использовать вместе с `creatable`).",name:"addOnBlur",required:!1,type:{name:"boolean"}},noMaxHeight:{defaultValue:{value:"false"},description:"Отключает максимальную высоту по умолчанию.",name:"noMaxHeight",required:!1,type:{name:"boolean"}},renderOption:{defaultValue:{value:"(props: CustomSelectOptionProps): React.ReactNode => (\n  <CustomSelectOption {...props} />\n)"},description:"Функция для отрисовки кастомной опции в выпадающем списке.",name:"renderOption",required:!1,type:{name:"((props: CustomSelectOptionProps, option: Option) => ReactNode)"}},renderDropdown:{defaultValue:null,description:"Рендер-проп для кастомного рендера содержимого дропдауна.\nВ `defaultDropdownContent` содержится список опций.",name:"renderDropdown",required:!1,type:{name:"(({ defaultDropdownContent, }: { defaultDropdownContent: ReactNode; }) => ReactNode)"}},onChangeStart:{defaultValue:null,description:"Событие срабатывающее перед `onChange`.",name:"onChangeStart",required:!1,type:{name:"((event: MouseEvent<Element, MouseEvent> | KeyboardEvent<Element>, option: Option) => void)"}},dropdownOffsetDistance:{defaultValue:{value:"0"},description:"Отступ от выпадающего списка.",name:"dropdownOffsetDistance",required:!1,type:{name:"number"}},allowClearButton:{defaultValue:null,description:"Если `true`, то справа будет отображаться кнопка для очистки значения.",name:"allowClearButton",required:!1,type:{name:"boolean"}},getRootRef:{defaultValue:null,description:"Ссылка на корневой элемент.",name:"getRootRef",required:!1,type:{name:"Ref<HTMLDivElement>"}},renderChip:{defaultValue:{value:"Используется [Chip](#/Chip)"},description:"Render prop функция для возврата своего компонента.",name:"renderChip",required:!1,type:{name:"RenderChip<Option>"}},clearButtonShown:{defaultValue:null,description:"Показывать ли кнопку для очистки значения.",name:"clearButtonShown",required:!1,type:{name:"boolean"}},clearButtonTestId:{defaultValue:null,description:"(e2e) testId кнопки очистки.",name:"clearButtonTestId",required:!1,type:{name:"string"}},ClearButton:{defaultValue:null,description:"Кастомная кнопка для очистки значения.\nДолжна принимать обязательное свойство `onClick`.",name:"ClearButton",required:!1,type:{name:"ComponentType<FormFieldClearButtonProps>"}},disabled:{defaultValue:null,description:"Блокировка взаимодействия с компонентом.",name:"disabled",required:!1,type:{name:"boolean"}},delimiter:{defaultValue:null,description:'Символ или строка, которая будет использоваться как разделитель для автоматического создания опций из текста, введенного в поле ввода.\n\nРаботает в двух сценариях:\n1. При вводе разделителя - текст до разделителя автоматически преобразуется в новую опцию.\n   Например, при `delimiter=","` ввод "опция1," создаст опцию "опция1".\n\n2. При вставке из буфера обмена - если вставляемый текст содержит разделители,\n   он будет автоматически разбит на несколько опций.\n   Например, при `delimiter=","` вставка "опция1,опция2,опция3" создаст\n   три отдельные опции: "опция1", "опция2" и "опция3".',name:"delimiter",required:!1,type:{name:"string"}},value:{defaultValue:null,description:"Выбранные опции.",name:"value",required:!1,type:{name:"Option[]"}},onInputChange:{defaultValue:null,description:"Обработчик изменения значения в поле ввода.",name:"onInputChange",required:!1,type:{name:"OnInputChange"}},inputValue:{defaultValue:null,description:"Значение поля ввода.",name:"inputValue",required:!1,type:{name:"string"}},getRef:{defaultValue:null,description:"",name:"getRef",required:!1,type:{name:"Ref<HTMLInputElement>"}},align:{defaultValue:null,description:"",name:"align",required:!1,type:{name:"enum",value:[{value:'"center"'},{value:'"right"'},{value:'"left"'}]}},options:{defaultValue:null,description:"Список опций в выпадающем списке.",name:"options",required:!1,type:{name:"Option[]"}},creatable:{defaultValue:{value:"false"},description:"Возможность создавать чипы которых нет в списке:\n- `true` – добавление по кнопке Enter;\n- `<текст>` – помимо возможности добавления через Enter, в пункте меню появится кнопка с текстом.\nТекст для пункта, создающего чипы при нажатии, также отвечает за то, будет ли показан этот пункт\n(показывается после того как в списке не останется опций).",name:"creatable",required:!1,type:{name:"string | boolean"}},emptyText:{defaultValue:{value:"Ничего не найдено"},description:"Текст, который показывается если список опций пуст.",name:"emptyText",required:!1,type:{name:"string"}},selectedBehavior:{defaultValue:{value:"highlight"},description:"Показывать или скрывать уже выбранные опции.",name:"selectedBehavior",required:!1,type:{name:"enum",value:[{value:'"hide"'},{value:'"highlight"'}]}},filterFn:{defaultValue:null,description:"Функция для фильтрации опций в списке.",name:"filterFn",required:!1,type:{name:"false | FilterFn<Option>"}},sortFn:{defaultValue:{value:"false"},description:"Функция для сортировки опций в списке.",name:"sortFn",required:!1,type:{name:"false | SortFn<Option>"}},onClose:{defaultValue:null,description:"Будет вызвано в момент скрытия выпадающего списка.",name:"onClose",required:!1,type:{name:"VoidFunction"}},onOpen:{defaultValue:null,description:"Будет вызвано в момент открытия выпадающего списка.",name:"onOpen",required:!1,type:{name:"VoidFunction"}},getOptionValue:{defaultValue:null,description:"Селектор значения.",name:"getOptionValue",required:!1,type:{name:"GetOptionValue<Option>"}},getOptionLabel:{defaultValue:null,description:"Селектор пользовательского представления.",name:"getOptionLabel",required:!1,type:{name:"GetOptionLabel<Option>"}},getNewOptionData:{defaultValue:null,description:"Функция для создания новой опции.",name:"getNewOptionData",required:!1,type:{name:"GetNewOptionData<Option>"}},defaultValue:{defaultValue:null,description:"Выбранные опции по умолчанию.",name:"defaultValue",required:!1,type:{name:"Option[]"}},onChange:{defaultValue:null,description:"Обработчик изменения выбранных опций.",name:"onChange",required:!1,type:{name:"OnChange<Option>"}},defaultInputValue:{defaultValue:null,description:"Значение поля ввода по умолчанию.",name:"defaultInputValue",required:!1,type:{name:"string"}},mode:{defaultValue:null,description:"Режим отображения.\n\n- `default` — показывает фон, обводку и, при наличии, текст-подсказку.\n- `plain` — показывает только текст-подсказку.",name:"mode",required:!1,type:{name:"enum",value:[{value:'"plain"'},{value:'"default"'}]}},status:{defaultValue:{value:"default"},description:"Статус отображения поля в форме.",name:"status",required:!1,type:{name:"enum",value:[{value:'"default"'},{value:'"error"'},{value:'"valid"'}]}},before:{defaultValue:null,description:"Добавляет иконку слева.\n\nРекомендации:\n\n- Используйте следующие размеры иконок `12` | `16` | `20` | `24` | `28`.\n- Используйте [IconButton](https://vkcom.github.io/VKUI/#/IconButton), если вам нужна иконка, реагирующая на нажатие.",name:"before",required:!1,type:{name:"ReactNode"}},overscrollBehavior:{defaultValue:null,description:"Поведение overscroll, подробнее можно почитать в [документации](https://developer.mozilla.org/en-US/docs/Web/CSS/overscroll-behavior).",name:"overscrollBehavior",required:!1,type:{name:"enum",value:[{value:'"contain"'},{value:'"none"'},{value:'"auto"'}]}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/ChipsSelect/ChipsSelect.tsx#ChipsSelect"]={docgenInfo:ChipsSelect.__docgenInfo,name:"ChipsSelect",path:"src/components/ChipsSelect/ChipsSelect.tsx#ChipsSelect"})}catch(__react_docgen_typescript_loader_error){}}}]);