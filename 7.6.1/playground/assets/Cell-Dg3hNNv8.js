import{bu as W,bv as o4,bw as a4,r as f,l as K,bx as J,by as l4,j as i,h as B,c as Z,M as s4,i as c4}from"./iframe-CkliH7Ym.js";import{R as i4}from"./Removable-BiD1BBxW.js";import{S as G}from"./SimpleCell-JD8osR6E.js";import{A as $}from"./AdaptiveIconRenderer-tJvkXxLm.js";import{V as r4}from"./VisuallyHidden-Dn7EkmGE.js";import{I as d4,a as f4,b as E4,c as p4}from"./reorder_ios_24-CEY4fUCg.js";import{c as m4,b as F4,a as D4,I as h4}from"./check_box_on_24-Dh3SQOCq.js";import{I as y4,a as A4}from"./check_circle_on_24-C_PLodX4.js";import{I as H,A as C4,a as g4}from"./constants-CtEIZ0Vq.js";const B4=u=>{let e=[],t=null;const a=(...o)=>{e=o,!t&&(t=requestAnimationFrame(()=>{t=null,u(...e)}))};return a.cancel=()=>{t&&(cancelAnimationFrame(t),t=null)},a},Q=10,P=50,v4=(u,e)=>{const t=Math.floor(W(e).scrollTop),{relative:a,edges:o}=o4(e),E=a.height,m=a4(e)-E,p=t>0,v=t<m,[S,D]=o.y,C=u-S,h=D-u,y=C<=P,A=h<=P,F={shouldScrolling:p&&y||v&&A,y:0};return y?F.y=-1*((P-C)/P)*Q:A&&(F.y=(P-h)/P*Q),F},b4=u=>{let e=!1;const t=B4(a);function a(s){const{shouldScrolling:m,y:p}=s();m?(e=!0,u.scrollBy(0,p),t(s)):(e=!1,t.cancel())}return{tryAutoScroll:s=>{t(s)},stop:()=>{e=!1,t.cancel()},get isRunning(){return e}}},R4=(u,e)=>{const t=e.height/2;return{isUnderEl:u<=e.bottom-t,isOverEl:u>=e.top+t}},u4=(u,e)=>{requestAnimationFrame(()=>{u.style.transform=`translateY(${e}px)`})},e4=([{el:u,draggingElRect:{height:e}},t],a=0)=>{requestAnimationFrame(()=>{t==="up"?(u.style.setProperty("transition","transform 0.3s ease-in 0s"),u.style.removeProperty("transform")):(u.style.setProperty("transition","transform 0.3s ease-out 0s"),u.style.setProperty("transform",`translateY(${e+a}px)`))})},_4=({el:u,draggingElRect:e})=>{const{top:t,left:a,width:o,height:E}=e;requestAnimationFrame(()=>{u.style.setProperty("pointer-events","none"),u.style.setProperty("position","fixed"),u.style.setProperty("top",`${t}px`),u.style.setProperty("left",`${a}px`),u.style.setProperty("width",`${o}px`),u.style.setProperty("height",`${E}px`),u.style.setProperty("z-index","var(--vkui_internal--z_index_cell_dragging)"),u.style.setProperty("box-sizing","border-box"),u.style.setProperty("transform","translateY(0)")})},S4=({el:u})=>{requestAnimationFrame(()=>{u.style.removeProperty("pointer-events"),u.style.removeProperty("position"),u.style.removeProperty("top"),u.style.removeProperty("left"),u.style.removeProperty("width"),u.style.removeProperty("height"),u.style.removeProperty("z-index"),u.style.removeProperty("box-sizing"),u.style.removeProperty("transform")})},I4=({el:u,draggingElRect:e})=>{if(u.firstElementChild)return;const{width:t,height:a}=e,o=u.cloneNode();o.style.setProperty("display","block"),o.style.setProperty("width",`${t}px`),o.style.setProperty("height",`${a}px`),o.style.setProperty("pointer-events","none"),u.appendChild(o),u.style.setProperty("display","block")},t4=({el:u})=>{u.style.display="",u.removeAttribute("style"),u.firstElementChild&&u.firstElementChild.remove()},q4=({el:u,shifted:e,draggingElRect:t},a=0)=>{const{height:o}=t;requestAnimationFrame(()=>{u.style.setProperty("pointer-events","none"),u.style.setProperty("transition","none 0s ease 0s"),e&&u.style.setProperty("transform",`translateY(${o+a}px)`)})},x4=({el:u})=>{requestAnimationFrame(()=>{u.style.removeProperty("pointer-events"),u.style.removeProperty("transition"),u.style.removeProperty("transform")})},V4=({elRef:u,onDragFinish:e})=>{const[t,a]=f.useState(!1),o=f.useRef(0),E=f.useRef(0),s=f.useRef(null),m=f.useRef(0),p=f.useRef(null),v=n=>{const r=l4(n);r&&(s.current=r,m.current=W(r).scrollTop,p.current=b4(s.current))},S=()=>{var n;m.current=0,(n=p.current)==null||n.stop(),s.current=p.current=null},D=f.useRef(void 0),C=(n,r)=>{const c=n-r;return c<0?"down":c>0?"up":D.current},h=f.useRef(H),y=f.useRef(H),A=f.useRef(null),F=f.useRef(null),b=f.useRef([]),q=f.useRef(0),Y=n=>{const r=J(n,!0),c=n.parentElement;q.current=c?parseInt(c.style.gridGap):0;const{children:l}=c||{children:[]};Array.prototype.forEach.call(l,(d,_)=>{d===n?(h.current=y.current=_,A.current={index:_,el:d,draggingElRect:r}):d.getAttribute(g4)!==null?F.current={index:_,el:d,draggingElRect:r}:b.current.push({index:_,el:d,shifted:h.current!==H&&h.current<_,draggingElRect:r})}),F.current&&I4(F.current),A.current&&_4(A.current),b.current.forEach(d=>q4(d,q.current))},z=()=>{F.current&&t4(F.current),A.current&&S4(A.current),b.current.forEach(x4),b.current=[],F.current=A.current=null;const n={from:h.current,to:y.current};return h.current=y.current=H,n},w=n=>{const r=[],c=[];return y.current=h.current,b.current.forEach(l=>{const{isOverEl:d,isUnderEl:_}=R4(n,J(l.el));h.current<l.index?(d&&(y.current=y.current+1,D.current==="down"&&l.shifted&&(l.shifted=!1,r.push([l,"up"]))),_&&D.current==="up"&&!l.shifted&&(l.shifted=!0,c.push([l,"down"]))):h.current>l.index&&(_&&(y.current=y.current-1,D.current==="up"&&!l.shifted&&(l.shifted=!0,r.push([l,"down"]))),d&&D.current==="down"&&l.shifted&&(l.shifted=!1,c.push([l,"up"])))}),[r,c]},T=(n,r)=>{n.forEach(c=>e4(c,q.current)),r.forEach(c=>e4(c,q.current))},I=f.useRef(null),R=()=>{I.current&&(clearTimeout(I.current),I.current=null)},O=()=>{p.current&&p.current.tryAutoScroll(()=>s.current?v4(o.current,s.current):{shouldScrolling:!1,y:0})},L=()=>{R(),I.current=setTimeout(()=>{I.current=null,O()},C4)},U=n=>{n.originalEvent.stopPropagation(),n.originalEvent.preventDefault()},x=n=>{n.originalEvent.stopPropagation(),n.originalEvent.preventDefault();const r=u.current;if(r)if(t)if(D.current=C(E.current,n.shiftY),E.current=n.shiftY,o.current=n.clientY,p.current&&p.current.isRunning)u4(r,E.current);else{const[c,l]=w(o.current);u4(r,E.current),T(c,l),L()}else a(c=>c||(v(r),Y(r),!0))},V=n=>{if(n.originalEvent.stopPropagation(),n.originalEvent.preventDefault(),R(),S(),o.current=E.current=0,D.current=void 0,t){const r=z();e&&e(r),a(!1)}},k=f.useCallback(()=>{if(!u.current||!s.current)return;const n=W(s.current).scrollTop;D.current=C(m.current,n);const r=m.current-n,c=o.current+r;m.current=n;const[l,d]=w(c);T(l,d)},[u]);return K(function(){const r=s.current;if(!(!t||!r))return r.addEventListener("scroll",k),()=>{r&&r.removeEventListener("scroll",k)}},[t,k]),K(()=>function(){F.current&&t4(F.current)},[]),{dragging:t,onDragStart:U,onDragMove:x,onDragEnd:V}},k4="_host_89bwt_1",P4="_icon_89bwt_7",N4="_iconOn_89bwt_12",T4="_input_89bwt_16",O4="_iconOff_89bwt_16",N={host:k4,icon:P4,iconOn:N4,input:T4,iconOff:O4},M4=()=>i.jsx($,{IconCompact:h4,IconRegular:D4}),w4=()=>i.jsx($,{IconCompact:F4,IconRegular:m4}),L4=()=>i.jsx($,{IconCompact:A4,IconRegular:y4}),H4=()=>i.jsx($,{IconCompact:f4,IconRegular:d4});function j4(u){const e=Z();return u!=="auto"?u:e==="ios"||e==="vkcom"?"circle":"square"}const j=({getRootRef:u,getRef:e,className:t,style:a,type:o="auto",...E})=>{const s=j4(o),m=s==="circle"?H4:w4,p=s==="circle"?L4:M4;return i.jsxs("span",{className:B(N.host,t),style:a,ref:u,children:[i.jsx(r4,{...E,Component:"input",type:"checkbox",className:N.input,getRootRef:e}),i.jsx("span",{className:B(N.icon,N.iconOff),"aria-hidden":!0,children:i.jsx(m,{})}),i.jsx("span",{className:B(N.icon,N.iconOn),"aria-hidden":!0,children:i.jsx(p,{})})]})};try{j.displayName="CellCheckbox",j.__docgenInfo={description:"",displayName:"CellCheckbox",props:{type:{defaultValue:{value:"auto"},description:"Вид чекбокса. Если auto, то зависит от платформы.",name:"type",required:!1,type:{name:"enum",value:[{value:'"auto"'},{value:'"circle"'},{value:'"square"'}]}},defaultChecked:{defaultValue:null,description:"В режиме `selectable` реагирует на входящие значения пропса `defaultChecked` как неконтролируемый компонент.",name:"defaultChecked",required:!1,type:{name:"boolean"}},checked:{defaultValue:null,description:"В режиме `selectable` реагирует на входящие значения пропса `cheсked`, как зависящий напрямую от входящего значения.",name:"checked",required:!1,type:{name:"boolean"}},getRootRef:{defaultValue:null,description:"",name:"getRootRef",required:!1,type:{name:"Ref<HTMLSpanElement>"}},getRef:{defaultValue:null,description:"",name:"getRef",required:!1,type:{name:"Ref<HTMLInputElement>"}}}}}catch{}const $4="_host_1tkaf_2",Y4="_icon_1tkaf_9",n4={host:$4,icon:Y4},X=({elRef:u,disabled:e,className:t,onDragStateChange:a,onDragFinish:o,children:E,...s})=>{const p=Z()==="ios"?E4:p4,{dragging:v,onDragStart:S,onDragMove:D,onDragEnd:C}=V4({elRef:u,onDragFinish:o});return K(()=>{a&&a(v)},[v,a]),i.jsxs(s4,{className:B(n4.host,t),onStart:e?void 0:S,onMoveY:e?void 0:D,onEnd:e?void 0:C,...s,children:[E&&i.jsx(r4,{children:E}),i.jsx(p,{className:n4.icon})]})};try{X.displayName="CellDragger",X.__docgenInfo={description:"",displayName:"CellDragger",props:{disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}},onDragStateChange:{defaultValue:null,description:"",name:"onDragStateChange",required:!1,type:{name:"((dragging: boolean) => void)"}},elRef:{defaultValue:null,description:"",name:"elRef",required:!0,type:{name:"RefObject<HTMLElement | null>"}},onDragFinish:{defaultValue:null,description:"",name:"onDragFinish",required:!1,type:{name:"((value: SwappedItemRange) => void)"}},getRootRef:{defaultValue:null,description:"",name:"getRootRef",required:!1,type:{name:"Ref<HTMLElement>"}}}}}catch{}const z4="Перенести ячейку",U4="_host_19q95_1",G4="_dragging_19q95_5",W4="_checkbox_19q95_10",K4="_dragger_19q95_11",X4="_controlNoBefore_19q95_27",Z4="_content_19q95_36",J4="_removable_19q95_41",Q4="_ios_19q95_62",g={host:U4,dragging:G4,checkbox:W4,dragger:K4,controlNoBefore:X4,content:Z4,removable:J4,ios:Q4},M=({mode:u,onRemove:e,removePlaceholder:t="Удалить",onDragFinish:a,before:o,after:E,disabled:s,draggable:m,Component:p,onChange:v,name:S,value:D,checked:C,defaultChecked:h,getRootRef:y,draggerLabel:A=z4,className:F,style:b,toggleButtonTestId:q,removeButtonTestId:Y,href:z,...w})=>{const[T,I]=f.useState(!1),R=u==="selectable",O=u==="removable",L=R?"label":p,U=R?void 0:z,x=Z(),V=c4(y),k=m?i.jsx(X,{elRef:V,className:B(g.dragger,!o&&!R&&g.controlNoBefore),onDragStateChange:I,onDragFinish:a,children:A}):null;let n;if(R){const d={name:S,value:D,defaultChecked:h,checked:C,disabled:s,onChange:v};n=i.jsx(j,{className:B(g.checkbox,!o&&g.controlNoBefore),...d})}const r=!s&&!T,c=B(g.host,T&&g.dragging,x==="ios"&&g.ios,O&&g.removable),l={hasActive:r,hasHover:r&&!O,disabled:s,href:U,...w,className:g.content,...L&&{Component:L},before:i.jsxs(f.Fragment,{children:[m&&x!=="ios"&&k,R&&n,o]}),after:i.jsxs(f.Fragment,{children:[m&&x==="ios"&&k,E]})};return O?i.jsx(i4,{className:B(c,F),style:b,getRootRef:V,removePlaceholder:t,onRemove:d=>e==null?void 0:e(d,V.current),toggleButtonTestId:q,removeButtonTestId:Y,disabled:s,children:x==="ios"?({isRemoving:d})=>i.jsx(G,{...l,...d?{onClick:void 0}:{}}):i.jsx(G,{...l})}):i.jsx("div",{className:B(c,F),style:b,ref:V,children:i.jsx(G,{...l})})};M.Checkbox=j;try{M.displayName="Cell",M.__docgenInfo={description:"",displayName:"Cell",props:{mode:{defaultValue:null,description:`Режим отображения ячейки:

- "removable": добавляется кнопка для удаления
- "selectable": добавляется чекбокс для выбора.`,name:"mode",required:!1,type:{name:"enum",value:[{value:'"selectable"'},{value:'"removable"'}]}},draggable:{defaultValue:null,description:"В режиме перетаскивания ячейка перестает реагировать на нажатие, то есть при нажатии переданный `onClick` вызываться не будет.",name:"draggable",required:!1,type:{name:"boolean"}},name:{defaultValue:null,description:"Имя для `input` в режиме `selectable`.",name:"name",required:!1,type:{name:"string"}},checked:{defaultValue:null,description:"В режиме `selectable` реагирует на входящие значения пропса `cheсked`, как зависящий напрямую от входящего значения.",name:"checked",required:!1,type:{name:"boolean"}},defaultChecked:{defaultValue:null,description:"В режиме `selectable` реагирует на входящие значения пропса `defaultChecked` как неконтролируемый компонент.",name:"defaultChecked",required:!1,type:{name:"boolean"}},onDragFinish:{defaultValue:null,description:"Обработчик, срабатывающий при завершении перетаскивания.\n**Важно:** режим перетаскивания не меняет порядок ячеек в DOM. В обработчике есть объект с полями `from` и `to`.\nЭти числа нужны для того, чтобы разработчик понимал, с какого индекса на какой произошел переход. В песочнице\nесть рабочий пример с обработкой этих чисел и перерисовкой списка.",name:"onDragFinish",required:!1,type:{name:"((swappedItemRange: SwappedItemRange) => void)"}},draggerLabel:{defaultValue:{value:"Перенести ячейку"},description:"Текст для кнопки перетаскивания ячейки.",name:"draggerLabel",required:!1,type:{name:"string"}},disabled:{defaultValue:null,description:"Блокировка взаимодействия с компонентом.",name:"disabled",required:!1,type:{name:"boolean"}},Component:{defaultValue:null,description:"",name:"Component",required:!1,type:{name:"ElementType<any, keyof IntrinsicElements>"}},subtitle:{defaultValue:null,description:"Дополнительная строка текста под `children`.",name:"subtitle",required:!1,type:{name:"ReactNode"}},before:{defaultValue:null,description:"Иконка 28 или `<Avatar size={28|32|40|48|72} />`.",name:"before",required:!1,type:{name:"ReactNode"}},after:{defaultValue:null,description:"Иконка 24|28 или `<Switch />`. Располагается справа от `indicator`.",name:"after",required:!1,type:{name:"ReactNode"}},multiline:{defaultValue:null,description:"Включает многострочный режим для отображения текста.",name:"multiline",required:!1,type:{name:"boolean"}},chevron:{defaultValue:null,description:"Управляет видимостью иконки шеврона `›`.\n\n- `auto` - добавляет шеврон справа только для платформы `ios`;\n- `always` - всегда показывает шеврон.",name:"chevron",required:!1,type:{name:"enum",value:[{value:'"auto"'},{value:'"always"'}]}},borderRadiusMode:{defaultValue:null,description:"Задает border-radius элементу\nВ режиме `auto` на маленьких экранах `border-radius: 0`, иначе определяется токеном `--vkui--size_border_radius--regular`.",name:"borderRadiusMode",required:!1,type:{name:"enum",value:[{value:'"inherit"'},{value:'"auto"'}]}},activeClassName:{defaultValue:null,description:"Стиль подсветки `active`-состояния.\n@deprecated Since 7.3.0.\n\nСвойство устарело и будет удалено в `v8`, используйте свойство `activeMode`.",name:"activeClassName",required:!1,type:{name:"string"}},hoverClassName:{defaultValue:null,description:"Стиль подсветки `hover`-состояния.\n@deprecated Since 7.3.0.\n\nСвойство устарело и будет удалено в `v8`, используйте свойство `hoverMode`.",name:"hoverClassName",required:!1,type:{name:"string"}},baseClassName:{defaultValue:null,description:"@deprecated Since 7.3.0.\n\nСвойство устарело и будет удалено в `v8`, используйте свойство `className`.",name:"baseClassName",required:!1,type:{name:"string | false"}},baseStyle:{defaultValue:null,description:"@deprecated Since 7.3.0.\n\nСвойство устарело и будет удалено в `v8`, используйте свойство `style`.",name:"baseStyle",required:!1,type:{name:"CSSProperties"}},focusVisibleMode:{defaultValue:null,description:"Стиль аутлайна focus visible. Если передать произвольную строку, она добавится как css-класс при :focus-visible",name:"focusVisibleMode",required:!1,type:{name:"FocusVisibleMode"}},hasHover:{defaultValue:null,description:"Указывает, должен ли компонент реагировать на `hover`-состояние.",name:"hasHover",required:!1,type:{name:"boolean"}},hovered:{defaultValue:null,description:"Позволяет управлять `hovered`-состоянием извне.",name:"hovered",required:!1,type:{name:"boolean"}},activated:{defaultValue:null,description:"Позволяет управлять `activated`-состоянием извне.",name:"activated",required:!1,type:{name:"boolean"}},hasActive:{defaultValue:null,description:"Указывает, должен ли компонент реагировать на `active`-состояние.",name:"hasActive",required:!1,type:{name:"boolean"}},hasHoverWithChildren:{defaultValue:null,description:`Позволяет родительскому компоненту
иметь \`hovered\`-cостояние при наведении
на любой дочерний элемент.
По умолчанию состояние hovered у родителя сбрасывается.

Присваивается родителькому компоненту.
@example <Tappable hasHoverWithChildren>
  <IconButton />
  <IconButton />
  <IconButton />
</Tappable>`,name:"hasHoverWithChildren",required:!1,type:{name:"boolean"}},unlockParentHover:{defaultValue:null,description:`Позволяет родительскому компоненту показывать hovered-состояние при наведении
на текущий дочерний компонент.

Присваивается дочернему компоненту.
@example <Tappable>
  <IconButton unlockParentHover />
  <IconButton unlockParentHover />
  <IconButton />
</Tappable>`,name:"unlockParentHover",required:!1,type:{name:"boolean"}},activeEffectDelay:{defaultValue:null,description:"Длительность показа `active`-состояния.",name:"activeEffectDelay",required:!1,type:{name:"number"}},activeMode:{defaultValue:null,description:"Стиль подсветки active-состояния. Если передать произвольную строку, она добавится как css-класс во время active.",name:"activeMode",required:!1,type:{name:"StateModeLiteral"}},hoverMode:{defaultValue:null,description:"Стиль подсветки hover-состояния. Если передать произвольную строку, она добавится как css-класс во время hover.",name:"hoverMode",required:!1,type:{name:"StateModeLiteral"}},badgeBeforeTitle:{defaultValue:null,description:"Иконка 12 или `<Badge />`. Добавится слева от текста `children`.",name:"badgeBeforeTitle",required:!1,type:{name:"ReactNode"}},badgeAfterTitle:{defaultValue:null,description:"Иконка 12 или `<Badge />`. Добавится справа от текста `children`.",name:"badgeAfterTitle",required:!1,type:{name:"ReactNode"}},badgeBeforeSubtitle:{defaultValue:null,description:"Иконка 12. Добавится слева от текста `subtitle`.",name:"badgeBeforeSubtitle",required:!1,type:{name:"ReactNode"}},badgeAfterSubtitle:{defaultValue:null,description:"Иконка 12. Добавится справа от текста `subtitle`.",name:"badgeAfterSubtitle",required:!1,type:{name:"ReactNode"}},indicator:{defaultValue:null,description:"Контейнер для текста справа от `children`.",name:"indicator",required:!1,type:{name:"ReactNode"}},overTitle:{defaultValue:null,description:"Дополнительная строка текста над `children`.",name:"overTitle",required:!1,type:{name:"ReactNode"}},extraSubtitle:{defaultValue:null,description:"Дополнительная строка текста под `children` и `subtitle`.",name:"extraSubtitle",required:!1,type:{name:"ReactNode"}},chevronSize:{defaultValue:null,description:"Размер chevron.",name:"chevronSize",required:!1,type:{name:"enum",value:[{value:'"s"'},{value:'"m"'}]}},removePlaceholder:{defaultValue:{value:"Удалить"},description:"Текст кнопки удаления ячейки. Визуально скрыт везде, кроме iOS. На iOS появляется в выезжающей кнопке для удаления ячейки.",name:"removePlaceholder",required:!1,type:{name:"ReactNode"}},onRemove:{defaultValue:null,description:"Обработчик, срабатывающий при нажатии на контрол удаления.",name:"onRemove",required:!1,type:{name:"((e: MouseEvent<Element, MouseEvent>, rootEl?: HTMLElement | null) => void)"}},toggleButtonTestId:{defaultValue:null,description:"Передает атрибут `data-testid` для кнопки, которая активирует кнопку удаления (iOS only).",name:"toggleButtonTestId",required:!1,type:{name:"string"}},removeButtonTestId:{defaultValue:null,description:"Передает атрибут `data-testid` для кнопки удаления.",name:"removeButtonTestId",required:!1,type:{name:"string"}},getRootRef:{defaultValue:null,description:"",name:"getRootRef",required:!1,type:{name:"Ref<HTMLDivElement>"}}}}}catch{}try{M.Checkbox.displayName="Cell.Checkbox",M.Checkbox.__docgenInfo={description:"",displayName:"Cell.Checkbox",props:{type:{defaultValue:{value:"auto"},description:"Вид чекбокса. Если auto, то зависит от платформы.",name:"type",required:!1,type:{name:"enum",value:[{value:'"auto"'},{value:'"circle"'},{value:'"square"'}]}},defaultChecked:{defaultValue:null,description:"В режиме `selectable` реагирует на входящие значения пропса `defaultChecked` как неконтролируемый компонент.",name:"defaultChecked",required:!1,type:{name:"boolean"}},checked:{defaultValue:null,description:"В режиме `selectable` реагирует на входящие значения пропса `cheсked`, как зависящий напрямую от входящего значения.",name:"checked",required:!1,type:{name:"boolean"}},getRootRef:{defaultValue:null,description:"",name:"getRootRef",required:!1,type:{name:"Ref<HTMLSpanElement>"}},getRef:{defaultValue:null,description:"",name:"getRef",required:!1,type:{name:"Ref<HTMLInputElement>"}}}}}catch{}export{M as C,j as a};
