import{d as R,e as d,o as z,f as g,h as O,i as E,s as k,j as A,k as C,l as I}from"./FloatingArrow-BwItcUE2.js";import{aa as P,ak as U,r as l,m as x}from"./iframe-BW2_2Sqh.js";const L={ancestorScroll:!0,ancestorResize:!0,elementResize:!1,animationFrame:!1};function D(s,e,a,o=L){const{elementResize:n=!1,...c}=o,u=window.ResizeObserver!==void 0,r=R(s,e,a,{...c,elementResize:n&&u});let t=null;return n&&!u&&(t=new U(a),P(s)&&t.observe(s),t.observe(e),t.appendToTheDOM()),()=>{t&&(t.disconnect(),t=null),r()}}const F=({placement:s="bottom-start",arrowRef:e=null,arrow:a,arrowHeight:o,arrowPadding:n,sameWidth:c,offsetByMainAxis:u=0,offsetByCrossAxis:r=0,customMiddlewares:t,hideWhenReferenceHidden:f,disableFlipMiddleware:p=!1,flipMiddlewareFallbackAxisSideDirection:m="start"})=>l.useMemo(()=>{const h=!d(s),i=[z({crossAxis:r,mainAxis:a&&o?u+o:u})];return h?i.push(g({alignment:O(s)})):p||i.push(E({fallbackAxisSideDirection:m,crossAxis:!1})),i.push(k()),c&&i.push(A({apply({rects:v,elements:b}){Object.assign(b.floating.style,{width:`${v.reference.width}px`})}})),t&&i.push(...t),a&&i.push(C({element:e,padding:n})),f&&i.push(I()),{middlewares:i,strictPlacement:h?void 0:s}},[s,r,a,o,u,p,m,c,t,f,e,n]);function N(s,e,a){const o=l.useRef(void 0);l.useEffect(()=>{o.current=e}),x(()=>{if(!a)return;const n=o.current;(n===void 0&&s!==e||n!==void 0&&n!==e)&&a(e)},[s,e,a])}export{N as a,D as b,F as u};
