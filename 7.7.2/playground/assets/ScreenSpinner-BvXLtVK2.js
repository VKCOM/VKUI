import{r as _,j as a,R as y,h as v,aM as D,af as q}from"./iframe-qoTtUH8h.js";import{A as E}from"./AppRootPortal-xRZPOq86.js";import{P as I}from"./PopoutWrapper-BQ5tKZ0Z.js";import{h}from"./react_utils-CSZjvU4X.js";import{F as L}from"./Footnote-DrM4b0WC.js";import{s as j}from"./animationVisibilityDelay.module-DjZYURHD.js";import{S as x}from"./Spinner-C8UkQVmM.js";import{m as N}from"./mergeCalls-Bc-HqyI0.js";import{I as V}from"./cancel_24-CLPDrLYl.js";const b=_.createContext({state:"loading",label:void 0,customIcon:void 0}),w="_host_5shjq_1",A="_hasLabel_5shjq_12",M="_modeShadow_5shjq_22",T="_modeOverlay_5shjq_28",B="_label_5shjq_33",H="_spinner_5shjq_43",O="_spinnerTransition_5shjq_47",k="_stateDone_5shjq_51",F="_stateError_5shjq_52",P="_stateCustom_5shjq_53",K="_iconSlot_5shjq_57",W="_icon_5shjq_57",Z="_stateCancelable_5shjq_76",u={host:w,hasLabel:A,modeShadow:M,modeOverlay:T,label:B,spinner:H,spinnerTransition:O,stateDone:k,stateError:F,stateCustom:P,iconSlot:K,icon:W,stateCancelable:Z},z={cancelable:u.stateCancelable,done:u.stateDone,error:u.stateError,custom:u.stateCustom},G={shadow:u.modeShadow,overlay:u.modeOverlay},i=({state:e="loading",mode:t="shadow",customIcon:n,label:l,children:r,visibilityDelay:s,...p})=>a.jsx(b.Provider,{value:{state:e,label:l,customIcon:n},children:a.jsxs(y,{baseClassName:v(u.host,G[t],e!=="loading"&&z[e],h(l)&&u.hasLabel,s&&j.visibilityDelay),...p,children:[a.jsx("div",{className:u.iconSlot,children:r}),h(l)&&a.jsx(L,{className:u.label,"aria-hidden":!0,children:l})]})});try{i.displayName="ScreenSpinnerContainer",i.__docgenInfo={description:"",displayName:"ScreenSpinnerContainer",props:{getRootRef:{defaultValue:null,description:"",name:"getRootRef",required:!1,type:{name:"Ref<HTMLSpanElement>"}},label:{defaultValue:null,description:"Текст под иконкой.",name:"label",required:!1,type:{name:"ReactNode"}},mode:{defaultValue:{value:"shadow"},description:"Внешний вид отображения спиннера.",name:"mode",required:!1,type:{name:"enum",value:[{value:'"overlay"'},{value:'"shadow"'}]}},visibilityDelay:{defaultValue:null,description:"Задерживает отрисовку элемента на заданное количество миллисекунд.",name:"visibilityDelay",required:!1,type:{name:"number"}},state:{defaultValue:{value:"loading"},description:"Тип отображения спиннера.",name:"state",required:!1,type:{name:"enum",value:[{value:'"done"'},{value:'"loading"'},{value:'"custom"'},{value:'"error"'},{value:'"cancelable"'}]}},customIcon:{defaultValue:null,description:'Кастомная иконка, работает совместно со `state="custom"`.',name:"customIcon",required:!1,type:{name:"ReactNode"}}}}}catch{}const c=({children:e,...t})=>{const{label:n}=_.useContext(b),l=e??n;return a.jsx(x,{className:v(u.spinner,!n&&u.spinnerTransition),size:"xl",noColor:!0,...t,children:l})};try{c.displayName="ScreenSpinnerLoader",c.__docgenInfo={description:"",displayName:"ScreenSpinnerLoader",props:{getRootRef:{defaultValue:null,description:"",name:"getRootRef",required:!1,type:{name:"Ref<HTMLSpanElement>"}},disableAnimation:{defaultValue:null,description:"Отключение анимации.",name:"disableAnimation",required:!1,type:{name:"boolean"}},noColor:{defaultValue:null,description:"Задать цвет можно будет через свойство color родителя.",name:"noColor",required:!1,type:{name:"boolean"}},visibilityDelay:{defaultValue:null,description:"Задерживает отрисовку элемента на заданное количество миллисекунд.",name:"visibilityDelay",required:!1,type:{name:"number"}}}}}catch{}const m=e=>a.jsx("svg",{className:"vkuiIcon",width:"48",height:"48",viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:a.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M40 24c0 8.837-7.163 16-16 16S8 32.837 8 24 15.163 8 24 8s16 7.163 16 16Zm-10.08-4.33a1.125 1.125 0 0 0-1.59-1.59L24 22.409l-4.33-4.33a1.125 1.125 0 0 0-1.59 0l-.101.116a1.125 1.125 0 0 0 .1 1.476L22.41 24l-4.33 4.33a1.125 1.125 0 0 0 1.591 1.59L24 25.591l4.33 4.33c.439.439 1.151.439 1.59 0l.101-.116a1.125 1.125 0 0 0-.1-1.476L25.59 24l4.33-4.33Z",fill:"currentColor"})});try{m.displayName="Icon48CancelCircle",m.__docgenInfo={description:"",displayName:"Icon48CancelCircle",props:{}}}catch{}const f=e=>a.jsx("svg",{className:"vkuiIcon",width:"48",height:"48",viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:a.jsx("path",{d:"M9 24L19 34L39 14",stroke:"currentColor",strokeWidth:"3.5",strokeLinecap:"round",strokeLinejoin:"round"})});try{f.displayName="Icon48DoneOutline",f.__docgenInfo={description:"",displayName:"Icon48DoneOutline",props:{}}}catch{}const J=({onKeyDown:e,"aria-label":t="Отменить",...n})=>{let r={...N({onKeyDown:D},{onKeyDown:e}),tabIndex:0,role:"button","aria-label":t};return a.jsx(y,{baseClassName:u.icon,...r,...n,children:a.jsx(V,{})})},d=({cancelLabel:e,...t})=>{const{state:n,customIcon:l}=_.useContext(b);if(n==="cancelable")return a.jsx(J,{"aria-label":e,...t});const r=()=>{if(n==="custom")return l;const s={loading:()=>null,done:f,error:m}[n];return a.jsx(s,{})};return a.jsx(y,{baseClassName:u.icon,...t,children:r()})};try{d.displayName="ScreenSpinnerSwapIcon",d.__docgenInfo={description:"",displayName:"ScreenSpinnerSwapIcon",props:{getRootRef:{defaultValue:null,description:"",name:"getRootRef",required:!1,type:{name:"Ref<HTMLElement>"}},cancelLabel:{defaultValue:null,description:"",name:"cancelLabel",required:!1,type:{name:"string"}}}}}catch{}const o=({style:e,className:t,state:n="loading",onClick:l,cancelLabel:r,mode:s,label:p,customIcon:S,usePortal:g,visibilityDelay:C,...R})=>(q(),a.jsx(E,{usePortal:g,children:a.jsx(I,{className:t,style:e,noBackground:!0,strategy:"fixed",children:a.jsxs(i,{state:n,mode:s,label:p,customIcon:S,visibilityDelay:C,children:[a.jsx(c,{...R}),a.jsx(d,{onClick:l,cancelLabel:r})]})})}));o.Container=i;o.Loader=c;o.SwapIcon=d;try{o.displayName="ScreenSpinner",o.__docgenInfo={description:"",displayName:"ScreenSpinner",props:{getRootRef:{defaultValue:null,description:"",name:"getRootRef",required:!1,type:{name:"Ref<HTMLSpanElement>"}},disableAnimation:{defaultValue:null,description:"Отключение анимации.",name:"disableAnimation",required:!1,type:{name:"boolean"}},noColor:{defaultValue:null,description:"Задать цвет можно будет через свойство color родителя.",name:"noColor",required:!1,type:{name:"boolean"}},visibilityDelay:{defaultValue:null,description:"Задерживает отрисовку элемента на заданное количество миллисекунд.",name:"visibilityDelay",required:!1,type:{name:"number"}},usePortal:{defaultValue:{value:"true (использует `document.body` как портал по умолчанию)"},description:"Настройка портала для рендеринга компонента.\n\n`true` - использует `portalRoot` из контекста `AppRoot` (если доступен) или `document.body`;\n`false` - отключает использование портала;\n`HTMLElement` - указывает конкретный DOM-элемент для использования в качестве портала;\n`React.RefObject<HTMLElement | null>` - ссылка на DOM-элемент для использования в качестве портала;\n`null` - эквивалентно `false`, отключает использование портала.",name:"usePortal",required:!1,type:{name:"boolean | HTMLElement | RefObject<HTMLElement | null> | null"}},state:{defaultValue:{value:"loading"},description:"Тип отображения спиннера.",name:"state",required:!1,type:{name:"enum",value:[{value:'"done"'},{value:'"loading"'},{value:'"custom"'},{value:'"error"'},{value:'"cancelable"'}]}},customIcon:{defaultValue:null,description:'Кастомная иконка, работает совместно со `state="custom"`.',name:"customIcon",required:!1,type:{name:"ReactNode"}},mode:{defaultValue:null,description:"Внешний вид отображения спиннера.",name:"mode",required:!1,type:{name:"enum",value:[{value:'"overlay"'},{value:'"shadow"'}]}},label:{defaultValue:null,description:"Текст под иконкой.",name:"label",required:!1,type:{name:"ReactNode"}},cancelLabel:{defaultValue:null,description:"Используется при `state='cancelable'`. Делает доступным для ассистивных технологий.",name:"cancelLabel",required:!1,type:{name:"string"}}}}}catch{}try{o.Container.displayName="ScreenSpinner.Container",o.Container.__docgenInfo={description:"",displayName:"ScreenSpinner.Container",props:{getRootRef:{defaultValue:null,description:"",name:"getRootRef",required:!1,type:{name:"Ref<HTMLSpanElement>"}},label:{defaultValue:null,description:"Текст под иконкой.",name:"label",required:!1,type:{name:"ReactNode"}},mode:{defaultValue:{value:"shadow"},description:"Внешний вид отображения спиннера.",name:"mode",required:!1,type:{name:"enum",value:[{value:'"overlay"'},{value:'"shadow"'}]}},visibilityDelay:{defaultValue:null,description:"Задерживает отрисовку элемента на заданное количество миллисекунд.",name:"visibilityDelay",required:!1,type:{name:"number"}},state:{defaultValue:{value:"loading"},description:"Тип отображения спиннера.",name:"state",required:!1,type:{name:"enum",value:[{value:'"done"'},{value:'"loading"'},{value:'"custom"'},{value:'"error"'},{value:'"cancelable"'}]}},customIcon:{defaultValue:null,description:'Кастомная иконка, работает совместно со `state="custom"`.',name:"customIcon",required:!1,type:{name:"ReactNode"}}}}}catch{}try{o.Loader.displayName="ScreenSpinner.Loader",o.Loader.__docgenInfo={description:"",displayName:"ScreenSpinner.Loader",props:{getRootRef:{defaultValue:null,description:"",name:"getRootRef",required:!1,type:{name:"Ref<HTMLSpanElement>"}},disableAnimation:{defaultValue:null,description:"Отключение анимации.",name:"disableAnimation",required:!1,type:{name:"boolean"}},noColor:{defaultValue:null,description:"Задать цвет можно будет через свойство color родителя.",name:"noColor",required:!1,type:{name:"boolean"}},visibilityDelay:{defaultValue:null,description:"Задерживает отрисовку элемента на заданное количество миллисекунд.",name:"visibilityDelay",required:!1,type:{name:"number"}}}}}catch{}try{o.SwapIcon.displayName="ScreenSpinner.SwapIcon",o.SwapIcon.__docgenInfo={description:"",displayName:"ScreenSpinner.SwapIcon",props:{getRootRef:{defaultValue:null,description:"",name:"getRootRef",required:!1,type:{name:"Ref<HTMLElement>"}},cancelLabel:{defaultValue:null,description:"",name:"cancelLabel",required:!1,type:{name:"string"}}}}}catch{}export{o as S};
