<Overview>

# ModalCardBase

Базовый компонент для создания модальных карточек с гибким содержимым. Используется как основа для [`ModalCard`](#/ModalCard).

</Overview>

## Основная структура

```jsx
<ModalCardBase
  icon={<Icon56MoneyTransferOutline />}
  title="Подтверждение перевода"
  description="Сумма: 5 000 ₽ · Получатель: Иван Петров"
  actions={
    <ButtonGroup mode="horizontal" gap="s" stretched>
      <Button size="l" mode="primary" stretched>
        Подтвердить
      </Button>
      <Button size="l" mode="secondary" stretched>
        Отмена
      </Button>
    </ButtonGroup>
  }
  dismissLabel="Закрыть"
/>
```

## Ключевые элементы

### Визуальные компоненты

1. **Иконка (icon)**:

- Рекомендуется использовать контурные иконки 56px: `<Icon56...Outline />`
- Аватар 72px: `<Avatar size={72} src={...} />`

2. **Текстовые блоки**:

- **title** - Основной заголовок
- **description** - Поясняющий текст
- Поддерживают HTML и React-элементы

### Интерактивные элементы

- **actions** - группа кнопок
- **outsideButtons** - Дополнительные элементы управления (только для десктопа). Рекомендуется использовать компонент [`ModalOutsideButton`](#/ModalOutsideButton)

## Блокировка закрытия

Свойство `preventClose` отключает закрытие по клику/свайпу/ESC

## Размеры и адаптивность

- **size** - Максимальная ширина для десктопа (по умолчанию 450px)
- Автоматическая адаптация под мобильные устройства

## Кнопка для закрытия

Через свойство `dismissButtonMode=inside|outside|none` можно задать вид кнопки закрытия.
Согласно нашим дизайн-гайдам, `dismissButtonMode=outside` отображается только для `compact`-режима (десктопная и планшетные версии).
Для `iOS` всегда будет применяться `dismissButtonMode=inside` в `regular`-режиме (мобильная версия).

> **Важно**
>
> Обратите внимание, что свойство `dismissButtonMode=none`, которое позволяет скрыть крестик, или свойство `preventClose`,
> отключающее возможность закрыть модалку стандартными способами,
> негативно влияет на пользовательский опыт, используйте эти свойства только если точно знаете, что делаете.

## Отступы между контентом и кнопками действий (`actions`)

По умолчанию верхний отступ от кнопок действий `actions` равняется `16px`. Согласно дизайн-системе отступ может быть больше в зависимости от того какие данные отображаются внутри `ModalCardBase`.
Если необходимо увеличить отступ, то передавайте в `actions` компонент [Spacing](#/Spacing).

```jsx static
<ModalCardBase
  dismissButtonMode="inside"
  dismissLabel="Закрыть"
  style={{ width: 450, marginBottom: 20 }}
  title="Десктопная и планшетная версии с крестиком внутри"
  description="Сверху будет безопасный отступ до иконки"
  actions={
    <React.Fragment>
      <Spacing size={16} />
      <Button size="l" mode="primary" stretched>
        Некая кнопка
      </Button>
    </React.Fragment>
  }
/>
```

## Цифровая доступность (a11y)

- Если `ModalCardBase` является модальным окном, то ему, или его родителю, надо добавить аттрибуты `role="dialog"` и `aria-modal="true"`, чтобы пользователи клавиатуры или скринридера не могли выйти за пределы модального окна пока оно не закрылось. Также у него обязательно должно быть имя — его краткое название. Благодаря этому пользователи вспомогательных технологий знают, что это за элемент и какое у него содержимое.

Задать имя можно с помощью следующих способов:

- используя свойство `title`. Тогда следует также передать `aria-labelledby` и `titleId` так, чтобы они имели одинаковые значения, чтобы можно было связать `title` и модальное окно. Мы не делаем этого автоматически потому что не можем быть уверены на каком уровне будут заданы `role` и `aria-modal`;
- используя свойство `aria-label`;
- используя свойство `aria-labelledby`. Если не использовать свойство `title`, то можно передать `id` любого контейнера с текстом;

- Чтобы кнопка для закрытия была доступной для ассистивных технологий, мы передаем в нее скрытый визуально текст, который сможет прочитать скринридер. Чтобы заменить текст, передайте его в `dismissLabel`.
