---
description: MCP-сервер VKUI — подключение AI-ассистентов к документации компонентов, хуков, примеров кода и миграций.
---

<Overview type="doc">
# MCP-сервер

MCP-сервер VKUI даёт AI-ассистентам (Cursor, Claude Desktop и другим клиентам с поддержкой [Model Context Protocol](https://modelcontextprotocol.io/)) доступ к актуальной документации: списку компонентов и хуков, их свойствам, примерам кода и рекомендациям по миграции на v8.
</Overview>

## Зачем нужен [#why]

- **Подсказки по API** — ассистент может подсказать пропсы компонента, примеры использования и ссылку на документацию.
- **Миграция на v8** — по имени компонента или хука можно получить рекомендации по обновлению кода.
- **Поиск по примерам** — список примеров и код конкретного примера по id.

Данные подгружаются с сайта документации (по умолчанию [vkui.io](https://vkui.io)), поэтому контекст всегда соответствует опубликованной документации.

## Что такое MCP [#what-is-mcp]

[Model Context Protocol (MCP)](https://modelcontextprotocol.io/) — открытый протокол для подключения AI-приложений к внешним данным и инструментам. Сервер предоставляет **инструменты (tools)** — функции, которые клиент может вызывать, и **ресурсы (resources)** — URI, по которым можно читать контент без вызова инструментов. VKUI MCP реализует и то, и другое.

## Подключение [#setup]

### Запуск через npx [#setup-npx]

Сервер можно запускать без установки пакета в проект:

```bash
npx @vkontakte/vkui-mcp
```

Или с явной версией:

```bash
npx @vkontakte/vkui-mcp@latest
```

### Cursor [#setup-cursor]

В конфиг MCP Cursor (например `.cursor/mcp.json` или настройки Cursor) добавьте:

```json
{
  "mcpServers": {
    "vkui": {
      "command": "npx",
      "args": ["-y", "@vkontakte/vkui-mcp"]
    }
  }
}
```

Опция `-y` у `npx` разрешает автоматическую установку пакета при первом запуске.

### Другие MCP-клиенты [#setup-other]

Любой клиент, поддерживающий MCP через **stdio** (стандартный ввод/вывод), может подключать сервер, запуская процесс:

- **command:** `npx`
- **args:** `["-y", "@vkontakte/vkui-mcp"]`

Например, в [Claude Desktop](https://docs.anthropic.com/claude/docs/claude-desktop) конфиг может выглядеть так:

```json
{
  "mcpServers": {
    "vkui": {
      "command": "npx",
      "args": ["-y", "@vkontakte/vkui-mcp"]
    }
  }
}
```

### Установка в проект [#setup-install]

Если нужно зафиксировать версию в проекте:

```bash
npm install -D @vkontakte/vkui-mcp
# или
yarn add -D @vkontakte/vkui-mcp
```

После этого в конфиге MCP укажите локальный бинарник:

```json
{
  "mcpServers": {
    "vkui": {
      "command": "node",
      "args": ["node_modules/@vkontakte/vkui-mcp/dist/cli.js"]
    }
  }
}
```

## Переменные окружения [#env]

| Переменная | Описание |
|------------|----------|
| `VKUI_DOCS_BASE_URL` | Базовый URL документации. По умолчанию используется `https://vkui.io`. От этого URL подгружаются JSON с компонентами, хуками и примерами. Менять имеет смысл при локальной разработке или при развёртывании документации по другому адресу. |

## Инструменты (Tools) [#tools]

Инструменты вызываются клиентом по запросу пользователя или модели.

### Компоненты

| Инструмент | Описание |
|------------|----------|
| `list_components` | Список всех компонентов (имя, slug, описание, количество примеров). |
| `get_component_metadata` | Карточка компонента: описание, пропсы (в т.ч. типы и значения по умолчанию), список примеров с кодом. Параметры: `name` (например `Button`) или `slug` (например `button`). |

### Хуки

| Инструмент | Описание |
|------------|----------|
| `list_hooks` | Список всех хуков (имя, slug, описание, количество примеров). |
| `get_hook_metadata` | Карточка хука: описание, пропсы, примеры. Параметры: `name` или `slug`. |

### Примеры кода

| Инструмент | Описание |
|------------|----------|
| `list_examples` | Список всех примеров. Опциональный параметр `component` — фильтр по имени или slug компонента/хука. |
| `get_example` | Данные одного примера по `id`: заголовок, код, компонент, путь к источнику. |

### Миграция на v8

| Инструмент | Описание |
|------------|----------|
| `list_migration_targets` | Список имён компонентов и хуков, для которых есть рекомендации по миграции на v8. |
| `get_migration_target` | Рекомендации по миграции для одного компонента/хука. Параметр `name` — имя из списка целей миграции. Возвращает фрагменты кода «до» и «после». |

## Ресурсы (Resources) [#resources]

Ресурсы позволяют подключать данные по URI без вызова инструментов — удобно подставлять контекст «как файл».

| URI | Описание |
|-----|----------|
| `vkui://migration/v8` | Статический ресурс: обзор миграции на v8 и список всех целей миграции (JSON). |
| `vkui://component/{slug}` | Карточка компонента по slug (например `vkui://component/button`). В списке ресурсов отображаются все компоненты; автодополнение по slug. |
| `vkui://migration/{name}` | Рекомендации по миграции для одного компонента или хука по имени (например `vkui://migration/Button`). В списке — все цели миграции; автодополнение по имени. |

Использование ресурсов зависит от клиента: например, в Cursor их можно добавлять в контекст через список ресурсов или по URI.

## Итог [#summary]

- Подключите сервер через `npx` или установите пакет `@vkontakte/vkui-mcp`.
- В Cursor и других MCP-клиентах укажите команду запуска в конфиге MCP.
- Используйте инструменты для запросов списков и метаданных, ресурсы — для чтения контекста по URI.
- При необходимости задайте `VKUI_DOCS_BASE_URL` для альтернативного источника документации.

Подробности и исходный код: [@vkontakte/vkui-mcp на npm](https://www.npmjs.com/package/@vkontakte/vkui-mcp).
