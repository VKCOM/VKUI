<Overview>

# ActionSheetItem

Компонент для отображения элемента всплывающего меню `ActionSheet`. Каждому компоненту можно задать различные режимы отображения,
добавлять иконки и метаданные.

</Overview>

<Playground>
  ```jsx
  <ActionSheetItem>Сохранить</ActionSheetItem>
  ```
</Playground>

## Внешний вид

### Цвет

Задаётся свойством `mode`.

#### `"default"`

Стандартный цвет отображения текста, используется в действиях, где нет необходимости в привлечении дополнительного внимания.

<Playground>
  ```jsx
  <ActionSheetItem>Сохранить</ActionSheetItem>
  ```
</Playground>

#### `"destructive"`

Цвет критических действий (чаще всего красный), старайтесь располагать такие действия сверху списка,
где они наиболее заметны.

<Playground>
  ```jsx
  <ActionSheetItem mode="destructive">Удалить</ActionSheetItem>
  ```
</Playground>

#### `"cancel"`

Цвет действия отмены.

<Playground>
  ```jsx
  <ActionSheetItem mode="cancel">Отмена</ActionSheetItem>
  ```
</Playground>

### Кнопка "Отмена"

Свойство `isCancelItem` позволяет пометить пункт действия как "Отмена".

Согласно рекомендациям **Apple** в `ActionSheet` должен быть вариант действия "Отмена", который
бы позволял закрывать всплывающее окно без выполнения дополнительных действий.

> Обратите внимание, что такой компонент необходимо передавать в свойство `iosCloseItem` у `ActionSheet`,
> потому что данный компонент должен визуально отделяться от остальных пунктов.

Подробнее с использованием можно ознакомиться на странице [`ActionSheet`](/components/action-sheet#cancel-item).

## Текстовые элементы

Основной контент компонента (заголовок) можно задать, передав в свойство `children` необходимый текст:

<Playground>
  ```jsx
  <ActionSheetItem>Скорость воспроизведения</ActionSheetItem>
  ```
</Playground>

Свойство `subtitle` позволяет отобразить дополнительный текст под заголовком:

<Playground>
  ```jsx
  <ActionSheetItem subtitle="Обычная">Скорость воспроизведения</ActionSheetItem>
  ```
</Playground>

Свойство `meta` даёт возможность отобразить небольшой пояснительный текст или индикатор рядом с заголовком:

<Playground>
  ```jsx
  <ActionSheetItem meta={<Icon12Circle fill="var(--vkui--color_icon_negative)" />}>
    Закрепить запись
  </ActionSheetItem>
  ```
</Playground>

### Многострочный режим

По умолчанию большое количество текста обрезается и заменяется на многоточие, поддерживая однострочный режим отображения.
Это поведение можно отключить (_для всех текстовых элементов_) с помощью свойства `multiline`:

<Playground style={{ maxWidth: 270 }}>
  ```jsx
  <ActionSheetItem multiline>
    Очень длинный заголовок просто для примера, старайтесь избегать такого
  </ActionSheetItem>
  ```
</Playground>

## Контент в начале/в конце

В компоненте доступна возможность добавления дополнительного контента слева и/или справа от текста,
задаётся свойством `before` и `after` соответственно.
Наиболее частый вариант использования свойств `before`/`after` - иконки или аватары.

В соответствии с рекомендациями дизайн-системы, для десктопного представления (`compact`-режим) следует
использовать иконки размером `20px`, для мобильного представления (`regular`-режим) — `28px`.
Проще всего это сделать, используя компонент [`AdaptiveIconRenderer`](/components/adaptive-icon-renderer).

<Playground>
  ```jsx
  <ActionSheetItem
    before={
      <AdaptiveIconRenderer IconCompact={Icon20WriteOutline} IconRegular={Icon28EditOutline} />
    }
  >
    Редактировать профиль
  </ActionSheetItem>
  ```
</Playground>

## Состояния

### `disabled`

Свойство позволяет отключить возможность взаимодействия с пунктом меню.

<Playground>
  ```jsx
  <ActionSheetItem subtitle="Отсутствуют" disabled>
    Субтитры
  </ActionSheetItem>
  ```
</Playground>

### `selectable`

Свойство даёт возможность выбирать элемент (визуальная и нативная имитация элемента радиокнопки).
При использовании данного свойства вы также можете передавать стандартные свойства радиокнопок, для управления поведением:

- `name` — имя группы для радиокнопок;
- `value` — значение радиокнопки;
- `defaultChecked` — установить выбранным по умолчанию;
- `checked` и [`onChange`](#onchange) — для контролируемого извне использования выбранного значения;

<Playground direction="column">

```jsx
const [filter, setFilter] = useState('Нормальная');

const onChange = (e) => {
  // e.target.value будет равно значению, переданному в `value` выбранного компонента `ActionSheetItem`
  setFilter(e.target.value);
};

return ['0.25x', '0.5x', '0.75x', 'Нормальная', '1.25x', '1.5x', '2x', '3x'].map((speed) => (
  <ActionSheetItem
    key={speed}
    onChange={onChange}
    checked={filter === speed}
    name="filter"
    value={speed}
    selectable
  >
    {speed}
  </ActionSheetItem>
));
```

</Playground>

Дополнительно через свойство `iconChecked` есть возможность изменить иконки радиокнопки, которая рисуется по умолчанию.

<Playground>
  ```jsx
  <ActionSheetItem
    defaultChecked
    selectable
    iconChecked={
      // квадратные иконки выбора
      <AdaptiveIconRenderer IconCompact={Icon20CheckBoxOn} IconRegular={Icon24CheckBoxOn} />
    }
  >
    0.75x
  </ActionSheetItem>
  ```
</Playground>

## Обработчики событий

### `onClick`/ `onImmediateClick`

Нажатие на пункт меню можно обработать с помощью свойств `onClick` и `onImmediateClick`.

По умолчанию `onClick` будет вызван после завершения анимации скрытия всплывающего меню и после вызова `onClose`.
Из этого следует, что в объекте события значение поля `currentTarget` будет не определено.
Если вам нужен объект события именно на момент нажатия, воспользуйтесь `onImmediateClick`.

> По умолчанию клик на пункт меню автоматически вызывает закрытие всплывающего меню (функцию, переданную в `onClose` у `ActionSheet`).
>
> Если такое поведение нежелательно, то используйте свойство `autoCloseDisabled`. В таком случае закрытие всплывающего окна
> следует вызывать самостоятельно.

### `onChange`

Если задано свойство `selectable={true}`, то выбор пункта следует обрабатывать с помощью свойства `onChange`.
Пример можно увидеть [выше](#selectable).

## Ссылки

Если указать свойство `href`, компонент будет рендериться как ссылка `<a>`.
Также можно задать стандартное свойство `target`:

```jsx
<ActionSheetItem href="https://vk.com" target="_blank">
  Перейти на vk.com
</ActionSheetItem>
```

## Цифровая доступность (a11y)

- при задании параметра `selectable={true}` для корректной работы важно задать всем `ActionSheetItems` одинаковое значение параметра `name`.
  Обусловлено это тем, что в реализации используется нативный `input[type='radio']` и
  по пунктам можно навигировать как по обычным `radio`-кнопкам;
- при задании `selectable={true}` в реализации используется тег `"label"`. В остальных случаях используется тег `"div"`.
