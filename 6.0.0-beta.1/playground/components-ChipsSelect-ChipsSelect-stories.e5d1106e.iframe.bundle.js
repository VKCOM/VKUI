"use strict";(self.webpackChunk_vkontakte_vkui=self.webpackChunk_vkontakte_vkui||[]).push([[5179],{"./src/components/ChipsSelect/ChipsSelect.stories.tsx":(e,t,n)=>{n.r(t),n.d(t,{Playground:()=>en,__namedExportsOrder:()=>eo,default:()=>et});var o,r,l,i=n("../../node_modules/react/jsx-runtime.js"),a=n("../../node_modules/react/index.js"),u=(0,n("../../node_modules/@vkontakte/icons-sprite/dist/index.js").De)("Icon12Download","download_12","0 0 12 12",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 12 12" id="download_12"><path fill="currentColor" fill-rule="evenodd" d="M6.75 1.75a.75.75 0 0 0-1.5 0v3.69l-.97-.97a.75.75 0 0 0-1.06 1.06l2.25 2.25a.75.75 0 0 0 1.06 0l2.25-2.25a.75.75 0 0 0-1.06-1.06l-.97.97zm-4 7.75a.75.75 0 0 0 0 1.5h6.5a.75.75 0 0 0 0-1.5z" clip-rule="evenodd" /></symbol>',12,12,!1,void 0),s=n("./src/storybook/constants.ts"),c=n("../../node_modules/@vkontakte/vkjs/lib/es6/index.js"),p=n("./src/hooks/useExternRef.ts"),d=n("./src/hooks/useGlobalOnClickOutside.ts"),f=n("./src/lib/accessibility.ts"),m=n("./src/lib/select.ts"),y=n("./src/components/ChipsInputBase/ChipsInputBase.tsx"),b=n("./src/components/ChipsInputBase/constants.tsx"),O=n("./src/components/CustomSelectDropdown/CustomSelectDropdown.tsx"),h=n("./src/components/CustomSelectOption/CustomSelectOption.tsx"),v=n("./src/components/DropdownIcon/DropdownIcon.tsx"),g=n("./src/components/IconButton/IconButton.tsx"),S=n("./src/components/Typography/Footnote/Footnote.tsx"),C="highlight",j="Ничего не найдено",_="next",w="prev",V=function(e){return e?"Скрыть":"Развернуть"},x=function(e){return(0,i.jsx)(h.x,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),o.forEach(function(t){!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(e,t,n[t])})}return e}({},e))},I=function(e){return e&&"actionText"in e},P=function(e){return e&&"placeholder"in e},R=function(e){return!I(e)&&!P(e)};try{V.displayName="getIconLabelDefault",V.__docgenInfo={description:"",displayName:"getIconLabelDefault",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/ChipsSelect/constants.tsx#getIconLabelDefault"]={docgenInfo:V.__docgenInfo,name:"getIconLabelDefault",path:"src/components/ChipsSelect/constants.tsx#getIconLabelDefault"})}catch(e){}try{x.displayName="renderOptionDefault",x.__docgenInfo={description:"",displayName:"renderOptionDefault",props:{description:{defaultValue:null,description:"Добавляет описание под основным блоком.",name:"description",required:!1,type:{name:"ReactNode"}},before:{defaultValue:null,description:"Вставляет элемент в начало блока перед основным контентом.\nНапример, можно передать компонент `Avatar`, `Icon<Name>` или другие изображения.",name:"before",required:!1,type:{name:"ReactNode"}},after:{defaultValue:null,description:"Вставляет элемент в конец блока после основного контента.\nНапример, можно передать компонент `Avatar`, `Icon<Name>` или другие изображения.",name:"after",required:!1,type:{name:"ReactNode"}},hierarchy:{defaultValue:null,description:"Позволяет создавать вложенность.",name:"hierarchy",required:!1,type:{name:"number"}},selected:{defaultValue:null,description:"Включает состояние выбранного элемента списка.",name:"selected",required:!1,type:{name:"boolean"}},hovered:{defaultValue:null,description:"Включает состояние наведения.",name:"hovered",required:!1,type:{name:"boolean"}},focused:{defaultValue:null,description:"Включает состояние фокуса.",name:"focused",required:!1,type:{name:"boolean"}},disabled:{defaultValue:null,description:"Блокирует весь блок.\n\n> ⚠️  Важно: если CustomSelectOption используется внутри [Select](https://vkcom.github.io/VKUI/#/Select) или [CustomSelect](https://vkcom.github.io/VKUI/#/CustomSelect), то свойство явно должно выставляться только через структуру `options`.\n> Запрещается выставлять `disabled` проп опциям в обход `options`, иначе [CustomSelect](https://vkcom.github.io/VKUI/#/CustomSelect) не будет знать об актуальном состоянии\nопции.",name:"disabled",required:!1,type:{name:"boolean"}},getRootRef:{defaultValue:null,description:"",name:"getRootRef",required:!1,type:{name:"Ref<HTMLDivElement>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/ChipsSelect/constants.tsx#renderOptionDefault"]={docgenInfo:x.__docgenInfo,name:"renderOptionDefault",path:"src/components/ChipsSelect/constants.tsx#renderOptionDefault"})}catch(e){}try{I.displayName="isCreateNewOptionPreset",I.__docgenInfo={description:"",displayName:"isCreateNewOptionPreset",props:{value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"ChipOptionValue"}},label:{defaultValue:null,description:"",name:"label",required:!0,type:{name:"ChipOptionLabel"}},actionText:{defaultValue:null,description:"",name:"actionText",required:!0,type:{name:"any"}},placeholder:{defaultValue:null,description:"",name:"placeholder",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/ChipsSelect/constants.tsx#isCreateNewOptionPreset"]={docgenInfo:I.__docgenInfo,name:"isCreateNewOptionPreset",path:"src/components/ChipsSelect/constants.tsx#isCreateNewOptionPreset"})}catch(e){}try{P.displayName="isEmptyOptionPreset",P.__docgenInfo={description:"",displayName:"isEmptyOptionPreset",props:{actionText:{defaultValue:null,description:"",name:"actionText",required:!0,type:{name:"any"}},placeholder:{defaultValue:null,description:"",name:"placeholder",required:!0,type:{name:"any"}},value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"ChipOptionValue"}},label:{defaultValue:null,description:"",name:"label",required:!0,type:{name:"ChipOptionLabel"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/ChipsSelect/constants.tsx#isEmptyOptionPreset"]={docgenInfo:P.__docgenInfo,name:"isEmptyOptionPreset",path:"src/components/ChipsSelect/constants.tsx#isEmptyOptionPreset"})}catch(e){}try{R.displayName="isNotServicePreset",R.__docgenInfo={description:"",displayName:"isNotServicePreset",props:{actionText:{defaultValue:null,description:"",name:"actionText",required:!0,type:{name:"any"}},placeholder:{defaultValue:null,description:"",name:"placeholder",required:!0,type:{name:"any"}},value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"ChipOptionValue"}},label:{defaultValue:null,description:"",name:"label",required:!0,type:{name:"ChipOptionLabel"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/ChipsSelect/constants.tsx#isNotServicePreset"]={docgenInfo:R.__docgenInfo,name:"isNotServicePreset",path:"src/components/ChipsSelect/constants.tsx#isNotServicePreset"})}catch(e){}var A=n("./src/lib/useIsomorphicLayoutEffect.ts"),E=n("./src/components/ChipsInput/useChipsInput.ts");function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=Array(t);n<t;n++)o[n]=e[n];return o}function D(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n,o,r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var l=[],i=!0,a=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(l.push(n.value),!t||l.length!==t);i=!0);}catch(e){a=!0,o=e}finally{try{i||null==r.return||r.return()}finally{if(a)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return k(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return k(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var T=function(e){var t=e.disabled,n=e.value,o=e.defaultValue,r=e.onChange,l=e.getOptionLabel,i=void 0===l?b.My:l,u=e.getOptionValue,s=void 0===u?b.ry:u,p=e.getNewOptionData,d=void 0===p?b.lR:p,f=e.inputValue,y=e.defaultInputValue,O=void 0===y?b.RY:y,h=e.onInputChange,v=e.creatable,g=void 0!==v&&v,S=e.emptyText,_=void 0===S?j:S,w=e.filterFn,V=void 0===w?m.B:w,x=e.selectedBehavior,I=void 0===x?C:x,P=e.options,R=void 0===P?b.PW:P,k=(0,E.v)({value:n,defaultValue:o,onChange:r,getOptionValue:s,getOptionLabel:i,getNewOptionData:d,inputValue:f,defaultInputValue:O,onInputChange:h,disabled:t}),T=k.value,N=k.inputValue,L=k.onInputChange,B=function(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n,o,r={},l=Object.keys(e);for(o=0;o<l.length;o++)n=l[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(o=0;o<l.length;o++)n=l[o],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(k,["value","inputValue","onInputChange"]),F=D(a.useState(!1),2),M=F[0],K=F[1],Y=D(a.useState(function(){return M?q({value:T,getOptionValue:s,getOptionLabel:i,inputValue:N,emptyText:_,creatable:g,filterFn:V,options:R,selectedBehavior:I}):[]}),2),W=Y[0],H=Y[1],Z=D(a.useState(0),2),U=Z[0],z=Z[1],G=D(a.useState(null),2),X=G[0],Q=G[1],$=a.useCallback(function(e){L(e),M||(K(!0),z(0))},[L,M]);return(0,A.L)(function(){M&&H(function(e){var t=q({value:T,getOptionValue:s,getOptionLabel:i,inputValue:N,emptyText:_,creatable:g,filterFn:V,options:R,selectedBehavior:I});return(0,c.Xy)(e,t)?e:t})},[M,T,i,s,N,R,g,I,V]),function(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),o.forEach(function(t){!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(e,t,n[t])})}return e}({},B),{value:T,inputValue:N,onInputChange:$,options:W,opened:M,setOpened:K,focusedOption:X,focusedOptionIndex:U,setFocusedOption:Q,setFocusedOptionIndex:z})};function q(e){var t=e.value,n=e.getOptionValue,o=void 0===n?b.ry:n,r=e.getOptionLabel,l=void 0===r?b.My:r,i=e.inputValue,a=void 0===i?b.RY:i,u=e.emptyText,s=void 0===u?j:u,c=e.creatable,p=void 0!==c&&c,d=e.filterFn,f=void 0===d?m.B:d,y=e.options,O=void 0===y?b.PW:y,h=e.selectedBehavior,v=void 0===h?C:h,g=f?O.filter(function(e){return f(a,e,l)}):O;if(0===g.length)return a!==b.RY&&"string"==typeof p?[{actionText:p}]:[{placeholder:s}];var S=(0,E.n)(g,o,l);if("hide"===v){var _=t.map(function(e){return e.value});return S.filter(function(e){return!!R(e)&&!_.includes(e.value)})}return S}var N=n("../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),L=n.n(N),B=n("../../node_modules/style-loader/dist/runtime/singletonStyleDomAPI.js"),F=n.n(B),M=n("../../node_modules/style-loader/dist/runtime/insertBySelector.js"),K=n.n(M),Y=n("../../node_modules/style-loader/dist/runtime/setAttributesWithAttributesAndNonce.js"),W=n.n(Y),H=n("../../node_modules/style-loader/dist/runtime/insertStyleElement.js"),Z=n.n(H),U=n("../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[15].use[1]!../../node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[15].use[2]!./src/components/ChipsSelect/ChipsSelect.module.css"),z={attributes:{class:"vkui-style"}};z.setAttributes=W(),z.insert=K().bind(null,"head"),z.domAPI=F(),z.insertStyleElement=Z(),L()(U.Z,z);let G=U.Z&&U.Z.locals?U.Z.locals:void 0;function X(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=Array(t);n<t;n++)o[n]=e[n];return o}var Q={top:G["ChipsSelect--pop-up"],bottom:G["ChipsSelect--pop-down"]},$=function(e){var t=e.getRootRef,n=e.className,o=e.status,r=e.before,l=e.icon,u=e.getIconLabel,s=void 0===u?V:u,A=e.onChangeStart,E=e.options,k=e.placement,D=void 0===k?"bottom":k,q=e.closeAfterSelect,N=void 0===q||q,L=e.selectedBehavior,B=e.emptyText,F=e.creatable,M=void 0!==F&&F,K=e.fetching,Y=e.fixDropdownWidth,W=e.forceDropdownPortal,H=e.noMaxHeight,Z=e.filterFn,U=void 0===Z?m.B:Z,z=e.dropdownTestId,$=e.getRef,J=e.value,ee=e.defaultValue,et=e.inputValue,en=e.defaultInputValue,eo=e.inputLabel,er=void 0===eo?b.Wf:eo,el=e.disabled,ei=e.getOptionValue,ea=void 0===ei?b.ry:ei,eu=e.getOptionLabel,es=void 0===eu?b.My:eu,ec=e.getNewOptionData,ep=void 0===ec?b.lR:ec,ed=e.renderChip,ef=void 0===ed?b.sV:ed,em=e.renderOption,ey=void 0===em?x:em,eb=e.onChange,eO=e.onFocus,eh=e.onInputChange,ev=e.onBlur,eg=e.onKeyDown,eS=function(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n,o,r={},l=Object.keys(e);for(o=0;o<l.length;o++)n=l[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(o=0;o<l.length;o++)n=l[o],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(e,["getRootRef","className","status","before","icon","getIconLabel","onChangeStart","options","placement","closeAfterSelect","selectedBehavior","emptyText","creatable","fetching","fixDropdownWidth","forceDropdownPortal","noMaxHeight","filterFn","dropdownTestId","getRef","value","defaultValue","inputValue","defaultInputValue","inputLabel","disabled","getOptionValue","getOptionLabel","getNewOptionData","renderChip","renderOption","onChange","onFocus","onInputChange","onBlur","onKeyDown"]),eC=T({value:J,defaultValue:ee,onChange:eb,getOptionValue:ea,getOptionLabel:es,getNewOptionData:ep,inputValue:et,defaultInputValue:en,onInputChange:eh,options:E,emptyText:void 0===B?j:B,creatable:M,filterFn:U,selectedBehavior:void 0===L?C:L,disabled:el}),ej=eC.value,e_=eC.addOptionFromInput,ew=eC.addOption,eV=eC.removeOption,ex=eC.inputRef,eI=eC.inputValue,eP=eC.clearInput,eR=eC.onInputChange,eA=eC.options,eE=eC.opened,ek=eC.setOpened,eD=eC.focusedOption,eT=eC.focusedOptionIndex,eq=eC.setFocusedOption,eN=eC.setFocusedOptionIndex,eL=(0,p.Q)(t),eB=(0,p.Q)($,ex),eF=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n,o,r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var l=[],i=!0,a=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(l.push(n.value),!t||l.length!==t);i=!0);}catch(e){a=!0,o=e}finally{try{i||null==r.return||r.return()}finally{if(a)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return X(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return X(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(a.useState(D),2),eM=eF[0],eK=eF[1],eY=a.useId(),eW=a.useRef(null),eH=a.useRef([]).current,eZ=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=eW.current,o=eH[e];if(o&&n){var r=n.offsetHeight,l=n.scrollTop,i=o.offsetTop,a=o.offsetHeight;t?n.scrollTop=i-r/2+a/2:i+a>r+l?n.scrollTop=i-r+a:i<l&&(n.scrollTop=i)}},eU=function(e,t){var n=eA.length;e<0?e=n-1:e>=n&&(e=0),e!==t&&(eZ(e),eN(e))},ez=function(e,t){var n=null===e?-1:e;t===_?n+=1:t===w&&(n-=1),eU(n,eT)};a.useEffect(function(){if(null===eT)eq(null);else{var e=eA[eT];e&&R(e)&&eq(e)}},[eA,eT,eq]);var eG=a.useCallback(function(e){e.startsWith("top")?eK("top"):e.startsWith("bottom")&&eK("bottom")},[]),eX=a.useCallback(function(){eN(null)},[eN]),eQ=a.useCallback(function(){ek(!1)},[ek]);return(0,d.s)(eQ,eE?eL:null,eE?eW:null),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(y.J,function(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),o.forEach(function(t){!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(e,t,n[t])})}return e}({},eS),{disabled:el,getRootRef:eL,className:(0,c.AK)(G.ChipsSelect,eE&&eM&&Q[eM],n),status:void 0===o?"default":o,before:r,after:(0,i.jsx)(g.h,{className:G.ChipsSelect__dropdown,activeMode:"",hoverMode:"",label:s(eE),onClick:function(){ek(function(e){return!e})},children:null!=l?l:(0,i.jsx)(v.K,{className:G.ChipsSelect__icon,opened:eE})}),value:ej,onAddChipOption:e_,onRemoveChipOption:eV,renderChip:ef,getRef:eB,inputLabel:er,inputValue:eI,onInputChange:eR,onFocus:function(e){eO&&eO(e),ek(!0),eN(null)},onBlur:function(e){ev&&ev(e),e.defaultPrevented||M||e.preventDefault()},onKeyDown:function(e){if(eg&&eg(e),!e.defaultPrevented)switch(e.key){case f.R8.ARROW_UP:case f.R8.ARROW_DOWN:e.preventDefault(),eE?ez(eT,e.key===f.R8.ARROW_UP?w:_):(ek(!0),eN(0));break;case f.R8.ENTER:if(!eE)break;if(null!=eT){var t=eA[eT];if(t&&R(t)){e.preventDefault(),A&&A(e,t),ew(t),eN(null),eP(),N&&ek(!1);break}}M||e.preventDefault();break;case f.R8.ESCAPE:case f.R8.TAB:eE&&ek(!1)}},role:"combobox","aria-expanded":eE,"aria-controls":eY,"aria-haspopup":"listbox"})),eE&&(0,i.jsx)(O.U,{"data-testid":z,targetRef:eL,placement:D,scrollBoxRef:eW,onPlacementChange:eG,onMouseLeave:eX,fetching:void 0!==K&&K,sameWidth:Y,forcePortal:W,noMaxHeight:void 0!==H&&H,id:eY,role:"listbox",children:eA.map(function(e,t){return P(e)?(0,i.jsx)(S.w,{className:G.ChipsSelect__empty,children:e.placeholder},"empty-text"):I(e)?(0,i.jsx)(h.x,{hovered:eT===t,onMouseDown:function(){return e_(eI)},onMouseEnter:function(){return eN(t)},children:e.actionText},"create-new-option"):(0,i.jsx)(a.Fragment,{children:ey({hovered:!!eD&&ea(e)===ea(eD),children:e.label,selected:!!ej.find(function(t){return ea(t)===ea(e)}),getRootRef:function(e){e&&(eH[t]=e)},onMouseDown:function(t){A&&A(t,e),t.defaultPrevented||(N&&ek(!1),ew(e),eP())},onMouseEnter:function(){eN(t)}},e)},"".concat(function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}(e.value),"-").concat(e.label))})})]})};try{$.displayName="ChipsSelect",$.__docgenInfo={description:"",displayName:"ChipsSelect",props:{placement:{defaultValue:null,description:"",name:"placement",required:!1,type:{name:"enum",value:[{value:'"top"'},{value:'"bottom"'}]}},fetching:{defaultValue:{value:"false"},description:"Отрисовка Spinner вместо списка опций в выпадающем списке",name:"fetching",required:!1,type:{name:"boolean"}},closeAfterSelect:{defaultValue:{value:"true"},description:"Закрытие выпадающего списка после выбора элемента",name:"closeAfterSelect",required:!1,type:{name:"boolean"}},fixDropdownWidth:{defaultValue:null,description:"Изменение ширины по умолчанию.",name:"fixDropdownWidth",required:!1,type:{name:"boolean"}},forceDropdownPortal:{defaultValue:null,description:"Принудительно использовать портал.",name:"forceDropdownPortal",required:!1,type:{name:"boolean"}},dropdownTestId:{defaultValue:null,description:"Передача `data-testid`.",name:"dropdownTestId",required:!1,type:{name:"string"}},icon:{defaultValue:null,description:"Иконка раскрывающегося списка",name:"icon",required:!1,type:{name:"ReactNode"}},getIconLabel:{defaultValue:{value:"(opened: boolean) => (opened ? 'Скрыть' : 'Развернуть')"},description:"Функция должна возвращать человекочитаемый текст для открытого/закрытого состояния dropdown'а.",name:"getIconLabel",required:!1,type:{name:"((opened: boolean) => string)"}},addOnBlur:{defaultValue:null,description:"Добавляет значение в список на событие `onBlur` (использовать вместе с `creatable`)",name:"addOnBlur",required:!1,type:{name:"boolean"}},noMaxHeight:{defaultValue:{value:"false"},description:"Отключает максимальную высоту по умолчанию",name:"noMaxHeight",required:!1,type:{name:"boolean"}},renderOption:{defaultValue:{value:"(props: CustomSelectOptionProps) => (\n  <CustomSelectOption {...props} />\n)"},description:"",name:"renderOption",required:!1,type:{name:"((props: CustomSelectOptionProps, option: Option) => ReactNode)"}},onChangeStart:{defaultValue:null,description:"Событие срабатывающее перед onChange",name:"onChangeStart",required:!1,type:{name:"((event: MouseEvent<Element, MouseEvent> | KeyboardEvent<Element>, option: Option) => void)"}},getRootRef:{defaultValue:null,description:"",name:"getRootRef",required:!1,type:{name:"Ref<HTMLDivElement>"}},inputLabel:{defaultValue:{value:"Введите ваше значение..."},description:"",name:"inputLabel",required:!1,type:{name:"string"}},renderChip:{defaultValue:{value:"Используется [Chip](#/Chip)"},description:"Render prop функция для возврата своего компонента.",name:"renderChip",required:!1,type:{name:"RenderChip<ChipOption>"}},disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}},value:{defaultValue:null,description:"",name:"value",required:!1,type:{name:"Option[]"}},onInputChange:{defaultValue:null,description:"",name:"onInputChange",required:!1,type:{name:"OnInputChange"}},inputValue:{defaultValue:null,description:"",name:"inputValue",required:!1,type:{name:"string"}},getRef:{defaultValue:null,description:"",name:"getRef",required:!1,type:{name:"Ref<HTMLInputElement>"}},align:{defaultValue:null,description:"",name:"align",required:!1,type:{name:"enum",value:[{value:'"center"'},{value:'"right"'},{value:'"left"'}]}},options:{defaultValue:null,description:"",name:"options",required:!1,type:{name:"Option[]"}},creatable:{defaultValue:{value:"false"},description:"Возможность создавать чипы которых нет в списке:\n- `true` – добавление по кнопке Enter;\n- `<текст>` – помимо возможности добавления через Enter, в пункте меню появится кнопка с текстом.\nТекст для пункта, создающего чипы при клике, также отвечает за то, будет ли показан этот пункт\n(показывается после того как в списке не останется опций).",name:"creatable",required:!1,type:{name:"string | boolean"}},emptyText:{defaultValue:{value:"Ничего не найдено"},description:"Текст, который показывается если список опций пуст",name:"emptyText",required:!1,type:{name:"string"}},selectedBehavior:{defaultValue:{value:"highlight"},description:"Показывать или скрывать уже выбранные опции.",name:"selectedBehavior",required:!1,type:{name:"enum",value:[{value:'"hide"'},{value:'"highlight"'}]}},filterFn:{defaultValue:null,description:"",name:"filterFn",required:!1,type:{name:"false | FilterFn<Option>"}},getOptionValue:{defaultValue:null,description:"Селектор значения.",name:"getOptionValue",required:!1,type:{name:"GetOptionValue<Option>"}},getOptionLabel:{defaultValue:null,description:"Селектор пользовательского представления.",name:"getOptionLabel",required:!1,type:{name:"GetOptionLabel<Option>"}},getNewOptionData:{defaultValue:null,description:"Функция для создания новой опции.",name:"getNewOptionData",required:!1,type:{name:"GetNewOptionData<Option>"}},defaultValue:{defaultValue:null,description:"",name:"defaultValue",required:!1,type:{name:"Option[]"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"OnChange<Option>"}},defaultInputValue:{defaultValue:null,description:"",name:"defaultInputValue",required:!1,type:{name:"string"}},mode:{defaultValue:null,description:"",name:"mode",required:!1,type:{name:"enum",value:[{value:'"default"'},{value:'"plain"'}]}},status:{defaultValue:{value:"default"},description:"",name:"status",required:!1,type:{name:"enum",value:[{value:'"default"'},{value:'"error"'},{value:'"valid"'}]}},before:{defaultValue:null,description:"Добавляет иконку слева.\n\nРекомендации:\n\n- Используйте следующие размеры иконок `12` | `16` | `20` | `24` | `28`.\n- Используйте [IconButton](https://vkcom.github.io/VKUI/#/IconButton), если вам нужна кликабельная иконка.",name:"before",required:!1,type:{name:"ReactNode"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/ChipsSelect/ChipsSelect.tsx#ChipsSelect"]={docgenInfo:$.__docgenInfo,name:"ChipsSelect",path:"src/components/ChipsSelect/ChipsSelect.tsx#ChipsSelect"})}catch(e){}function J(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),o.forEach(function(t){!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(e,t,n[t])})}return e}function ee(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}let et={title:"Forms/ChipsSelect",component:$,parameters:J({},s.tW,s.nB)};var en={args:{options:[{value:"download",label:"Скачать все и вся!",icon:(0,i.jsx)(u,{})},{value:"1",label:"Arctic Monkeys"},{value:"2",label:"Звери"},{value:"4",label:"FACE"},{value:"3",label:"Depeche Mode"},{value:"5",label:"Linkin Park"}]}};en.parameters=ee(J({},en.parameters),{docs:ee(J({},null===(o=en.parameters)||void 0===o?void 0:o.docs),{source:J({originalSource:"{\n  args: {\n    options: groups\n  }\n}"},null===(l=en.parameters)||void 0===l?void 0:null===(r=l.docs)||void 0===r?void 0:r.source)})});let eo=["Playground"]},"../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[15].use[1]!../../node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[15].use[2]!./src/components/ChipsSelect/ChipsSelect.module.css":(e,t,n)=>{n.d(t,{Z:()=>a});var o=n("../../node_modules/css-loader/dist/runtime/noSourceMaps.js"),r=n.n(o),l=n("../../node_modules/css-loader/dist/runtime/api.js"),i=n.n(l)()(r());i.push([e.id,".ChipsSelect--JNA2D{position:relative}.ChipsSelect__dropdown--sKFwF{cursor:pointer}.ChipsSelect__icon--_zPaQ{pointer-events:none}.ChipsSelect__empty--iFXgd{color:var(--vkui--color_text_secondary);padding:12px 0;text-align:center}.ChipsSelect--pop-down--kGVC1{border-bottom-left-radius:0;border-bottom-right-radius:0}.ChipsSelect--pop-up--YxCH_{border-top-left-radius:0;border-top-right-radius:0}",""]),i.locals={ChipsSelect:"ChipsSelect--JNA2D",ChipsSelect__dropdown:"ChipsSelect__dropdown--sKFwF",ChipsSelect__icon:"ChipsSelect__icon--_zPaQ",ChipsSelect__empty:"ChipsSelect__empty--iFXgd","ChipsSelect--pop-down":"ChipsSelect--pop-down--kGVC1","ChipsSelect--pop-up":"ChipsSelect--pop-up--YxCH_"};let a=i},"../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[15].use[1]!../../node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[15].use[2]!./src/components/Spinner/Spinner.module.css":(e,t,n)=>{n.d(t,{Z:()=>a});var o=n("../../node_modules/css-loader/dist/runtime/noSourceMaps.js"),r=n.n(o),l=n("../../node_modules/css-loader/dist/runtime/api.js"),i=n.n(l)()(r());i.push([e.id,".Spinner--aVS7j{align-items:center;color:var(--vkui--color_icon_medium);display:flex;height:100%;justify-content:center;width:100%}.vkuiInternalPanelHeader .Spinner--aVS7j{color:currentColor}",""]),i.locals={Spinner:"Spinner--aVS7j"};let a=i},"./src/components/Spinner/Spinner.tsx":(e,t,n)=>{n.d(t,{$:()=>f});var o=n("../../node_modules/react/jsx-runtime.js"),r=n("../../node_modules/react/index.js"),l=n("../../node_modules/@vkontakte/icons/dist/es6/16/spinner_16.js"),i=n("../../node_modules/@vkontakte/icons/dist/es6/24/spinner_24.js"),a=n("../../node_modules/@vkontakte/icons/dist/es6/32/spinner_32.js"),u=n("../../node_modules/@vkontakte/icons/dist/es6/44/spinner_44.js"),s=n("../../node_modules/@vkontakte/vkjs/lib/es6/index.js"),c=n("./src/components/RootComponent/RootComponent.tsx"),p=n("./src/components/VisuallyHidden/VisuallyHidden.tsx"),d=n("./src/components/Spinner/Spinner.module.css"),f=r.memo(function(e){var t=e.size,n=void 0===t?"regular":t,r=e.children,f=void 0===r?"Загружается...":r,m=e.disableAnimation,y=function(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n,o,r={},l=Object.keys(e);for(o=0;o<l.length;o++)n=l[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(o=0;o<l.length;o++)n=l[o],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(e,["size","children","disableAnimation"]),b={small:l.P,regular:i.h,medium:a.X,large:u.C}[n],O={small:8,regular:12,medium:16,large:22}[n];return(0,o.jsxs)(c.U,function(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),o.forEach(function(t){!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(e,t,n[t])})}return e}({Component:"span",role:"status"},y),{baseClassName:d.Z.Spinner,children:[(0,o.jsx)(b,{children:!m&&(0,o.jsx)("animateTransform",{attributeName:"transform",attributeType:"XML",type:"rotate",from:"0 ".concat(O," ").concat(O),to:"360 ".concat(O," ").concat(O),dur:"0.7s",repeatCount:"indefinite"})}),(0,s.p7)(f)&&(0,o.jsx)(p.T,{children:f})]}))});f.displayName="Spinner";try{f.displayName="Spinner",f.__docgenInfo={description:"",displayName:"Spinner",props:{size:{defaultValue:null,description:"",name:"size",required:!1,type:{name:"enum",value:[{value:'"small"'},{value:'"regular"'},{value:'"medium"'},{value:'"large"'}]}},disableAnimation:{defaultValue:null,description:"",name:"disableAnimation",required:!1,type:{name:"boolean"}},getRootRef:{defaultValue:null,description:"",name:"getRootRef",required:!1,type:{name:"Ref<HTMLSpanElement>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Spinner/Spinner.tsx#Spinner"]={docgenInfo:f.__docgenInfo,name:"Spinner",path:"src/components/Spinner/Spinner.tsx#Spinner"})}catch(e){}},"./src/hooks/useGlobalOnClickOutside.ts":(e,t,n)=>{n.d(t,{s:()=>a}),n("../../node_modules/react/index.js");var o=n("./src/lib/dom.tsx"),r=n("../../node_modules/@vkontakte/vkui-floating-ui/utils/dom/dist/floating-ui.utils.dom.esm.js"),l=n("./src/lib/useIsomorphicLayoutEffect.ts");function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=Array(t);n<t;n++)o[n]=e[n];return o}var a=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];var u=(0,o.NG)().document;(0,l.L)(function(){var t=n.some(function(e){return e&&null!==e.current});if(u&&t){var o=function(t){var o=t.target;(0,r.kK)(o)&&n.some(function(e){return e&&e.current&&e.current.contains(o)})||e(t)};return u.addEventListener("click",o,{passive:!0,capture:!0}),function(){u.removeEventListener("click",o,!0)}}},[u,e].concat(function(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(n)))}},"./src/components/Spinner/Spinner.module.css":(e,t,n)=>{n.d(t,{Z:()=>y});var o=n("../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),r=n.n(o),l=n("../../node_modules/style-loader/dist/runtime/singletonStyleDomAPI.js"),i=n.n(l),a=n("../../node_modules/style-loader/dist/runtime/insertBySelector.js"),u=n.n(a),s=n("../../node_modules/style-loader/dist/runtime/setAttributesWithAttributesAndNonce.js"),c=n.n(s),p=n("../../node_modules/style-loader/dist/runtime/insertStyleElement.js"),d=n.n(p),f=n("../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[15].use[1]!../../node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[15].use[2]!./src/components/Spinner/Spinner.module.css"),m={attributes:{class:"vkui-style"}};m.setAttributes=c(),m.insert=u().bind(null,"head"),m.domAPI=i(),m.insertStyleElement=d(),r()(f.Z,m);let y=f.Z&&f.Z.locals?f.Z.locals:void 0}}]);