"use strict";(self.webpackChunk_vkontakte_vkui=self.webpackChunk_vkontakte_vkui||[]).push([[1429],{"../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[15].use[1]!../../node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[15].use[2]!./src/components/CustomSelect/CustomSelect.module.css":(e,t,n)=>{n.d(t,{Z:()=>a});var o=n("../../node_modules/css-loader/dist/runtime/noSourceMaps.js"),l=n.n(o),r=n("../../node_modules/css-loader/dist/runtime/api.js"),u=n.n(r)()(l());u.push([e.id,".CustomSelect--t8BBn{cursor:pointer;display:block;position:relative;width:100%}.CustomSelect--pop-down--YTLW6{border-bottom-left-radius:0;border-bottom-right-radius:0}.CustomSelect--pop-up--wZZnV{border-top-left-radius:0;border-top-right-radius:0}.CustomSelect__control--VcHiM{display:none}.CustomSelect__empty--Vt06J{color:var(--vkui--color_text_secondary);padding:12px 0;text-align:center}.CustomSelect__fetching--kv01N{align-items:center;display:flex;justify-content:center}.CustomSelect__dropdown-icon--OR19l{margin-right:10px}.CustomSelect--clear-icon--Zu9v8{margin-right:-6px}.CustomSelect--sizeY-compact--_zPzn .CustomSelect__dropdown-icon--OR19l{margin-right:8px}.CustomSelect--sizeY-compact--_zPzn .CustomSelect--clear-icon--Zu9v8{margin-right:-2px}@media (max-height:414.9px),(pointer:fine) and (min-width:768px){.CustomSelect--sizeY-none--ScLah .CustomSelect__dropdown-icon--OR19l{margin-right:8px}.CustomSelect--sizeY-none--ScLah .CustomSelect--clear-icon--Zu9v8{margin-right:-2px}}",""]),u.locals={CustomSelect:"CustomSelect--t8BBn","CustomSelect--pop-down":"CustomSelect--pop-down--YTLW6","CustomSelect--pop-up":"CustomSelect--pop-up--wZZnV",CustomSelect__control:"CustomSelect__control--VcHiM",CustomSelect__empty:"CustomSelect__empty--Vt06J",CustomSelect__fetching:"CustomSelect__fetching--kv01N","CustomSelect__dropdown-icon":"CustomSelect__dropdown-icon--OR19l","CustomSelect--clear-icon":"CustomSelect--clear-icon--Zu9v8","CustomSelect--sizeY-compact":"CustomSelect--sizeY-compact--_zPzn","CustomSelect--sizeY-none":"CustomSelect--sizeY-none--ScLah"};let a=u},"../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[15].use[1]!../../node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[15].use[2]!./src/components/CustomSelect/CustomSelectInput.module.css":(e,t,n)=>{n.d(t,{Z:()=>a});var o=n("../../node_modules/css-loader/dist/runtime/noSourceMaps.js"),l=n.n(o),r=n("../../node_modules/css-loader/dist/runtime/api.js"),u=n.n(r)()(l());u.push([e.id,".CustomSelectInput--DqvHQ{position:relative}.CustomSelectInput__el--YTaQr{-webkit-appearance:none;-moz-appearance:none;appearance:none;background:transparent;border:0;border-radius:inherit;box-shadow:none;box-sizing:border-box;color:var(--vkui--color_text_primary);height:var(--vkui--size_field_height--regular);left:0;line-height:var(--vkui--size_field_height--regular);margin:0;padding:0 12px;position:absolute;top:0;width:100%;z-index:var(--vkui_internal--z_index_form_field_element)}.CustomSelectInput__el--cursor-pointer--FGam4{cursor:pointer}.CustomSelectInput--sizeY-compact--pVxPo .CustomSelectInput__el--YTaQr{height:var(--vkui--size_field_height--compact)}@media (max-height:414.9px),(pointer:fine) and (min-width:768px){.CustomSelectInput--sizeY-none--CyzRX .CustomSelectInput__el--YTaQr{height:var(--vkui--size_field_height--compact)}}.CustomSelectInput--hasBefore--qjWb8 .CustomSelectInput__el--YTaQr{padding-left:0}.CustomSelectInput--hasAfter--uk8Ef .CustomSelectInput__el--YTaQr{padding-right:0}.CustomSelectInput__el--YTaQr:disabled{opacity:var(--vkui--opacity_disable_accessibility)}.CustomSelectInput__container--KcnLH{box-sizing:border-box;color:var(--vkui--color_text_primary);max-height:100%;overflow:hidden;padding-left:12px;padding-right:0;pointer-events:none;width:100%;z-index:var(--vkui_internal--z_index_form_field_element)}.CustomSelectInput--hasBefore--qjWb8 .CustomSelectInput__container--KcnLH{padding-left:0}.CustomSelectInput--multiline--KeUIz .CustomSelectInput__container--KcnLH{padding-bottom:12px;padding-top:12px}.CustomSelectInput--sizeY-compact--pVxPo.CustomSelectInput--multiline--KeUIz .CustomSelectInput__container--KcnLH{padding-bottom:8px;padding-top:8px}@media (max-height:414.9px),(pointer:fine) and (min-width:768px){.CustomSelectInput--sizeY-none--CyzRX.CustomSelectInput--multiline--KeUIz .CustomSelectInput__container--KcnLH{padding-bottom:8px;padding-top:8px}}.CustomSelectInput__input-group--Zdfbs{align-items:center;align-self:stretch;display:flex;flex:1;overflow:hidden;position:relative}.CustomSelectInput--hasBefore--qjWb8 .CustomSelectInput__input-group--Zdfbs{border-radius:0}.CustomSelectInput__title--juUZ7{display:block}.CustomSelectInput--DqvHQ:not(.CustomSelectInput--multiline--KeUIz) .CustomSelectInput__title--juUZ7{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.CustomSelectInput--empty--9UXAt .CustomSelectInput__title--juUZ7{color:var(--vkui--color_text_secondary)}.CustomSelectInput__el--YTaQr::-ms-input-placeholder{opacity:0}.CustomSelectInput__el--YTaQr::placeholder{opacity:0}.CustomSelectInput--align-right--G0wA4 .CustomSelectInput__el--YTaQr,.CustomSelectInput--align-right--G0wA4 .CustomSelectInput__title--juUZ7{text-align:right}.CustomSelectInput--align-center--wi0Fz .CustomSelectInput__el--YTaQr,.CustomSelectInput--align-center--wi0Fz .CustomSelectInput__title--juUZ7{text-align:center}.vkuiInternalCalendarHeader__picker .CustomSelectInput__container--KcnLH{padding-right:4px}",""]),u.locals={CustomSelectInput:"CustomSelectInput--DqvHQ",CustomSelectInput__el:"CustomSelectInput__el--YTaQr","CustomSelectInput__el--cursor-pointer":"CustomSelectInput__el--cursor-pointer--FGam4","CustomSelectInput--sizeY-compact":"CustomSelectInput--sizeY-compact--pVxPo","CustomSelectInput--sizeY-none":"CustomSelectInput--sizeY-none--CyzRX","CustomSelectInput--hasBefore":"CustomSelectInput--hasBefore--qjWb8","CustomSelectInput--hasAfter":"CustomSelectInput--hasAfter--uk8Ef",CustomSelectInput__container:"CustomSelectInput__container--KcnLH","CustomSelectInput--multiline":"CustomSelectInput--multiline--KeUIz","CustomSelectInput__input-group":"CustomSelectInput__input-group--Zdfbs",CustomSelectInput__title:"CustomSelectInput__title--juUZ7","CustomSelectInput--empty":"CustomSelectInput--empty--9UXAt","CustomSelectInput--align-right":"CustomSelectInput--align-right--G0wA4","CustomSelectInput--align-center":"CustomSelectInput--align-center--wi0Fz"};let a=u},"./src/components/CustomSelect/CustomSelect.tsx":(e,t,n)=>{n.d(t,{A:()=>en});var o=n("../../node_modules/react/jsx-runtime.js"),l=n("../../node_modules/react/index.js"),r=n("../../node_modules/@vkontakte/vkjs/lib/es6/index.js"),u=n("./src/hooks/useAdaptivity.ts"),a=n("./src/hooks/useExternRef.ts"),i=n("./src/hooks/useFocusWithin.ts"),c=n("./src/lib/dom.tsx"),s=n("./src/lib/select.ts"),p=n("./src/lib/useIsomorphicLayoutEffect.ts"),d=n("./src/lib/utils.ts"),m=n("./src/lib/warnOnce.ts"),f=n("./src/components/CustomSelectDropdown/CustomSelectDropdown.tsx"),y=n("./src/components/CustomSelectOption/CustomSelectOption.tsx"),b=n("./src/components/DropdownIcon/DropdownIcon.tsx"),v=n("./src/components/Typography/Footnote/Footnote.tsx"),S=n("./src/components/VisuallyHidden/VisuallyHidden.tsx"),g=n("../../node_modules/@vkontakte/icons/dist/es6/16/cancel_16.js"),C=n("./src/components/IconButton/IconButton.tsx"),h=function(e){var t=e.className,n=e.onClick,l=function(e,t){if(null==e)return{};var n,o,l=function(e,t){if(null==e)return{};var n,o,l={},r=Object.keys(e);for(o=0;o<r.length;o++)n=r[o],t.indexOf(n)>=0||(l[n]=e[n]);return l}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(o=0;o<r.length;o++)n=r[o],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}(e,["className","onClick"]);return(0,o.jsx)(C.h,function(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),o.forEach(function(t){!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(e,t,n[t])})}return e}({Component:"div",label:"Очистить поле",onKeyDown:d.UW,role:"button",activeMode:"opacity",hoverMode:"opacity"},l),{className:t,onClick:function(e){(0,d.UW)(e),e.preventDefault(),n()},children:(0,o.jsx)(g.Q,{})}))};try{h.displayName="CustomSelectClearButton",h.__docgenInfo={description:"",displayName:"CustomSelectClearButton",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},onClick:{defaultValue:null,description:"",name:"onClick",required:!0,type:{name:"() => void"}},disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/CustomSelect/CustomSelectClearButton.tsx#CustomSelectClearButton"]={docgenInfo:h.__docgenInfo,name:"CustomSelectClearButton",path:"src/components/CustomSelect/CustomSelectClearButton.tsx#CustomSelectClearButton"})}catch(e){}var _=n("./src/components/FormField/FormField.tsx"),O=n("./src/components/SelectTypography/SelectTypography.tsx"),I=n("./src/components/Typography/Text/Text.tsx"),x=n("../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),j=n.n(x),w=n("../../node_modules/style-loader/dist/runtime/singletonStyleDomAPI.js"),T=n.n(w),k=n("../../node_modules/style-loader/dist/runtime/insertBySelector.js"),R=n.n(k),D=n("../../node_modules/style-loader/dist/runtime/setAttributesWithAttributesAndNonce.js"),P=n.n(D),V=n("../../node_modules/style-loader/dist/runtime/insertStyleElement.js"),E=n.n(V),q=n("../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[15].use[1]!../../node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[15].use[2]!./src/components/CustomSelect/CustomSelectInput.module.css"),B={attributes:{class:"vkui-style"}};B.setAttributes=P(),B.insert=R().bind(null,"head"),B.domAPI=T(),B.insertStyleElement=E(),j()(q.Z,B);let z=q.Z&&q.Z.locals?q.Z.locals:void 0;var A={none:z["CustomSelectInput--sizeY-none"],compact:z["CustomSelectInput--sizeY-compact"]},Y=function(e){var t=e.align,n=void 0===t?"left":t,l=e.getRef,c=e.className,p=e.getRootRef,d=e.style,m=e.before,f=e.after,y=e.status,b=e.children,v=e.placeholder,S=e.selectType,g=void 0===S?"default":S,C=e.multiline,h=e.disabled,x=e.fetching,j=e.labelTextTestId,w=function(e,t){if(null==e)return{};var n,o,l=function(e,t){if(null==e)return{};var n,o,l={},r=Object.keys(e);for(o=0;o<r.length;o++)n=r[o],t.indexOf(n)>=0||(l[n]=e[n]);return l}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(o=0;o<r.length;o++)n=r[o],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}(e,["align","getRef","className","getRootRef","style","before","after","status","children","placeholder","selectType","multiline","disabled","fetching","labelTextTestId"]),T=(0,u.g)().sizeY,k=void 0===T?"none":T,R=b||v,D=!w.value,P=(0,a.Q)(p),V=(0,i.L)(P);return(0,o.jsx)(_.W,{Component:"div",style:d,className:(0,r.AK)(z.CustomSelectInput,"right"===n&&z["CustomSelectInput--align-right"],"center"===n&&z["CustomSelectInput--align-center"],!b&&z["CustomSelectInput--empty"],C&&z["CustomSelectInput--multiline"],"regular"!==k&&A[k],m&&z["CustomSelectInput--hasBefore"],f&&z["CustomSelectInput--hasAfter"],c),getRootRef:P,before:m,after:f,disabled:h,mode:(0,s.e)(g),status:y,children:(0,o.jsxs)("div",{className:z["CustomSelectInput__input-group"],children:[(0,o.jsx)("div",{className:(0,r.AK)(z.CustomSelectInput__container,c),tabIndex:-1,"aria-hidden":!0,"data-testid":j,children:(0,o.jsx)(O.S,{selectType:g,className:z.CustomSelectInput__title,children:D&&R})}),(0,o.jsx)(I.x,function(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),o.forEach(function(t){!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(e,t,n[t])})}return e}({},w),{disabled:h&&!x,readOnly:w.readOnly||h&&x,Component:"input",normalize:!1,type:"text",className:(0,r.AK)(z.CustomSelectInput__el,(w.readOnly||D&&!V)&&z["CustomSelectInput__el--cursor-pointer"]),getRootRef:l,placeholder:b?"":v}))]})})};try{Y.displayName="CustomSelectInput",Y.__docgenInfo={description:"",displayName:"CustomSelectInput",props:{selectType:{defaultValue:{value:"default"},description:"",name:"selectType",required:!1,type:{name:"enum",value:[{value:'"default"'},{value:'"accent"'},{value:'"plain"'}]}},multiline:{defaultValue:null,description:"",name:"multiline",required:!1,type:{name:"boolean"}},labelTextTestId:{defaultValue:null,description:"",name:"labelTextTestId",required:!1,type:{name:"string"}},fetching:{defaultValue:null,description:"",name:"fetching",required:!1,type:{name:"boolean"}},getRef:{defaultValue:null,description:"",name:"getRef",required:!1,type:{name:"Ref<HTMLInputElement>"}},getRootRef:{defaultValue:null,description:"",name:"getRootRef",required:!1,type:{name:"Ref<HTMLDivElement>"}},align:{defaultValue:{value:"left"},description:"",name:"align",required:!1,type:{name:"enum",value:[{value:'"center"'},{value:'"right"'},{value:'"left"'}]}},status:{defaultValue:null,description:"",name:"status",required:!1,type:{name:"enum",value:[{value:'"default"'},{value:'"error"'},{value:'"valid"'}]}},before:{defaultValue:null,description:"Добавляет иконку слева.\n\nРекомендации:\n\n- Используйте следующие размеры иконок `12` | `16` | `20` | `24` | `28`.\n- Используйте [IconButton](https://vkcom.github.io/VKUI/#/IconButton), если вам нужна кликабельная иконка.",name:"before",required:!1,type:{name:"ReactNode"}},after:{defaultValue:null,description:"Добавляет иконку справа.\n\nРекомендации:\n\n- Используйте следующие размеры иконок `12` | `16` | `20` | `24` | `28`.\n- Используйте [IconButton](https://vkcom.github.io/VKUI/#/IconButton), если вам нужна кликабельная иконка.",name:"after",required:!1,type:{name:"ReactNode"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/CustomSelect/CustomSelectInput.tsx#CustomSelectInput"]={docgenInfo:Y.__docgenInfo,name:"CustomSelectInput",path:"src/components/CustomSelect/CustomSelectInput.tsx#CustomSelectInput"})}catch(e){}var N=n("../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[15].use[1]!../../node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[15].use[2]!./src/components/CustomSelect/CustomSelect.module.css"),H={attributes:{class:"vkui-style"}};H.setAttributes=P(),H.insert=R().bind(null,"head"),H.domAPI=T(),H.insertStyleElement=E(),j()(N.Z,H);let K=N.Z&&N.Z.locals?N.Z.locals:void 0;function L(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=Array(t);n<t;n++)o[n]=e[n];return o}function M(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),o.forEach(function(t){M(e,t,n[t])})}return e}function F(e,t){if(null==e)return{};var n,o,l=function(e,t){if(null==e)return{};var n,o,l={},r=Object.keys(e);for(o=0;o<r.length;o++)n=r[o],t.indexOf(n)>=0||(l[n]=e[n]);return l}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(o=0;o<r.length;o++)n=r[o],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}function U(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n,o,l=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=l){var r=[],u=!0,a=!1;try{for(l=l.call(e);!(u=(n=l.next()).done)&&(r.push(n.value),!t||r.length!==t);u=!0);}catch(e){a=!0,o=e}finally{try{u||null==l.return||l.return()}finally{if(a)throw o}}return r}}(e,t)||function(e,t){if(e){if("string"==typeof e)return L(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return L(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Q=M({none:K["CustomSelect--sizeY-none"]},"compact",K["CustomSelect--sizeY-compact"]),W=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;return t>=e.length-1?-1:e.findIndex(function(e,n){return n>t&&!e.disabled})},X=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.length,n=-1;if(t<=0)return n;for(var o=t-1;o>=0;o--)if(!e[o].disabled){n=o;break}return n};function G(e){e.option;var t=F(e,["option"]);return(0,o.jsx)(y.x,Z({},t))}(0,m.O)("CustomSelect");var J=function(e){e.preventDefault()};function $(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1?arguments[1]:void 0,o=arguments.length>2?arguments[2]:void 0;return o&&""===n?-1:null!==(e=t.findIndex(function(e){return n="number"==typeof e.value?Number(n):n,e.value===n}))&&void 0!==e?e:-1}var ee=function(e,t,n){return"function"==typeof n?e.filter(function(e){return n(t,e)}):e},et=[];function en(e){var t,n,m=U(l.useState(!1),2),y=m[0],g=m[1],C=e.before,_=e.name,O=e.className,I=e.getRef,x=e.getRootRef,j=e.popupDirection,w=e.style,T=e.onChange,k=(e.children,e.onInputChange),R=e.renderDropdown,D=e.onOpen,P=e.onClose,V=e.fetching,E=e.forceDropdownPortal,q=e.selectType,B=e.autoHideScrollbar,z=e.autoHideScrollbarDelay,A=e.searchable,N=void 0!==A&&A,H=e.renderOption,L=void 0===H?G:H,en=e.options,eo=void 0===en?et:en,el=e.emptyText,er=void 0===el?"Ничего не найдено":el,eu=e.filterFn,ea=void 0===eu?s.B:eu,ei=e.icon,ec=e.ClearButton,es=void 0===ec?h:ec,ep=e.allowClearButton,ed=void 0!==ep&&ep,em=e.dropdownOffsetDistance,ef=void 0===em?0:em,ey=e.fixDropdownWidth,eb=e.noMaxHeight,ev=e["aria-labelledby"],eS=e.clearButtonTestId,eg=e.nativeSelectTestId,eC=e.defaultValue,eh=F(e,["before","name","className","getRef","getRootRef","popupDirection","style","onChange","children","onInputChange","renderDropdown","onOpen","onClose","fetching","forceDropdownPortal","selectType","autoHideScrollbar","autoHideScrollbarDelay","searchable","renderOption","options","emptyText","filterFn","icon","ClearButton","allowClearButton","dropdownOffsetDistance","fixDropdownWidth","noMaxHeight","aria-labelledby","clearButtonTestId","nativeSelectTestId","defaultValue"]),e_=(0,u.g)().sizeY,eO=void 0===e_?"none":e_,eI=l.useRef(null),ex=(0,a.Q)(eI,x),ej=l.useRef(null),ew=(0,a.Q)(I),eT=U(l.useState(-1),2),ek=eT[0],eR=eT[1],eD=U(l.useState(void 0!==e.value),2),eP=eD[0],eV=eD[1],eE=U(l.useState(""),2),eq=eE[0],eB=eE[1],ez=U(l.useState(function(){var t,n;return null!==(n=null!==(t=e.value)&&void 0!==t?t:eC)&&void 0!==n?n:ed?"":void 0}),2),eA=ez[0],eY=ez[1],eN=U(l.useState(void 0),2),eH=eN[0],eK=eN[1],eL=U(l.useState(eo),2),eM=eL[0],eZ=eL[1],eF=U(l.useState($(eo,null!==(t=e.value)&&void 0!==t?t:eC,ed)),2),eU=eF[0],eQ=eF[1];l.useEffect(function(){eV(void 0!==e.value),eY(function(t){var n;return null!==(n=e.value)&&void 0!==n?n:t})},[e.value]),(0,p.L)(function(){if(eM.some(function(e){return eA===e.value})||ed&&""===eA){var e,t=new Event("change",{bubbles:!0});null===(e=ew.current)||void 0===e||e.dispatchEvent(t)}},[eA]);var eW=l.useMemo(function(){return eM.length?void 0!==eU?eM[eU]:void 0:null},[eM,eU]),eX=l.useMemo(function(){return y&&0===ef&&((null==eH?void 0:eH.includes("top"))?K["CustomSelect--pop-up"]:K["CustomSelect--pop-down"])||void 0},[ef,y,eH]),eG=l.useCallback(function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=ej.current,o=n?n.children[e]:null;if(o&&n){var l=n.offsetHeight,r=n.scrollTop,u=o.offsetTop,a=o.offsetHeight;t?n.scrollTop=u-l/2+a/2:u+a>l+r?n.scrollTop=u-l+a:u<r&&(n.scrollTop=u)}},[]),eJ=l.useCallback(function(e){var t,n=!(arguments.length>1)||void 0===arguments[1]||arguments[1];if(void 0!==e&&!(e<0)&&!(e>(null!==(t=eM.length)&&void 0!==t?t:0)-1)){var o=eM[e];null!=o&&o.disabled||(n&&eG(e),eR(function(t){return t!==e?e:t}))}},[eM,eG]),e$=l.useCallback(function(e){var t;return e>=0&&e<(null!==(t=eM.length)&&void 0!==t?t:0)},[eM.length]),e0=l.useCallback(function(e){ej.current=e,e&&void 0!==eU&&e$(eU)&&eG(eU,!0)},[e$,eG,eU]),e1=U(l.useState(""),2),e2=e1[0],e8=e1[1],e4=l.useCallback(function(){e8("")},[]),e6=l.useCallback(function(){eR(-1)},[]),e9=l.useCallback(function(e){y||g(!0),e6(),e8(e2+e)},[e2,y,e6]),e7=l.useCallback(function(){e4(),eB(""),g(!1),e6(),null==P||P()},[P,e4,e6]),e5=l.useCallback(function(t){var n=eM[t];if(eY(null==n?void 0:n.value),e7(),eP&&e.value!==eA&&eA===(null==n?void 0:n.value)){var o,l=new Event("change",{bubbles:!0});null===(o=ew.current)||void 0===o||o.dispatchEvent(l)}},[e7,eM,ew,eP,e.value,eA]),e3=l.useCallback(function(){void 0!==ek&&e$(ek)&&e5(ek)},[ek,e$,e5]),te=l.useCallback(function(){g(!0),eR(eU),"function"==typeof D&&D()},[D,eU]),tt=l.useCallback(function(){e7();var e,t=new Event("focusout",{bubbles:!0});null===(e=ew.current)||void 0===e||e.dispatchEvent(t)},[e7,ew]),tn=l.useCallback(function(){var e,t=new Event("focusin",{bubbles:!0});null===(e=ew.current)||void 0===e||e.dispatchEvent(t)},[ew]),to=l.useCallback(function(){y?e7():te()},[e7,te,y]),tl=l.useMemo(function(){return(0,d.Ds)(e4,1e3)},[e4]),tr=l.useCallback(function(e){var t=ek;if("next"===e){var n=W(eM,t);t=-1===n?W(eM):n}else if("prev"===e){var o=X(eM,t);t=-1===o?X(eM):o}eJ(t)},[eJ,ek,eM]);l.useEffect(function(){var t,n,o=null!==(n=null!==(t=e.value)&&void 0!==t?t:eA)&&void 0!==n?n:eC,l=N&&void 0!==eq?ee(eo,eq,ea):eo;eZ(l),eQ($(l,o,ed))},[ea,eq,eA,eo,eC,e.value,N,ed]);var tu=l.useCallback(function(e){k&&k(e);var t=ee(eo,e.target.value,ea);eZ(t),eQ($(t,eA,ed)),eB(e.target.value)},[ea,eA,k,eo,ed]),ta=l.useCallback(function(){return null!==ej.current},[]),ti=l.useCallback(function(e){if(1===e.key.length&&" "!==e.key){e9(e.key);return}switch(["ArrowUp","ArrowDown","Escape","Enter"].includes(e.key)&&ta()&&e.preventDefault(),e.key){case"ArrowUp":y?ta()&&tr("prev"):te();break;case"ArrowDown":y?ta()&&tr("next"):te();break;case"Escape":e7();break;case"Backspace":case"Delete":y||g(!0),e6();break;case"Enter":case"Spacebar":case" ":y?ta()&&e3():te()}},[ta,e7,tr,e9,te,y,e3,e6]),tc=l.useCallback(function(e){var t,n=Array.prototype.indexOf.call(null===(t=e.currentTarget.parentNode)||void 0===t?void 0:t.children,e.currentTarget),o=eM[n];o&&!o.disabled&&e5(n)},[eM,e5]),ts=l.useRef({x:0,y:0}),tp=l.useCallback(function(e){var t;(Math.abs(ts.current.x-e.clientX)>=1||Math.abs(ts.current.y-e.clientY)>=1)&&eJ(Array.prototype.indexOf.call(null===(t=e.currentTarget.parentNode)||void 0===t?void 0:t.children,e.currentTarget),!1),ts.current={x:e.clientX,y:e.clientY}},[eJ]),td=l.useId(),tm=l.useCallback(function(e,t){var n=t===ek,r=t===eU;return(0,o.jsx)(l.Fragment,{children:L({option:e,hovered:n,children:e.label,selected:r,disabled:e.disabled,onClick:tc,onMouseDown:J,onMouseMove:tp,id:"".concat(td,"-").concat(e.value)})},"".concat(e.value))},[ek,tc,tp,L,eU,td]),tf=l.useMemo(function(){var e=(null==eM?void 0:eM.length)>0?eM.map(tm):(0,o.jsx)(v.w,{className:K.CustomSelect__empty,children:er});return"function"==typeof R?R({defaultDropdownContent:e}):e},[er,eM,R,tm]),ty=l.useRef(null),tb=l.useRef(),tv=l.useCallback(function(){clearTimeout(tb.current),tb.current=setTimeout(function(){ty.current&&ty.current.focus()},0)},[]);(0,p.L)(function(){return function(){clearTimeout(tb.current)}},[]);var tS=eP&&""!==e.value,tg=!eP&&""!==eA,tC=ed&&!y&&(tS||tg),th=l.useMemo(function(){return tC?(0,o.jsx)(es,{className:void 0===ei?K["CustomSelect--clear-icon"]:void 0,onClick:function(){eY(""),eB(""),tv()},disabled:eh.disabled,"data-testid":eS}):null},[tC,es,ei,eh.disabled,eS,tv]),t_=l.useMemo(function(){return void 0!==ei?ei:(0,o.jsx)(b.K,{className:tC?K["CustomSelect__dropdown-icon"]:void 0,opened:y})},[tC,ei,y]),tO=(t_||tC)&&(0,o.jsxs)(l.Fragment,{children:[th,t_]}),tI=(0,c.NG)().document,tx=l.useCallback(function(e){ty.current&&tI&&e.target!==ty.current&&(ty.current.click(),tI.activeElement!==ty.current&&tv())},[tI,tv]),tj=-1!==ek?ek:void 0,tw=void 0!==tj?eM[tj]&&eM[tj].value:null,tT=(M(n={role:"combobox","aria-controls":td,"aria-owns":td,"aria-expanded":y},"aria-activedescendant",tw&&y?"".concat(td,"-").concat(tw):void 0),M(n,"aria-labelledby",ev),M(n,"aria-haspopup","listbox"),M(n,"aria-autocomplete","none"),n),tk=(0,i.L)(ex);return(0,o.jsxs)("div",{className:(0,r.AK)(K.CustomSelect,"regular"!==eO&&Q[eO],O),style:w,ref:ex,onClick:tx,onMouseDown:function(e){tI&&tI.activeElement===ty.current&&e.preventDefault()},children:[tk&&eW&&!y&&(0,o.jsx)(S.T,{"aria-live":"polite",children:eW.label}),(0,o.jsx)(Y,function(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}(Z({autoComplete:"off"},eh,tT),{getRef:ty,onFocus:tn,onBlur:tt,className:eX,readOnly:!N,fetching:V,value:eq,onKeyUp:tl,onKeyDown:ti,onChange:tu,onClick:to,before:C,after:tO,selectType:void 0===q?"default":q,children:null==eW?void 0:eW.label})),(0,o.jsxs)("select",{ref:ew,name:_,onChange:function(e){var t=$(eM,e.currentTarget.value,ed);eU!==t&&(eP||eQ(t),null==T||T(e))},onBlur:e.onBlur,onFocus:e.onFocus,onClick:e.onClick,value:eA,"aria-hidden":!0,className:K.CustomSelect__control,"data-testid":eg,children:[ed&&(0,o.jsx)("option",{value:""},""),eo.map(function(e){return(0,o.jsx)("option",{value:e.value},"".concat(e.value))})]}),y&&(0,o.jsx)(f.U,{targetRef:eI,placement:j,scrollBoxRef:e0,onPlacementChange:eK,onMouseLeave:e6,fetching:V,offsetDistance:ef,sameWidth:void 0===ey||ey,forcePortal:E,autoHideScrollbar:B,autoHideScrollbarDelay:z,noMaxHeight:void 0!==eb&&eb,role:"listbox",id:td,"aria-labelledby":ev,tabIndex:-1,children:tf})]})}try{en.displayName="CustomSelect",en.__docgenInfo={description:"",displayName:"CustomSelect",props:{searchable:{defaultValue:null,description:"Если `true`, то при клике на `CustomSelect` в нём появится текстовое поле для поиска по `options`. По умолчанию поиск\nпроизводится по `option.label`.",name:"searchable",required:!1,type:{name:"boolean"}},emptyText:{defaultValue:null,description:"Текст, который будет отображен, если приходит пустой `options`.",name:"emptyText",required:!1,type:{name:"string"}},onInputChange:{defaultValue:null,description:"Событие изменения текстового поля",name:"onInputChange",required:!1,type:{name:"((e: ChangeEvent<Element>) => void)"}},options:{defaultValue:null,description:"",name:"options",required:!0,type:{name:"OptionInterfaceT[]"}},filterFn:{defaultValue:null,description:"Функция для кастомной фильтрации. По умолчанию поиск производится по `option.label`.",name:"filterFn",required:!1,type:{name:"false | FilterFn<OptionInterfaceT>"}},popupDirection:{defaultValue:null,description:"",name:"popupDirection",required:!1,type:{name:"enum",value:[{value:'"top"'},{value:'"bottom"'}]}},renderOption:{defaultValue:null,description:"Рендер-проп для кастомного рендера опции.\nВ объекте аргумента приходят [свойства опции](https://vkcom.github.io/VKUI/#/CustomSelectOption?id=props)\n\n> ⚠️  Важно: cвойство опции `disabled` должно выставляться только через проп `options`.\n> Запрещается выставлять `disabled` проп опциям в обход `options`, иначе `CustomSelect` не будет знать об актуальном состоянии\nопции.",name:"renderOption",required:!1,type:{name:"((props: CustomSelectRenderOption<OptionInterfaceT>) => ReactNode)"}},renderDropdown:{defaultValue:null,description:"Рендер-проп для кастомного рендера содержимого дропдауна.\nВ `defaultDropdownContent` содержится список опций в виде скроллящегося блока.",name:"renderDropdown",required:!1,type:{name:"(({ defaultDropdownContent, }: { defaultDropdownContent: ReactNode; }) => ReactNode)"}},fetching:{defaultValue:null,description:'Если `true`, то в дропдауне вместо списка опций рисуется спиннер. При переданных `renderDropdown` и `fetching: true`\n"победит" `renderDropdown`.',name:"fetching",required:!1,type:{name:"boolean"}},onClose:{defaultValue:null,description:"",name:"onClose",required:!1,type:{name:"VoidFunction"}},onOpen:{defaultValue:null,description:"",name:"onOpen",required:!1,type:{name:"VoidFunction"}},icon:{defaultValue:null,description:"Иконка раскрывающегося списка",name:"icon",required:!1,type:{name:"ReactNode"}},ClearButton:{defaultValue:null,description:"Кастомная кнопка для очистки значения.\nДолжна принимать обязательное свойство `onClick`",name:"ClearButton",required:!1,type:{name:"ComponentType<CustomSelectClearButtonProps>"}},allowClearButton:{defaultValue:null,description:"Если `true`, то справа будет отображаться кнопка для очистки значения",name:"allowClearButton",required:!1,type:{name:"boolean"}},clearButtonTestId:{defaultValue:null,description:"(e2e) testId кнопки очистки",name:"clearButtonTestId",required:!1,type:{name:"string"}},dropdownOffsetDistance:{defaultValue:null,description:"",name:"dropdownOffsetDistance",required:!1,type:{name:"number"}},fixDropdownWidth:{defaultValue:null,description:"",name:"fixDropdownWidth",required:!1,type:{name:"boolean"}},forceDropdownPortal:{defaultValue:null,description:"",name:"forceDropdownPortal",required:!1,type:{name:"boolean"}},selectType:{defaultValue:null,description:"",name:"selectType",required:!1,type:{name:"enum",value:[{value:'"default"'},{value:'"accent"'},{value:'"plain"'}]}},noMaxHeight:{defaultValue:null,description:"Отключает максимальную высоту по умолчанию",name:"noMaxHeight",required:!1,type:{name:"boolean"}},labelTextTestId:{defaultValue:null,description:"(e2e) testId элемента, внутри которого отображается текст выбранной опции `CustomSelect` или плейсхолдер.",name:"labelTextTestId",required:!1,type:{name:"string"}},nativeSelectTestId:{defaultValue:null,description:"",name:"nativeSelectTestId",required:!1,type:{name:"string"}},placeholder:{defaultValue:null,description:"",name:"placeholder",required:!1,type:{name:"string"}},multiline:{defaultValue:null,description:"",name:"multiline",required:!1,type:{name:"boolean"}},getRef:{defaultValue:null,description:"",name:"getRef",required:!1,type:{name:"Ref<HTMLSelectElement>"}},getRootRef:{defaultValue:null,description:"",name:"getRootRef",required:!1,type:{name:"Ref<HTMLDivElement>"}},align:{defaultValue:null,description:"",name:"align",required:!1,type:{name:"enum",value:[{value:'"center"'},{value:'"right"'},{value:'"left"'}]}},status:{defaultValue:null,description:"",name:"status",required:!1,type:{name:"enum",value:[{value:'"default"'},{value:'"error"'},{value:'"valid"'}]}},before:{defaultValue:null,description:"Добавляет иконку слева.\n\nРекомендации:\n\n- Используйте следующие размеры иконок `12` | `16` | `20` | `24` | `28`.\n- Используйте [IconButton](https://vkcom.github.io/VKUI/#/IconButton), если вам нужна кликабельная иконка.",name:"before",required:!1,type:{name:"ReactNode"}},after:{defaultValue:null,description:"Добавляет иконку справа.\n\nРекомендации:\n\n- Используйте следующие размеры иконок `12` | `16` | `20` | `24` | `28`.\n- Используйте [IconButton](https://vkcom.github.io/VKUI/#/IconButton), если вам нужна кликабельная иконка.",name:"after",required:!1,type:{name:"ReactNode"}},mode:{defaultValue:null,description:"",name:"mode",required:!1,type:{name:"enum",value:[{value:'"default"'},{value:'"plain"'}]}},autoHideScrollbar:{defaultValue:null,description:"Скрывать ли ползунок скроллбара",name:"autoHideScrollbar",required:!1,type:{name:"boolean"}},autoHideScrollbarDelay:{defaultValue:null,description:"Через какое кол-во миллисекунд ползунок скроллбара скрывается",name:"autoHideScrollbarDelay",required:!1,type:{name:"number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/CustomSelect/CustomSelect.tsx#CustomSelect"]={docgenInfo:en.__docgenInfo,name:"CustomSelect",path:"src/components/CustomSelect/CustomSelect.tsx#CustomSelect"})}catch(e){}},"./src/components/SelectTypography/SelectTypography.tsx":(e,t,n)=>{n.d(t,{S:()=>r});var o=n("../../node_modules/react/jsx-runtime.js");n("../../node_modules/react/index.js");var l=n("./src/components/Typography/Text/Text.tsx"),r=function(e){var t=e.selectType,n=e.children,r=function(e,t){if(null==e)return{};var n,o,l=function(e,t){if(null==e)return{};var n,o,l={},r=Object.keys(e);for(o=0;o<r.length;o++)n=r[o],t.indexOf(n)>=0||(l[n]=e[n]);return l}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(o=0;o<r.length;o++)n=r[o],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}(e,["selectType","children"]);return(0,o.jsx)(l.x,function(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),o.forEach(function(t){!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(e,t,n[t])})}return e}({weight:"accent"===(void 0===t?"default":t)?"2":"3"},r),{children:n}))};try{r.displayName="SelectTypography",r.__docgenInfo={description:"",displayName:"SelectTypography",props:{selectType:{defaultValue:{value:"default"},description:"",name:"selectType",required:!1,type:{name:"enum",value:[{value:'"default"'},{value:'"accent"'},{value:'"plain"'}]}},getRootRef:{defaultValue:null,description:"",name:"getRootRef",required:!1,type:{name:"Ref<HTMLSpanElement>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/SelectTypography/SelectTypography.tsx#SelectTypography"]={docgenInfo:r.__docgenInfo,name:"SelectTypography",path:"src/components/SelectTypography/SelectTypography.tsx#SelectTypography"})}catch(e){}}}]);