"use strict";(self.webpackChunk_vkontakte_vkui=self.webpackChunk_vkontakte_vkui||[]).push([[5585],{"../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[15].use[1]!../../node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[15].use[2]!./src/components/ModalDismissButton/ModalDismissButton.module.css":(e,t,o)=>{o.d(t,{Z:()=>l});var n=o("../../node_modules/css-loader/dist/runtime/noSourceMaps.js"),r=o.n(n),a=o("../../node_modules/css-loader/dist/runtime/api.js"),i=o.n(a)()(r());i.push([e.id,'.ModalDismissButton--wR4Ll{box-sizing:border-box;color:var(--vkui--color_icon_contrast);height:56px;justify-content:center;padding:18px;position:absolute;right:-56px;top:0;transition:opacity .15s ease-out;width:56px}.ModalDismissButton--wR4Ll:before{background:var(--vkui--color_overlay_primary);border-radius:50%;bottom:14px;content:"";display:block;left:14px;position:absolute;right:14px;top:14px}.ModalDismissButton--wR4Ll .vkuiIcon{transform:translateX(0)}.ModalDismissButton--hover--NGjCj.ModalDismissButton--wR4Ll:before{background:var(--vkui--color_overlay_primary--hover)}.ModalDismissButton--active--fSG9o.ModalDismissButton--wR4Ll:before{background:var(--vkui--color_overlay_primary--active)}',""]),i.locals={ModalDismissButton:"ModalDismissButton--wR4Ll","ModalDismissButton--hover":"ModalDismissButton--hover--NGjCj","ModalDismissButton--active":"ModalDismissButton--active--fSG9o"};let l=i},"../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[15].use[1]!../../node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[15].use[2]!./src/components/ModalRoot/ModalRoot.module.css":(e,t,o)=>{o.d(t,{Z:()=>l});var n=o("../../node_modules/css-loader/dist/runtime/noSourceMaps.js"),r=o.n(n),a=o("../../node_modules/css-loader/dist/runtime/api.js"),i=o.n(a)()(r());i.push([e.id,".ModalRoot--YulRP,.ModalRoot__mask--_VotF{height:100%;width:100%}.ModalRoot__mask--_VotF{animation:animation-fade-in--AVtO_ .32s ease;background:rgba(0,0,0,.4);left:0;opacity:1;position:absolute;top:0;transition:opacity 167ms ease-out;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.ModalRoot--touched--z3J8A .ModalRoot__mask--_VotF{transition:none}.ModalRoot--switching--AZk_F .ModalRoot__mask--_VotF{pointer-events:none}.ModalRoot__viewport--h9Qpt{bottom:0;left:0;pointer-events:none;position:absolute;right:0;top:0}:not(.ModalRoot--desktop--Y5IrY).ModalRoot--YulRP .ModalRoot__viewport--h9Qpt{top:var(--vkui_internal--safe_area_inset_top)}:not(.ModalRoot--desktop--Y5IrY).ModalRoot--hasCustomPanelHeaderAfterSlot--ys0K2 .ModalRoot__viewport--h9Qpt{top:calc(var(--vkui_internal--safe_area_inset_top) + var(--vkui_internal--panel_header_height))}.ModalRoot__modal--wfUdy{box-sizing:border-box;height:100%;position:absolute;width:100%}@keyframes animation-fade-in--AVtO_{0%{opacity:0}to{opacity:1}}",""]),i.locals={ModalRoot:"ModalRoot--YulRP",ModalRoot__mask:"ModalRoot__mask--_VotF","animation-fade-in":"animation-fade-in--AVtO_","ModalRoot--touched":"ModalRoot--touched--z3J8A","ModalRoot--switching":"ModalRoot--switching--AZk_F",ModalRoot__viewport:"ModalRoot__viewport--h9Qpt","ModalRoot--desktop":"ModalRoot--desktop--Y5IrY","ModalRoot--hasCustomPanelHeaderAfterSlot":"ModalRoot--hasCustomPanelHeaderAfterSlot--ys0K2",ModalRoot__modal:"ModalRoot__modal--wfUdy"};let l=i},"../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[15].use[1]!../../node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[15].use[2]!./src/components/Placeholder/Placeholder.module.css":(e,t,o)=>{o.d(t,{Z:()=>l});var n=o("../../node_modules/css-loader/dist/runtime/noSourceMaps.js"),r=o.n(n),a=o("../../node_modules/css-loader/dist/runtime/api.js"),i=o.n(a)()(r());i.push([e.id,".Placeholder--QT9fK{align-items:center;box-sizing:border-box;display:flex;flex-direction:column;justify-content:center;text-align:center}.Placeholder--withPadding--U9MOX{padding:48px 32px}.Placeholder--stretched--t1fH0{flex:1 0;height:100%;padding-bottom:inherit;padding-top:inherit}.Placeholder__icon--if6hr{color:var(--vkui--color_icon_secondary);display:inline-block;margin-bottom:12px;vertical-align:top}.Placeholder__header--WnYo4{color:var(--vkui--color_text_primary)}.Placeholder__text--V1RgX{color:var(--vkui--color_text_secondary)}.Placeholder__header--WnYo4+.Placeholder__text--V1RgX{margin-top:8px}.Placeholder__action--iajYO:not(:first-child){margin-top:16px}",""]),i.locals={Placeholder:"Placeholder--QT9fK","Placeholder--withPadding":"Placeholder--withPadding--U9MOX","Placeholder--stretched":"Placeholder--stretched--t1fH0",Placeholder__icon:"Placeholder__icon--if6hr",Placeholder__header:"Placeholder__header--WnYo4",Placeholder__text:"Placeholder__text--V1RgX",Placeholder__action:"Placeholder__action--iajYO"};let l=i},"../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[15].use[1]!../../node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[15].use[2]!./src/components/Typography/Title/Title.module.css":(e,t,o)=>{o.d(t,{Z:()=>l});var n=o("../../node_modules/css-loader/dist/runtime/noSourceMaps.js"),r=o.n(n),a=o("../../node_modules/css-loader/dist/runtime/api.js"),i=o.n(a)()(r());i.push([e.id,".Title--level-1--TJIWX{font-family:var(--vkui--font_title1--font_family--regular);font-size:var(--vkui--font_title1--font_size--regular);font-weight:var(--vkui--font_title1--font_weight--regular);line-height:var(--vkui--font_title1--line_height--regular)}.Title--level-2--btQdj{font-family:var(--vkui--font_title2--font_family--regular);font-size:var(--vkui--font_title2--font_size--regular);font-weight:var(--vkui--font_title2--font_weight--regular);line-height:var(--vkui--font_title2--line_height--regular)}.Title--level-3--eS9fO{font-family:var(--vkui--font_title3--font_family--regular);font-size:var(--vkui--font_title3--font_size--regular);font-weight:var(--vkui--font_title3--font_weight--regular);line-height:var(--vkui--font_title3--line_height--regular)}",""]),i.locals={"Title--level-1":"Title--level-1--TJIWX","Title--level-2":"Title--level-2--btQdj","Title--level-3":"Title--level-3--eS9fO"};let l=i},"./src/components/FocusTrap/FocusTrap.tsx":(e,t,o)=>{o.d(t,{i:()=>c});var n=o("../../node_modules/react/index.js"),r=o("./src/hooks/useExternRef.ts"),a=o("./src/lib/accessibility.ts"),i=o("./src/lib/dom.tsx"),l=o("../../node_modules/@vkontakte/vkui-floating-ui/utils/dom/dist/floating-ui.utils.dom.esm.js"),s=o("./src/lib/useIsomorphicLayoutEffect.ts"),d=o("./src/components/AppRoot/AppRootContext.ts"),u=a.xA.join(),c=function(e){var t=e.Component,o=e.onClose,c=e.autoFocus,p=void 0===c||c,m=e.restoreFocus,f=void 0===m||m,v=e.timeout,h=void 0===v?0:v,y=e.getRootRef,g=e.children,b=function(e,t){if(null==e)return{};var o,n,r=function(e,t){if(null==e)return{};var o,n,r={},a=Object.keys(e);for(n=0;n<a.length;n++)o=a[n],t.indexOf(o)>=0||(r[o]=e[o]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)o=a[n],!(t.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(e,o)&&(r[o]=e[o])}return r}(e,["Component","onClose","autoFocus","restoreFocus","timeout","getRootRef","children"]),O=(0,r.Q)(y),_=n.useContext(d.A).keyboardInput,M=n.useRef([]);return(0,s.L)(function(){if(O.current){var e=[];O.current.querySelectorAll(u).forEach(function(t){var o=getComputedStyle(t),n=o.display,r=o.visibility;"none"!==n&&"hidden"!==r&&e.push(t)}),0===e.length&&e.push(O.current),M.current=e}},[g]),(0,s.L)(function(){if(O.current&&p&&_){var e=setTimeout(function(){if(O.current&&M.current.length){var e=(0,i._g)(O.current);(0,i.r3)(O.current,e)||M.current[0].focus()}},h);return function(){clearTimeout(e)}}},[p,h,_]),(0,s.L)(function(){if(O.current&&f){var e=(0,i._g)(O.current);return function(){("function"==typeof f?f():f)&&(0,l.Re)(e)&&setTimeout(function(){e&&e.focus()},h)}}},[f,h]),(0,s.L)(function(){if(O.current){var e=function(e){switch((0,a.Vk)(e)){case a.R8.TAB:if(!M.current.length)return!1;var t=M.current.length-1,n=M.current.findIndex(function(t){return t===e.target}),r=-1===n||n===t&&!e.shiftKey;if(r||0===n&&e.shiftKey){e.preventDefault();var l=M.current[r?0:t];return l!==(0,i._g)(l)&&l.focus(),!1}break;case a.R8.ESCAPE:o&&o()}return!0},t=(0,l.Jj)(O.current).document;return t.addEventListener("keydown",e,{capture:!0}),function(){t.removeEventListener("keydown",e,!0)}}},[o,O]),n.createElement(void 0===t?"div":t,function(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{},n=Object.keys(o);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(o).filter(function(e){return Object.getOwnPropertyDescriptor(o,e).enumerable}))),n.forEach(function(t){!function(e,t,o){t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o}(e,t,o[t])})}return e}({tabIndex:-1,ref:O},b),g)};try{c.displayName="FocusTrap",c.__docgenInfo={description:"",displayName:"FocusTrap",props:{autoFocus:{defaultValue:{value:"true"},description:"",name:"autoFocus",required:!1,type:{name:"boolean"}},restoreFocus:{defaultValue:{value:"true"},description:"",name:"restoreFocus",required:!1,type:{name:"boolean | (() => boolean)"}},timeout:{defaultValue:{value:"0"},description:"",name:"timeout",required:!1,type:{name:"number"}},onClose:{defaultValue:null,description:"",name:"onClose",required:!1,type:{name:"(() => void)"}},getRootRef:{defaultValue:null,description:"",name:"getRootRef",required:!1,type:{name:"Ref<T>"}},Component:{defaultValue:{value:"div"},description:"",name:"Component",required:!1,type:{name:"ElementType<any, keyof IntrinsicElements>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/FocusTrap/FocusTrap.tsx#FocusTrap"]={docgenInfo:c.__docgenInfo,name:"FocusTrap",path:"src/components/FocusTrap/FocusTrap.tsx#FocusTrap"})}catch(e){}},"./src/components/ModalDismissButton/ModalDismissButton.tsx":(e,t,o)=>{o.d(t,{t:()=>_});var n=o("../../node_modules/react/index.js"),r=o("../../node_modules/@vkontakte/icons/dist/es6/20/cancel_20.js"),a=o("../../node_modules/@vkontakte/vkjs/lib/es6/index.js"),i=o("./src/components/Tappable/Tappable.tsx"),l=o("./src/components/VisuallyHidden/VisuallyHidden.tsx"),s=o("../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),d=o.n(s),u=o("../../node_modules/style-loader/dist/runtime/singletonStyleDomAPI.js"),c=o.n(u),p=o("../../node_modules/style-loader/dist/runtime/insertBySelector.js"),m=o.n(p),f=o("../../node_modules/style-loader/dist/runtime/setAttributesWithAttributesAndNonce.js"),v=o.n(f),h=o("../../node_modules/style-loader/dist/runtime/insertStyleElement.js"),y=o.n(h),g=o("../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[15].use[1]!../../node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[15].use[2]!./src/components/ModalDismissButton/ModalDismissButton.module.css"),b={attributes:{class:"vkui-style"}};b.setAttributes=v(),b.insert=m().bind(null,"head"),b.domAPI=c(),b.insertStyleElement=y(),d()(g.Z,b);let O=g.Z&&g.Z.locals?g.Z.locals:void 0;var _=function(e){var t=e.children,o=void 0===t?"Закрыть":t,s=e.className,d=function(e,t){if(null==e)return{};var o,n,r=function(e,t){if(null==e)return{};var o,n,r={},a=Object.keys(e);for(n=0;n<a.length;n++)o=a[n],t.indexOf(o)>=0||(r[o]=e[o]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)o=a[n],!(t.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(e,o)&&(r[o]=e[o])}return r}(e,["children","className"]);return n.createElement(i.K,function(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),o.push.apply(o,n)}return o})(Object(t)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(t,o))}),e}(function(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{},n=Object.keys(o);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(o).filter(function(e){return Object.getOwnPropertyDescriptor(o,e).enumerable}))),n.forEach(function(t){!function(e,t,o){t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o}(e,t,o[t])})}return e}({className:(0,a.AK)(O.ModalDismissButton,s)},d),{activeMode:O["ModalDismissButton--active"],hoverMode:O["ModalDismissButton--hover"]}),o&&n.createElement(l.T,null,o),n.createElement(r.r,null))};try{_.displayName="ModalDismissButton",_.__docgenInfo={description:"",displayName:"ModalDismissButton",props:{getRootRef:{defaultValue:null,description:"",name:"getRootRef",required:!1,type:{name:"Ref<HTMLElement>"}},Component:{defaultValue:null,description:"",name:"Component",required:!1,type:{name:"ElementType<any, keyof IntrinsicElements>"}},borderRadiusMode:{defaultValue:null,description:"Задает border-radius элементу\nВ режиме `auto` на маленьких экранах `border-radius: 0`, иначе определяется токеном `--vkui--size_border_radius--regular`",name:"borderRadiusMode",required:!1,type:{name:"enum",value:[{value:'"inherit"'},{value:'"auto"'}]}},baseClassName:{defaultValue:null,description:"",name:"baseClassName",required:!1,type:{name:"string | false"}},focusVisibleMode:{defaultValue:null,description:"Стиль аутлайна focus visible. Если передать произвольную строку, она добавится как css-класс при :focus-visible",name:"focusVisibleMode",required:!1,type:{name:"FocusVisibleMode"}},hasHover:{defaultValue:null,description:"Указывает, должен ли компонент реагировать на hover-состояние",name:"hasHover",required:!1,type:{name:"boolean"}},hovered:{defaultValue:null,description:"Позволяет управлять hovered-состоянием извне",name:"hovered",required:!1,type:{name:"boolean"}},activated:{defaultValue:null,description:"Позволяет управлять activated-состоянием извне",name:"activated",required:!1,type:{name:"boolean"}},hasActive:{defaultValue:null,description:"Указывает, должен ли компонент реагировать на active-состояние",name:"hasActive",required:!1,type:{name:"boolean"}},activeEffectDelay:{defaultValue:null,description:"Длительность показа `activated`-состояния",name:"activeEffectDelay",required:!1,type:{name:"number"}},activeClassName:{defaultValue:null,description:"Стиль подсветки active-состояния",name:"activeClassName",required:!1,type:{name:"string"}},hoverClassName:{defaultValue:null,description:"Стиль подсветки hover-состояния",name:"hoverClassName",required:!1,type:{name:"string"}},activeMode:{defaultValue:null,description:"Стиль подсветки active-состояния. Если передать произвольную строку, она добавится как css-класс во время active",name:"activeMode",required:!1,type:{name:"StateModeLiteral"}},hoverMode:{defaultValue:null,description:"Стиль подсветки hover-состояния. Если передать произвольную строку, она добавится как css-класс во время hover",name:"hoverMode",required:!1,type:{name:"StateModeLiteral"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/ModalDismissButton/ModalDismissButton.tsx#ModalDismissButton"]={docgenInfo:_.__docgenInfo,name:"ModalDismissButton",path:"src/components/ModalDismissButton/ModalDismissButton.tsx#ModalDismissButton"})}catch(e){}},"./src/components/ModalRoot/ModalRootAdaptive.tsx":(e,t,o)=>{o.d(t,{Y:()=>el});var n=o("../../node_modules/react/index.js"),r=o("./src/hooks/useAdaptivityWithJSMediaQueries.ts"),a=o("./src/components/AppRoot/ScrollContext.tsx"),i=o("../../node_modules/@vkontakte/vkjs/lib/es6/index.js"),l=o("./src/helpers/math.ts");function s(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var d=o("./src/components/ConfigProvider/ConfigProviderContext.tsx");function u(e){return function(t){var o=(0,d.F)().platform;return n.createElement(e,function(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),o.push.apply(o,n)}return o})(Object(t)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(t,o))}),e}(function(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{},n=Object.keys(o);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(o).filter(function(e){return Object.getOwnPropertyDescriptor(o,e).enumerable}))),n.forEach(function(t){!function(e,t,o){t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o}(e,t,o[t])})}return e}({},t),{platform:o}))}}try{u.displayName="withPlatform",u.__docgenInfo={description:"",displayName:"withPlatform",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/hoc/withPlatform.tsx#withPlatform"]={docgenInfo:u.__docgenInfo,name:"withPlatform",path:"src/hoc/withPlatform.tsx#withPlatform"})}catch(e){}var c=o("./src/lib/dom.tsx"),p=o("./src/lib/getNavId.ts"),m=o("./src/lib/supportEvents.ts"),f=o("./src/lib/touch.ts"),v=o("./src/lib/warnOnce.ts"),h=o("./src/components/FocusTrap/FocusTrap.tsx"),y=o("./src/components/Touch/Touch.tsx"),g=o("./src/components/Touch/TouchContext.ts"),b=o("./src/components/ModalRoot/ModalRootContext.tsx"),O=o("./src/lib/useIsomorphicLayoutEffect.ts");function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,n=Array(t);o<t;o++)n[o]=e[o];return n}function M(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{},n=Object.keys(o);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(o).filter(function(e){return Object.getOwnPropertyDescriptor(o,e).enumerable}))),n.forEach(function(t){!function(e,t,o){t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o}(e,t,o[t])})}return e}function S(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),o.push.apply(o,n)}return o})(Object(t)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(t,o))}),e}function R(e,t){if(e){if("string"==typeof e)return _(e,t);var o=Object.prototype.toString.call(e).slice(8,-1);if("Object"===o&&e.constructor&&(o=e.constructor.name),"Map"===o||"Set"===o)return Array.from(o);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return _(e,t)}}var P=(0,v.O)("ModalRoot");function E(e,t){if("setActive"===t.type&&t.id!==e.activeModal){var o=t.id,n=e.exitingModal||e.activeModal,r=e.history?function(e){return function(e){if(Array.isArray(e))return _(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||R(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e.history):[],a=!!(o&&r.includes(o));return null===o?r=[]:a?r=r.splice(0,r.indexOf(o)+1):r.push(o),{activeModal:o,enteringModal:null,exitingModal:n,history:r,isBack:a}}return"entered"===t.type&&t.id===e.enteringModal?S(M({},e),{enteringModal:null}):"exited"===t.type&&t.id===e.exitingModal?S(M({},e),{exitingModal:null}):"inited"===t.type&&t.id===e.activeModal?S(M({},e),{enteringModal:t.id}):e}function T(e,t){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.ZT,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:i.ZT,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:i.ZT,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:i.ZT,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:i.ZT,d=n.useRef({}).current;(function(e){return n.Children.toArray(e)})(t).forEach(function(e){var t=e.props,o=(0,p.o)(t,P),n=void 0!==o&&d[o]||{id:null!=o?o:null};n.onOpen=e.props.onOpen,n.onOpened=e.props.onOpened,n.onClose=e.props.onClose,n.onClosed=e.props.onClosed,"number"==typeof t.settlingHeight&&(n.settlingHeight=t.settlingHeight),null!==n.id&&(d[n.id]=n)});var u=e&&!d[e]?null:e,c=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var o,n,r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var a=[],i=!0,l=!1;try{for(r=r.call(e);!(i=(o=r.next()).done)&&(a.push(o.value),!t||a.length!==t);i=!0);}catch(e){l=!0,n=e}finally{try{i||null==r.return||r.return()}finally{if(l)throw n}}return a}}(e,t)||R(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(n.useReducer(E,{activeModal:u,enteringModal:null,exitingModal:null,history:u?[u]:[],isBack:!1}),2),m=c[0],f=c[1];(0,O.L)(function(){f({type:"setActive",id:null!=u?u:null})},[e]),(0,O.L)(function(){m.activeModal&&(s(d[m.activeModal]),f({type:"inited",id:m.activeModal}))},[m.activeModal]);var v=function(e){var t;return null!=e&&(null===(t=d[e])||void 0===t?void 0:t.type)==="card"},h=n.useCallback(function(e){if(e){var t=d[e];(0,i.mf)(t.onOpened)?t.onOpened():(0,i.mf)(r)&&r(e)}f({type:"entered",id:e})},[d,r]),y=n.useCallback(function(e){if(e){var t=d[e];(0,i.mf)(t.onClosed)?t.onClosed():(0,i.mf)(l)&&l(e)}f({type:"exited",id:e})},[d,l]),g=!!(m.exitingModal&&(v(e)||v(m.exitingModal))),b=n.useCallback(function(e){return e?d[e]:void 0},[d]);return S(M({onEnter:function(){var e=m.activeModal&&d[m.activeModal];e&&((0,i.mf)(e.onOpen)?e.onOpen():(0,i.mf)(o)&&e.id&&o(e.id))},onEntered:h,onExit:function(){var e=m.activeModal&&d[m.activeModal];e&&((0,i.mf)(e.onClose)?e.onClose():(0,i.mf)(a)&&e.id&&a(e.id))},onExited:y},m),{delayEnter:g,getModalState:b})}function j(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.ZT;return function(t){return function(o){var r=T(o.activeModal,o.children,o.onOpen,o.onOpened,o.onClose,o.onClosed,e);return n.createElement(t,M({},o,r))}}}try{T.displayName="useModalManager",T.__docgenInfo={description:"Реализует переход модалок. При смене activeModal m1 -> m2:\n1. activeModal: m1, exitingModal: null, enteringModal: null, триггер перехода\n2. activeModal: m2, exitingModal: m1, enteringModal: null, рендерим m2 чтобы прошел init, начинаем анимацию выхода\nодновременный переход между ModalPage:\n  3a. activeModal: m2, exitingModal: m1, enteringModal: m2\n  4a. exitingModal и enteringModal переходят в null в порядке завершения анимации\nИЛИ дожидаемся скрытия ModalCard\n  3b. activeModal: m2, exitingModal: null, enteringModal: m2\n  4b. enteringModal переходит в null после завершения анимации\n5. activeModal: m2, exitingModal: null, enteringModal: null, переход закончен",displayName:"useModalManager",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/ModalRoot/useModalManager.tsx#useModalManager"]={docgenInfo:T.__docgenInfo,name:"useModalManager",path:"src/components/ModalRoot/useModalManager.tsx#useModalManager"})}catch(e){}try{j.displayName="withModalManager",j.__docgenInfo={description:"",displayName:"withModalManager",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/ModalRoot/useModalManager.tsx#withModalManager"]={docgenInfo:j.__docgenInfo,name:"withModalManager",path:"src/components/ModalRoot/useModalManager.tsx#withModalManager"})}catch(e){}var w=o("../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),x=o.n(w),C=o("../../node_modules/style-loader/dist/runtime/singletonStyleDomAPI.js"),k=o.n(C),A=o("../../node_modules/style-loader/dist/runtime/insertBySelector.js"),I=o.n(A),D=o("../../node_modules/style-loader/dist/runtime/setAttributesWithAttributesAndNonce.js"),Y=o.n(D),V=o("../../node_modules/style-loader/dist/runtime/insertStyleElement.js"),q=o.n(V),F=o("../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[15].use[1]!../../node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[15].use[2]!./src/components/ModalRoot/ModalRoot.module.css"),N={attributes:{class:"vkui-style"}};N.setAttributes=Y(),N.insert=I().bind(null,"head"),N.domAPI=k(),N.insertStyleElement=q(),x()(F.Z,N);let L=F.Z&&F.Z.locals?F.Z.locals:void 0;function B(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,n=Array(t);o<t;o++)n[o]=e[o];return n}function H(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function K(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Z(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function z(e){return(z=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function W(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{},n=Object.keys(o);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(o).filter(function(e){return Object.getOwnPropertyDescriptor(o,e).enumerable}))),n.forEach(function(t){Z(e,t,o[t])})}return e}function Q(e,t){return(Q=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function U(e){return function(e){if(Array.isArray(e))return B(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return B(e,t);var o=Object.prototype.toString.call(e).slice(8,-1);if("Object"===o&&e.constructor&&(o=e.constructor.name),"Map"===o||"Set"===o)return Array.from(o);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return B(e,t)}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var X=(0,v.O)("ModalRoot");function J(e,t){return!!t&&e>=t[0]&&e<=t[1]}function G(e){return(0,l.uZ)(e,0,98)}var $=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Q(e,t)}(o,e);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var o,n=z(e);if(t){var r=z(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return function(e,t){return t&&("object"===function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}(t)||"function"==typeof t)?t:H(e)}(this,o)}}(o);function o(e){var r;return!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,o),Z(H(r=t.call(this,e)),"documentScrolling",!1),Z(H(r),"maskElementRef",void 0),Z(H(r),"viewportRef",n.createRef()),Z(H(r),"maskAnimationFrame",void 0),Z(H(r),"modalRootContext",void 0),Z(H(r),"frameIds",void 0),Z(H(r),"restoreFocusTo",void 0),Z(H(r),"preventTouch",function(e){if(!e)return!1;for(;e.originalEvent;)e=e.originalEvent;return e.preventDefault&&e.preventDefault(),!1}),Z(H(r),"updateModalHeight",function(){var e=r.props.getModalState(r.props.activeModal);e&&"page"===e.type&&(r.props.enteringModal?r.waitTransitionFinish(e,function(){requestAnimationFrame(function(){return r.checkPageContentHeight()})}):requestAnimationFrame(function(){return r.checkPageContentHeight()}))}),Z(H(r),"onTouchMove",function(e){if(!r.props.exitingModal){var t=r.props.getModalState(r.props.activeModal);return t?"page"===t.type?r.onPageTouchMove(e,t):"card"===t.type?r.onCardTouchMove(e,t):void 0:void 0}}),Z(H(r),"onTouchEnd",function(e){var t=r.props.getModalState(r.props.activeModal);return(null==t?void 0:t.type)==="page"?r.onPageTouchEnd(e,t):(null==t?void 0:t.type)==="card"?r.onCardTouchEnd(e,t):void 0}),Z(H(r),"onScroll",function(e){var t,o=r.props.activeModal,n=e.target;if(o){var a=r.props.getModalState(o);(null==a?void 0:a.type)==="page"&&(null==a?void 0:null===(t=a.contentElement)||void 0===t?void 0:t.contains(n))&&(a.contentScrolled=!0,a.contentScrollStopTimeout&&clearTimeout(a.contentScrollStopTimeout),a.contentScrollStopTimeout=setTimeout(function(){a.contentScrolled&&(a.contentScrolled=!1)},250))}}),r.state={touchDown:!1,dragging:!1,modalOpenedLog:[]},r.maskElementRef=n.createRef(),r.modalRootContext={updateModalHeight:r.updateModalHeight,registerModal:function(e){var t,o=e.id,n=function(e,t){if(null==e)return{};var o,n,r=function(e,t){if(null==e)return{};var o,n,r={},a=Object.keys(e);for(n=0;n<a.length;n++)o=a[n],t.indexOf(o)>=0||(r[o]=e[o]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)o=a[n],!(t.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(e,o)&&(r[o]=e[o])}return r}(e,["id"]);return Object.assign(null!==(t=r.props.getModalState(o))&&void 0!==t?t:{},n)},onClose:function(){return r.props.onExit()},isInsideModal:!0},r.frameIds={},r}return!function(e,t,o){t&&K(e.prototype,t),o&&K(e,o)}(o,[{key:"timeout",get:function(){return"ios"===this.props.platform?400:320}},{key:"document",get:function(){return this.props.document}},{key:"window",get:function(){return this.props.window}},{key:"getModals",value:function(){return n.Children.toArray(this.props.children)}},{key:"componentDidMount",value:function(){var e;null===(e=this.window)||void 0===e||e.addEventListener("resize",this.updateModalHeight,!1)}},{key:"componentWillUnmount",value:function(){this.toggleDocumentScrolling(!0),this.window.removeEventListener("resize",this.updateModalHeight,!1)}},{key:"componentDidUpdate",value:function(e){var t=this;if(this.props.exitingModal&&this.props.exitingModal!==e.exitingModal&&this.closeModal(this.props.exitingModal),this.props.enteringModal&&this.props.enteringModal!==e.enteringModal){var o=this.props.getModalState(this.props.enteringModal);this.props.onEnter(),this.waitTransitionFinish(o,function(){o&&(o.innerElement&&(o.innerElement.style.transitionDelay=""),t.onEntered(o))}),(null==o?void 0:o.innerElement)&&(o.innerElement.style.transitionDelay=this.props.delayEnter?"".concat(this.timeout,"ms"):"",this.animateTranslate(o,o.translateY),this.setMaskOpacity(o,1))}this.props.activeModal&&!e.activeModal&&(this.restoreFocusTo=this.document.activeElement),this.props.activeModal||this.props.exitingModal||!this.restoreFocusTo||(this.restoreFocusTo.focus(),this.restoreFocusTo=null),this.toggleDocumentScrolling(!this.props.activeModal&&!this.props.exitingModal)}},{key:"toggleDocumentScrolling",value:function(e){this.documentScrolling!==e&&(this.documentScrolling=e,e?(this.document.documentElement.classList.remove("vkui--disable-overscroll-behavior"),this.window.removeEventListener("touchmove",this.preventTouch,{passive:!1})):(this.document.documentElement.classList.add("vkui--disable-overscroll-behavior"),this.window.addEventListener("touchmove",this.preventTouch,{passive:!1})))}},{key:"checkPageContentHeight",value:function(){var e=this.props.getModalState(this.props.activeModal);if((null==e?void 0:e.type)==="page"&&(null==e?void 0:e.modalElement)){var t=W({},e);et(e);var o=W({},e),n=!1;t.expandable===o.expandable?t.translateYFrom!==o.translateYFrom&&(n=!0):n=!0,n&&this.animateTranslate(e,e.translateY)}}},{key:"onEntered",value:function(e){var t=e.id,o=e.modalElement;this.props.noFocusToDialog||!o||o.contains(this.document.activeElement)||o.focus(),this.props.onEntered(t)}},{key:"closeModal",value:function(e){var t,o,n,r=this;this.setState({touchDown:!1});var a=this.props.getModalState(e);if(!a){e&&X("closeActiveModal: модальное окно (страница) ".concat(e," не существует"),"error");return}this.state.modalOpenedLog.length||this.setState(function(t){return{modalOpenedLog:U(t.modalOpenedLog).concat([e])}});var i=this.props.getModalState(this.props.activeModal),l=!!i&&"page"===i.type,s=!!a&&"page"===a.type;this.waitTransitionFinish(a,function(){return r.props.onExited(e)});var d=s&&l&&(null!==(t=a.translateY)&&void 0!==t?t:0)<=(null!==(o=null==i?void 0:i.translateYFrom)&&void 0!==o?o:0)&&!this.props.isBack?(null!==(n=null==i?void 0:i.translateYFrom)&&void 0!==n?n:0)+10:100;this.animateTranslate(a,d),i?i.id&&!this.state.modalOpenedLog.includes(i.id)&&(i.translateY=void 0,this.setState(function(e){return{modalOpenedLog:U(e.modalOpenedLog).concat([i.id])}})):(this.setMaskOpacity(a,0),this.setState({modalOpenedLog:[]}),a.translateY=void 0,a.expandable=void 0)}},{key:"onPageTouchMove",value:function(e,t){var o=e.shiftY,n=e.originalEvent,r=n.target;if(!e.isY){(null===(c=this.viewportRef.current)||void 0===c?void 0:c.contains(r))&&n.preventDefault();return}if(!(null===(d=t.innerElement)||void 0===d?void 0:d.contains(r)))return n.preventDefault();n.stopPropagation();var a=t.expandable,i=t.contentScrolled,l=t.collapsed,s=t.expanded;if(this.state.touchDown||(t.touchStartContentScrollTop=null!==(m=null===(p=t.contentElement)||void 0===p?void 0:p.scrollTop)&&void 0!==m?m:0,this.setState({touchDown:!0})),!i&&(null===t.touchMovePositive&&(t.touchMovePositive=o>0),!t.expandable||l||s&&t.touchMovePositive&&0===t.touchStartContentScrollTop||(null===(u=t.headerElement)||void 0===u?void 0:u.contains(r)))){if(n.preventDefault(),!a&&o<0||!this.window)return;this.state.dragging||this.setState({dragging:!0});var d,u,c,p,m,v,h=o/this.window.innerHeight*100,y=(0,f.Dc)(h,72,.8,"ios"!==this.props.platform);t.touchShiftYPercent=h,t.translateYCurrent=G((null!==(v=t.translateY)&&void 0!==v?v:0)+y),this.animateTranslate(t,t.translateYCurrent),this.setMaskOpacity(t)}}},{key:"onCardTouchMove",value:function(e,t){var o=e.originalEvent,n=e.shiftY,r=o.target;if(null===(a=t.innerElement)||void 0===a?void 0:a.contains(r)){this.state.touchDown||this.setState({touchDown:!0,dragging:!0});var a,i,l=n/t.innerElement.offsetHeight*100,s=(0,f.Dc)(l,72,1.2,"ios"!==this.props.platform);t.touchShiftYPercent=l,t.translateYCurrent=Math.max(0,(null!==(i=t.translateY)&&void 0!==i?i:0)+s),this.animateTranslate(t,t.translateYCurrent),this.setMaskOpacity(t)}}},{key:"onPageTouchEnd",value:function(e,t){var o=this,n=e.startY,r=e.shiftY;if(t.contentScrolled=!1,t.touchMovePositive=null,this.state.dragging&&this.window){var a,i,l,s,d,u,c,p=(n+r)/this.window.innerHeight*100,m=null!==(i=t.translateYCurrent)&&void 0!==i?i:0,f=m/e.duration*144*((null!==(l=t.touchShiftYPercent)&&void 0!==l?l:0)<0?-1:1);m=G(m+f),100!==(m=100!==t.settlingHeight?J(m,t.expandedRange)?null!==(d=null===(s=t.expandedRange)||void 0===s?void 0:s[0])&&void 0!==d?d:0:J(m,t.collapsedRange)?null!==(u=t.translateYFrom)&&void 0!==u?u:0:J(m,t.hiddenRange)?100:null!==(c=t.translateYFrom)&&void 0!==c?c:0:J(m,[0,25])?0:100)&&p>=75&&(m=100),t.translateY=m,t.translateYCurrent=m,t.collapsed=J(m,t.collapsedRange),t.expanded=0===m,t.hidden=100===m,t.hidden&&this.props.onExit(),a=function(){t.hidden||o.animateTranslate(t,t.translateY),o.setMaskOpacity(t)}}this.setState({touchDown:!1,dragging:!1},a)}},{key:"onCardTouchEnd",value:function(e,t){var o=e.duration,n=this;if(this.state.dragging){var r,a,i,l=null!==(a=t.translateYCurrent)&&void 0!==a?a:0,s=l/o*144*((null!==(i=t.touchShiftYPercent)&&void 0!==i?i:0)<0?-1:1);l=(l=Math.max(0,l+s))>=30?100:0,t.translateY=l,t.hidden=100===l,t.hidden&&this.props.onExit(),r=function(){t.hidden||n.animateTranslate(t,t.translateY),n.setMaskOpacity(t)}}this.setState({touchDown:!1,dragging:!1},r)}},{key:"waitTransitionFinish",value:function(e,t){if(m.g.supported){var o,n=function(){var o;null==e||null===(o=e.innerElement)||void 0===o||o.removeEventListener(m.g.name,n),t()};null==e||null===(o=e.innerElement)||void 0===o||o.addEventListener(m.g.name,n)}else setTimeout(t,this.timeout)}},{key:"animateTranslate",value:function(e,t){var o="animateTranslateFrame".concat(e.id);cancelAnimationFrame(this.frameIds[o]),this.frameIds[o]=requestAnimationFrame(function(){!function(e,t){e&&(e.style.transform=t,e.style.webkitTransform=t)}(e.innerElement,"translate3d(0, ".concat(t,"%, 0)"))})}},{key:"setMaskOpacity",value:function(e){var t,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=this;(null!==o||(null===(t=this.props.history)||void 0===t?void 0:t[0])===e.id)&&(this.maskAnimationFrame&&cancelAnimationFrame(this.maskAnimationFrame),this.maskAnimationFrame=requestAnimationFrame(function(){if(n.maskElementRef.current){var t=e.translateY,r=void 0===t?0:t,a=e.translateYCurrent,i=null===o?1-((void 0===a?0:a)-r)/(100-r)||0:o;n.maskElementRef.current.style.opacity=(0,l.uZ)(i,0,100).toString(),n.maskElementRef.current.style.transitionDelay=i&&n.props.delayEnter?"".concat(n.timeout,"ms"):""}}))}},{key:"render",value:function(){var e,t=this,o=this.props,r=o.activeModal,a=o.exitingModal,l=o.enteringModal,s=o.modalOverlayTestId,d=this.state,u=d.touchDown,c=d.dragging;return r||a?n.createElement(g.Z.Provider,{value:!0},n.createElement(b.E.Provider,{value:this.modalRootContext},n.createElement(y.X,{className:(0,i.AK)(L.ModalRoot,(null===(e=this.props.configProvider)||void 0===e?void 0:e.hasCustomPanelHeaderAfter)&&L["ModalRoot--hasCustomPanelHeaderAfterSlot"],u&&(0,i.AK)(L["ModalRoot--touched"],"vkuiInternalModalRoot--touched"),!!(l||a)&&(0,i.AK)(L["ModalRoot--switching"],"vkuiInternalModalRoot--switching")),onMove:this.onTouchMove,onEnd:this.onTouchEnd,onScroll:this.onScroll},n.createElement("div",{"data-testid":s,className:L.ModalRoot__mask,onClick:this.props.onExit,ref:this.maskElementRef}),n.createElement("div",{className:L.ModalRoot__viewport,ref:this.viewportRef},this.getModals().map(function(e){var o=(0,p.o)(e.props,X),l=t.props.getModalState(o);if(o!==r&&o!==a||!l)return null;var s=W({},l),d="page"===s.type,u="modal-".concat(o);return n.createElement(h.i,{key:u,onClose:t.props.onExit,timeout:t.timeout,className:(0,i.AK)(L.ModalRoot__modal,c&&"vkuiInternalModalRoot__modal--dragging",d&&s.expandable&&"vkuiInternalModalRoot__modal--expandable",d&&s.collapsed&&"vkuiInternalModalRoot__modal--collapsed"),restoreFocus:!1},e)}))))):null}}]),o}(n.Component),ee=function(e,t,o){return function(r){var a=n.useContext(t);return n.createElement(e,function(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),o.push.apply(o,n)}return o})(Object(t)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(t,o))}),e}(function(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{},n=Object.keys(o);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(o).filter(function(e){return Object.getOwnPropertyDescriptor(o,e).enumerable}))),n.forEach(function(t){s(e,t,o[t])})}return e}({},r),s({},o,a)))}}(u((0,c.N3)(j(function(e){switch(e.type){case"page":return e.settlingHeight=e.settlingHeight||75,et(e);case"card":return function(e){e.translateY=0}(e)}})($))),d.q,"configProvider");function et(e){var t,o,n,r,a,i=e.contentElement,l=e.bottomInset,s=(null==i?void 0:i.firstElementChild).scrollHeight+((null==l?void 0:l.offsetHeight)||0),d=e.translateY;e.expandable=s>(null!==(m=null==i?void 0:i.clientHeight)&&void 0!==m?m:0)||100===e.settlingHeight||e.expanded;var u=!1,c=!1,p=!!(e.expandable&&100!==e.settlingHeight);if(e.expandable){var m,f,v,h,y,g,b,O=(f=100-(null!==(b=e.settlingHeight)&&void 0!==b?b:0))/2,_=100-f;h=[0,O],y=p?[O,f+_/4]:void 0,g=[f+_/4,100],u=p&&f>0,c=f<=0,v=f}else h=[v=f=100-(s+(null!==(r=null===(t=e.headerElement)||void 0===t?void 0:t.offsetHeight)&&void 0!==r?r:0))/(null!==(a=null===(n=e.innerElement)||void 0===n?void 0:null===(o=n.parentElement)||void 0===o?void 0:o.offsetHeight)&&void 0!==a?a:0)*100,v+25],y=void 0,g=[v+25,v+100];(e.expandable&&v>(null!=d?d:100)||100===e.settlingHeight)&&(v=0),0===v&&(c=!0,u=!1),e.expandedRange=h,e.collapsedRange=y,e.hiddenRange=g,e.translateY=v,e.translateYFrom=f,e.collapsed=u,e.expanded=c}try{ee.displayName="ModalRootTouch",ee.__docgenInfo={description:"",displayName:"ModalRootTouch",props:{document:{defaultValue:null,description:"@ignore",name:"document",required:!1,type:{name:"Document"}},onClose:{defaultValue:null,description:"Будет вызвано при начале закрытия активной модалки с её id",name:"onClose",required:!1,type:{name:"((modalId: string) => void)"}},onOpen:{defaultValue:null,description:"Будет вызвано при начале открытия активной модалки с её id",name:"onOpen",required:!1,type:{name:"((modalId: string) => void)"}},window:{defaultValue:null,description:"@ignore",name:"window",required:!1,type:{name:"Window"}},activeModal:{defaultValue:null,description:"",name:"activeModal",required:!1,type:{name:"string | null"}},onOpened:{defaultValue:null,description:"Будет вызвано при окончательном открытии активной модалки с её id",name:"onOpened",required:!1,type:{name:"((modalId: string) => void)"}},onClosed:{defaultValue:null,description:"Будет вызвано при окончательном закрытии активной модалки с её id",name:"onClosed",required:!1,type:{name:"((modalId: string) => void)"}},modalOverlayTestId:{defaultValue:null,description:"`data-testid` для маски",name:"modalOverlayTestId",required:!1,type:{name:"string"}},noFocusToDialog:{defaultValue:null,description:"Отключает фокус на контейнер диалогового окна при открытии.",name:"noFocusToDialog",required:!1,type:{name:"boolean"}},configProvider:{defaultValue:null,description:"@ignore",name:"configProvider",required:!1,type:{name:"ConfigProviderContextInterface"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/ModalRoot/ModalRoot.tsx#ModalRootTouch"]={docgenInfo:ee.__docgenInfo,name:"ModalRootTouch",path:"src/components/ModalRoot/ModalRoot.tsx#ModalRootTouch"})}catch(e){}var eo=o("./src/hooks/useObjectMemo.ts"),en=o("./src/hooks/usePrevious.ts"),er=o("./src/hooks/useWaitTransitionFinish.ts"),ea=(0,v.O)("ModalRoot"),ei=function(e){var t=e.activeModal,o=e.children,r=e.noFocusToDialog,a=void 0!==r&&r,s=e.onOpen,u=e.onOpened,m=e.onClose,f=e.onClosed,v=e.modalOverlayTestId,y=n.useRef(null),g=n.useRef(void 0),O=n.useRef(void 0),_=(0,c.NG)().document,M=(0,d.F)(),S=M.hasCustomPanelHeaderAfter,R=M.platform,P=T(t,o,s,u,m,f,i.ZT),E=P.activeModal,j=P.exitingModal,w=P.onExit,x=P.getModalState,C=P.enteringModal,k=P.onEnter,A=P.onEntered,I=P.onExited,D=P.history,Y=P.delayEnter,V=(0,er.w)().waitTransitionFinish,q=(0,en.D)({exitingModal:j,enteringModal:C,activeModal:E}),F=(0,eo.r)({updateModalHeight:function(){},registerModal:function(e){var t,o=e.id,n=function(e,t){if(null==e)return{};var o,n,r=function(e,t){if(null==e)return{};var o,n,r={},a=Object.keys(e);for(n=0;n<a.length;n++)o=a[n],t.indexOf(o)>=0||(r[o]=e[o]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)o=a[n],!(t.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(e,o)&&(r[o]=e[o])}return r}(e,["id"]);return Object.assign(null!==(t=x(o))&&void 0!==t?t:{},n)},onClose:w,isInsideModal:!0}),N="ios"===R?400:320,B=n.Children.toArray(o),H=function(e,t){(null==e?void 0:e.innerElement)&&(e.innerElement.style.transition="",e.innerElement.style.transitionDelay=t&&Y?"".concat(N,"ms"):"",e.innerElement.style.opacity=t?"1":"0")},K=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;(null!==t||(null==D?void 0:D[0])===e.id)&&(g.current&&cancelAnimationFrame(g.current),g.current=requestAnimationFrame(function(){if(y.current){var o=e.translateY,n=void 0===o?0:o,r=e.translateYCurrent;y.current.style.opacity=(0,l.uZ)(null===t?1-((void 0===r?0:r)-n)/(100-n)||0:t,0,100).toString()}}))},Z=function(e){var t=e.id,o=e.modalElement;a||!o||o.contains(_.activeElement)||o.focus(),A(t)},z=function(){if(C&&q){var e=x(C);if(k(),!q.exitingModal){requestAnimationFrame(function(){C==C&&e&&(V(e.innerElement,function(){return Z(e)},N),H(e,!0),K(e,1))});return}requestAnimationFrame(function(){(null==e?void 0:e.innerElement)&&(e.innerElement.style.transition="none",e.innerElement.style.opacity="1",K(e,1))}),e&&Z(e)}},W=function(e){var t=x(e);if(t){if(!E){requestAnimationFrame(function(){V(null==t?void 0:t.innerElement,function(){return I(e)},N),H(t,!1),K(t,0)});return}I(e)}};return(n.useEffect(function(){if(q){if(j&&j!==q.exitingModal&&W(j),C&&C!==q.enteringModal&&z(),E&&!q.activeModal){var e;O.current=null!==(e=null==_?void 0:_.activeElement)&&void 0!==e?e:void 0}E||j||!O.current||(O.current.focus(),O.current=void 0)}}),E||j)?n.createElement(b.E.Provider,{value:F},n.createElement("div",{className:(0,i.AK)(L.ModalRoot,S&&L["ModalRoot--hasCustomPanelHeaderAfterSlot"],L["ModalRoot--desktop"])},n.createElement("div",{"data-testid":v,className:L.ModalRoot__mask,ref:y,onClick:w}),n.createElement("div",{className:L.ModalRoot__viewport},B.map(function(e){var t=(0,p.o)(e.props,ea);return t!==E&&t!==j?null:n.createElement(h.i,{restoreFocus:!1,onClose:w,timeout:N,key:"modal-".concat(t),className:L.ModalRoot__modal},e)})))):null};try{ei.displayName="ModalRootDesktop",ei.__docgenInfo={description:"",displayName:"ModalRootDesktop",props:{configProvider:{defaultValue:null,description:"@ignore",name:"configProvider",required:!1,type:{name:"ConfigProviderContextInterface"}},platform:{defaultValue:null,description:"@ignore",name:"platform",required:!1,type:{name:"PlatformType"}},activeModal:{defaultValue:null,description:"",name:"activeModal",required:!1,type:{name:"string | null"}},onOpen:{defaultValue:null,description:"Будет вызвано при начале открытия активной модалки с её id",name:"onOpen",required:!1,type:{name:"((modalId: string) => void)"}},onOpened:{defaultValue:null,description:"Будет вызвано при окончательном открытии активной модалки с её id",name:"onOpened",required:!1,type:{name:"((modalId: string) => void)"}},onClose:{defaultValue:null,description:"Будет вызвано при начале закрытия активной модалки с её id",name:"onClose",required:!1,type:{name:"((modalId: string) => void)"}},onClosed:{defaultValue:null,description:"Будет вызвано при окончательном закрытии активной модалки с её id",name:"onClosed",required:!1,type:{name:"((modalId: string) => void)"}},modalOverlayTestId:{defaultValue:null,description:"`data-testid` для маски",name:"modalOverlayTestId",required:!1,type:{name:"string"}},noFocusToDialog:{defaultValue:{value:"false"},description:"Отключает фокус на контейнер диалогового окна при открытии.",name:"noFocusToDialog",required:!1,type:{name:"boolean"}},window:{defaultValue:null,description:"@ignore",name:"window",required:!1,type:{name:"Window"}},document:{defaultValue:null,description:"@ignore",name:"document",required:!1,type:{name:"Document"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/ModalRoot/ModalRootDesktop.tsx#ModalRootDesktop"]={docgenInfo:ei.__docgenInfo,name:"ModalRootDesktop",path:"src/components/ModalRoot/ModalRootDesktop.tsx#ModalRootDesktop"})}catch(e){}var el=function(e){var t=(0,r.o)().isDesktop;(0,a.Pr)(!!e.activeModal);var o=t?ei:ee;return n.createElement(o,e)};try{el.displayName="ModalRoot",el.__docgenInfo={description:"",displayName:"ModalRoot",props:{activeModal:{defaultValue:null,description:"",name:"activeModal",required:!1,type:{name:"string | null"}},onOpen:{defaultValue:null,description:"Будет вызвано при начале открытия активной модалки с её id",name:"onOpen",required:!1,type:{name:"((modalId: string) => void)"}},onOpened:{defaultValue:null,description:"Будет вызвано при окончательном открытии активной модалки с её id",name:"onOpened",required:!1,type:{name:"((modalId: string) => void)"}},onClose:{defaultValue:null,description:"Будет вызвано при начале закрытия активной модалки с её id",name:"onClose",required:!1,type:{name:"((modalId: string) => void)"}},onClosed:{defaultValue:null,description:"Будет вызвано при окончательном закрытии активной модалки с её id",name:"onClosed",required:!1,type:{name:"((modalId: string) => void)"}},modalOverlayTestId:{defaultValue:null,description:"`data-testid` для маски",name:"modalOverlayTestId",required:!1,type:{name:"string"}},noFocusToDialog:{defaultValue:null,description:"Отключает фокус на контейнер диалогового окна при открытии.",name:"noFocusToDialog",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/ModalRoot/ModalRootAdaptive.tsx#ModalRoot"]={docgenInfo:el.__docgenInfo,name:"ModalRoot",path:"src/components/ModalRoot/ModalRootAdaptive.tsx#ModalRoot"})}catch(e){}},"./src/components/Placeholder/Placeholder.tsx":(e,t,o)=>{o.d(t,{V:()=>j});var n=o("../../node_modules/react/index.js"),r=o("../../node_modules/@vkontakte/vkjs/lib/es6/index.js"),a=o("./src/components/RootComponent/RootComponent.tsx"),i=o("./src/components/Typography/Headline/Headline.tsx"),l=o("./src/components/Typography/Title/Title.tsx"),s=o("../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),d=o.n(s),u=o("../../node_modules/style-loader/dist/runtime/singletonStyleDomAPI.js"),c=o.n(u),p=o("../../node_modules/style-loader/dist/runtime/insertBySelector.js"),m=o.n(p),f=o("../../node_modules/style-loader/dist/runtime/setAttributesWithAttributesAndNonce.js"),v=o.n(f),h=o("../../node_modules/style-loader/dist/runtime/insertStyleElement.js"),y=o.n(h),g=o("../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[15].use[1]!../../node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[15].use[2]!./src/components/Placeholder/Placeholder.module.css"),b={attributes:{class:"vkui-style"}};b.setAttributes=v(),b.insert=m().bind(null,"head"),b.domAPI=c(),b.insertStyleElement=y(),d()(g.Z,b);let O=g.Z&&g.Z.locals?g.Z.locals:void 0;function _(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{},n=Object.keys(o);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(o).filter(function(e){return Object.getOwnPropertyDescriptor(o,e).enumerable}))),n.forEach(function(t){!function(e,t,o){t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o}(e,t,o[t])})}return e}function M(e,t){if(null==e)return{};var o,n,r=function(e,t){if(null==e)return{};var o,n,r={},a=Object.keys(e);for(n=0;n<a.length;n++)o=a[n],t.indexOf(o)>=0||(r[o]=e[o]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)o=a[n],!(t.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(e,o)&&(r[o]=e[o])}return r}var S=function(e){var t=e.stretched,o=e.withPadding,i=M(e,["stretched","withPadding"]);return n.createElement(a.U,_({baseClassName:(0,r.AK)(O.Placeholder,t&&O["Placeholder--stretched"],(void 0===o||o)&&O["Placeholder--withPadding"])},i))},R=function(e){return n.createElement(a.U,_({baseClassName:O.Placeholder__icon},e))},P=function(e){var t=e.className,o=M(e,["className"]);return n.createElement(l.D,_({level:"2",weight:"2",className:(0,r.AK)(t,O.Placeholder__header)},o))},E=function(e){var t=e.className,o=M(e,["className"]);return n.createElement(i.s,_({weight:"3",className:(0,r.AK)(t,O.Placeholder__text)},o))},T=function(e){return n.createElement(a.U,_({baseClassName:O.Placeholder__action},e))},j=function(e){var t=e.icon,o=e.header,a=e.children,i=e.action,l=e.withPadding,s=M(e,["icon","header","children","action","withPadding"]);return n.createElement(S,_({withPadding:void 0===l||l},s),(0,r.p7)(t)&&n.createElement(R,null,t),(0,r.p7)(o)&&n.createElement(P,null,o),(0,r.p7)(a)&&n.createElement(E,null,a),(0,r.p7)(i)&&n.createElement(T,null,i))};j.Container=S,j.Icon=R,j.Header=P,j.Text=E,j.Actions=T;try{j.displayName="Placeholder",j.__docgenInfo={description:"",displayName:"Placeholder",props:{icon:{defaultValue:null,description:"Иконка",name:"icon",required:!1,type:{name:"ReactNode"}},header:{defaultValue:null,description:"Заголовок плейсхолдера",name:"header",required:!1,type:{name:"ReactNode"}},action:{defaultValue:null,description:"Кнопка действия",name:"action",required:!1,type:{name:"ReactNode"}},stretched:{defaultValue:null,description:"Растягивает плейсхолдер на весь экран, но в таком случае на экране должен быть только плейсхолдер",name:"stretched",required:!1,type:{name:"boolean"}},withPadding:{defaultValue:{value:"true"},description:"Добавляет отступы к компоненту",name:"withPadding",required:!1,type:{name:"boolean"}},getRootRef:{defaultValue:null,description:"",name:"getRootRef",required:!1,type:{name:"Ref<HTMLDivElement>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Placeholder/Placeholder.tsx#Placeholder"]={docgenInfo:j.__docgenInfo,name:"Placeholder",path:"src/components/Placeholder/Placeholder.tsx#Placeholder"})}catch(e){}try{Container.displayName="Placeholder.Container",Container.__docgenInfo={description:"",displayName:"Placeholder.Container",props:{stretched:{defaultValue:null,description:"Растягивает плейсхолдер на весь экран, но в таком случае на экране должен быть только плейсхолдер",name:"stretched",required:!1,type:{name:"boolean"}},withPadding:{defaultValue:{value:"true"},description:"Добавляет отступы к компоненту",name:"withPadding",required:!1,type:{name:"boolean"}},getRootRef:{defaultValue:null,description:"",name:"getRootRef",required:!1,type:{name:"Ref<HTMLDivElement>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Placeholder/Placeholder.tsx#Placeholder.Container"]={docgenInfo:j.Container.__docgenInfo,name:"Placeholder.Container",path:"src/components/Placeholder/Placeholder.tsx#Placeholder.Container"})}catch(e){}try{Icon.displayName="Placeholder.Icon",Icon.__docgenInfo={description:"",displayName:"Placeholder.Icon",props:{getRootRef:{defaultValue:null,description:"",name:"getRootRef",required:!1,type:{name:"Ref<HTMLDivElement>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Placeholder/Placeholder.tsx#Placeholder.Icon"]={docgenInfo:j.Icon.__docgenInfo,name:"Placeholder.Icon",path:"src/components/Placeholder/Placeholder.tsx#Placeholder.Icon"})}catch(e){}try{Header.displayName="Placeholder.Header",Header.__docgenInfo={description:"",displayName:"Placeholder.Header",props:{getRootRef:{defaultValue:null,description:"",name:"getRootRef",required:!1,type:{name:"Ref<HTMLElement>"}},Component:{defaultValue:null,description:"",name:"Component",required:!1,type:{name:"ElementType<any, keyof IntrinsicElements>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Placeholder/Placeholder.tsx#Placeholder.Header"]={docgenInfo:j.Header.__docgenInfo,name:"Placeholder.Header",path:"src/components/Placeholder/Placeholder.tsx#Placeholder.Header"})}catch(e){}try{Text.displayName="Placeholder.Text",Text.__docgenInfo={description:"",displayName:"Placeholder.Text",props:{getRootRef:{defaultValue:null,description:"",name:"getRootRef",required:!1,type:{name:"Ref<HTMLElement>"}},Component:{defaultValue:null,description:"",name:"Component",required:!1,type:{name:"ElementType<any, keyof IntrinsicElements>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Placeholder/Placeholder.tsx#Placeholder.Text"]={docgenInfo:j.Text.__docgenInfo,name:"Placeholder.Text",path:"src/components/Placeholder/Placeholder.tsx#Placeholder.Text"})}catch(e){}try{Actions.displayName="Placeholder.Actions",Actions.__docgenInfo={description:"",displayName:"Placeholder.Actions",props:{getRootRef:{defaultValue:null,description:"",name:"getRootRef",required:!1,type:{name:"Ref<HTMLDivElement>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Placeholder/Placeholder.tsx#Placeholder.Actions"]={docgenInfo:j.Actions.__docgenInfo,name:"Placeholder.Actions",path:"src/components/Placeholder/Placeholder.tsx#Placeholder.Actions"})}catch(e){}},"./src/components/Touch/TouchContext.ts":(e,t,o)=>{o.d(t,{Z:()=>n});let n=o("../../node_modules/react/index.js").createContext(!1)},"./src/components/Typography/Title/Title.tsx":(e,t,o)=>{o.d(t,{D:()=>O});var n=o("../../node_modules/react/index.js"),r=o("../../node_modules/@vkontakte/vkjs/lib/es6/index.js"),a=o("./src/components/Typography/Typography.tsx"),i=o("../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),l=o.n(i),s=o("../../node_modules/style-loader/dist/runtime/singletonStyleDomAPI.js"),d=o.n(s),u=o("../../node_modules/style-loader/dist/runtime/insertBySelector.js"),c=o.n(u),p=o("../../node_modules/style-loader/dist/runtime/setAttributesWithAttributesAndNonce.js"),m=o.n(p),f=o("../../node_modules/style-loader/dist/runtime/insertStyleElement.js"),v=o.n(f),h=o("../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[15].use[1]!../../node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[15].use[2]!./src/components/Typography/Title/Title.module.css"),y={attributes:{class:"vkui-style"}};y.setAttributes=m(),y.insert=c().bind(null,"head"),y.domAPI=d(),y.insertStyleElement=v(),l()(h.Z,y);let g=h.Z&&h.Z.locals?h.Z.locals:void 0;var b={1:g["Title--level-1"],2:g["Title--level-2"],3:g["Title--level-3"]},O=function(e){var t=e.className,o=e.level,i=e.Component,l=e.normalize,s=function(e,t){if(null==e)return{};var o,n,r=function(e,t){if(null==e)return{};var o,n,r={},a=Object.keys(e);for(n=0;n<a.length;n++)o=a[n],t.indexOf(o)>=0||(r[o]=e[o]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)o=a[n],!(t.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(e,o)&&(r[o]=e[o])}return r}(e,["className","level","Component","normalize"]);return n.createElement(a.Z,function(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{},n=Object.keys(o);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(o).filter(function(e){return Object.getOwnPropertyDescriptor(o,e).enumerable}))),n.forEach(function(t){!function(e,t,o){t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o}(e,t,o[t])})}return e}({Component:void 0===i?"span":i,normalize:void 0===l||l,className:(0,r.AK)(t,b[void 0===o?"1":o])},s))};try{O.displayName="Title",O.__docgenInfo={description:"Используется для заголовков.",displayName:"Title",props:{level:{defaultValue:{value:"1"},description:"",name:"level",required:!1,type:{name:"enum",value:[{value:'"1"'},{value:'"2"'},{value:'"3"'}]}},weight:{defaultValue:null,description:"Задаёт начертание шрифта, отличное от стандартного.",name:"weight",required:!1,type:{name:"enum",value:[{value:'"1"'},{value:'"2"'},{value:'"3"'}]}},normalize:{defaultValue:{value:"true"},description:"Убирает внешние отступы",name:"normalize",required:!1,type:{name:"boolean"}},Component:{defaultValue:{value:"span"},description:"",name:"Component",required:!1,type:{name:"ElementType<any, keyof IntrinsicElements>"}},getRootRef:{defaultValue:null,description:"",name:"getRootRef",required:!1,type:{name:"Ref<HTMLElement>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Typography/Title/Title.tsx#Title"]={docgenInfo:O.__docgenInfo,name:"Title",path:"src/components/Typography/Title/Title.tsx#Title"})}catch(e){}},"./src/hooks/useAdaptivityWithJSMediaQueries.ts":(e,t,o)=>{o.d(t,{o:()=>m});var n=o("../../node_modules/react/index.js"),r=o("../../node_modules/@vkontakte/vkjs/lib/es6/index.js"),a=o("./src/components/AdaptivityProvider/AdaptivityContext.tsx");function i(e,t){return null!=e?e:t}var l=o("./src/lib/adaptivity/functions.ts"),s=o("./src/lib/matchMedia.ts"),d=o("./src/hooks/useMediaQueries.ts"),u=o("./src/hooks/usePlatform.ts");function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,n=Array(t);o<t;o++)n[o]=e[o];return n}function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var o,n,r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var a=[],i=!0,l=!1;try{for(r=r.call(e);!(i=(o=r.next()).done)&&(a.push(o.value),!t||a.length!==t);i=!0);}catch(e){l=!0,n=e}finally{try{i||null==r.return||r.return()}finally{if(l)throw n}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return c(e,t);var o=Object.prototype.toString.call(e).slice(8,-1);if("Object"===o&&e.constructor&&(o=e.constructor.name),"Map"===o||"Set"===o)return Array.from(o);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return c(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var m=function(){r.Nq||console.error("[useAdaptivityWithJSMediaQueries] Похоже, вы пытаетесь использовать хук вне браузера.\n\nПостарайтесь этого избегать, чтобы не было ошибок при гидратации: при SSR нет информации о размерах экрана.\n\nИспользуйте CSS Media Query или библиотеку по типу https://github.com/artsy/fresnel.");var e=n.useContext(a.s),t=e.viewWidth,o=e.viewHeight,c=e.sizeX,m=e.sizeY,f=e.hasPointer,v=e.hasHover,h=(0,u.F)(),y=(0,d.l)(),g=p(n.useState(function(){return[i(t,(0,l.WN)(y)),i(o,(0,l.Yk)(y))]}),2),b=p(g[0],2),O=b[0],_=b[1],M=g[1],S=n.useMemo(function(){var e=i(f,r.RX),n=i(v,r.NH),a=i(t,O),s=i(o,_),d=i(c,(0,l.Ti)(a)),u=i(m,(0,l.N4)(a,s,e)),p=(0,l.FK)(a,s,e,h);return{viewWidth:a,viewHeight:s,sizeX:d,sizeY:u,hasPointer:e,hasHover:n,isDesktop:p}},[O,_,t,o,c,m,f,v,h]);return n.useEffect(function(){var e=function(){M(function(e){var n=i(t,(0,l.WN)(y)),r=i(o,(0,l.Yk)(y)),a=p(e,2),s=a[0],d=a[1];return s!==n||d!==r?[n,r]:e})};return t||[y.desktopPlus,y.tablet,y.smallTablet,y.mobile].forEach(function(t){return(0,s.E)(t,e)}),o||[y.mediumHeight,y.mobileLandscapeHeight].forEach(function(t){return(0,s.E)(t,e)}),function(){[y.desktopPlus,y.tablet,y.smallTablet,y.mobile,y.mediumHeight,y.mobileLandscapeHeight].forEach(function(t){return(0,s.x)(t,e)})}},[y,t,o]),S}}}]);