import{a as z,b as d,o as O,s as E,d as A,e as C,f as I,h as P,i as U,j as x}from"./floating-ui.react-dom-BSROouZA.js";import{at as L,aJ as T,r as p,l as j}from"./iframe-CdM-7Hfu.js";const k={ancestorScroll:!0,ancestorResize:!0,elementResize:!1,animationFrame:!1};function J(s,t,i,a=k){const{elementResize:o=!1,...l}=a,c=window.ResizeObserver!==void 0,f=z(s,t,i,{...l,elementResize:o&&c});let n=null;return o&&!c&&(n=new T(i),L(s)&&n.observe(s),n.observe(t),n.appendToTheDOM()),()=>{n&&(n.disconnect(),n=null),f()}}const N=({placement:s="bottom-start",arrowRef:t=null,arrow:i,arrowHeight:a,arrowPadding:o,sameWidth:l,offsetByMainAxis:c=0,offsetByCrossAxis:f=0,customMiddlewares:n,hideWhenReferenceHidden:m,disableFlipMiddleware:h=!1,disableShiftMiddleware:v=!1,flipMiddlewareFallbackAxisSideDirection:b="end"})=>p.useMemo(()=>{const R=!d(s),e=[O({crossAxis:f,mainAxis:i&&a?c+a:c})],u=v?null:E();if(R)e.push(A({alignment:C(s)})),u&&e.push(u);else if(h)u&&e.push(u);else{const r=I({crossAxis:"alignment",fallbackAxisSideDirection:b});s.includes("-")?(e.push(r),u&&e.push(u)):(u&&e.push(u),e.push(r))}return l&&e.push(P({apply({rects:r,elements:g}){Object.assign(g.floating.style,{width:`${r.reference.width}px`})}})),n&&e.push(...n),i&&e.push(U({element:t,padding:o})),m&&e.push(x()),{middlewares:e,strictPlacement:R?void 0:s}},[s,f,i,a,c,h,v,b,l,n,m,t,o]);function $(s,t,i){const a=p.useRef(void 0);p.useEffect(()=>{a.current=t}),j(()=>{if(!i)return;const o=a.current;(o===void 0&&s!==t||o!==void 0&&o!==t)&&i(t)},[s,t,i])}export{$ as a,J as b,N as u};
