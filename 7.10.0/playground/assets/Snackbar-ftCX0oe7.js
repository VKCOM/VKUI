import{k as o4,j as E,R as W,h as Y,v as w,c as a4,r as d,i as r4,ad as s4,l as L,aX as l4}from"./iframe-CdM-7Hfu.js";import{u as i4}from"./useConfigDirection-BPbTAtL3.js";import{u as c4}from"./useFocusWithin-2TkfLAdf.js";import{u as d4}from"./useGlobalEscKeyDown-C4BXSa2F.js";import{B as E4}from"./Button-Wq0du0BJ.js";import{P as m4}from"./Paragraph-cSyBj7WU.js";import{S as f4}from"./Subhead-BqjD9mjg.js";import{r as _,U as p4}from"./rubberbandIfOutOfBounds-BFfi2rS_.js";import{u as D4}from"./useCSSKeyframesAnimationController-Pub-yvLw.js";const B4="_body_1xmoo_1",_4="_sizeYRegular_1xmoo_21",F4="_sizeYNone_1xmoo_33",C4="_modeDark_1xmoo_45",y4="_before_1xmoo_49",A4="_after_1xmoo_53",x4="_content_1xmoo_57",v4="_contentText_1xmoo_64",b4="_contentSubtitle_1xmoo_74",h4="_layoutHorizontal_1xmoo_84",g4="_action_1xmoo_84",R4="_layoutVertical_1xmoo_89",k4="_layoutNone_1xmoo_101",l={body:B4,sizeYRegular:_4,sizeYNone:F4,modeDark:C4,before:y4,after:A4,content:x4,contentText:v4,contentSubtitle:b4,layoutHorizontal:h4,action:g4,layoutVertical:R4,layoutNone:k4},T4={none:l.layoutNone,vertical:l.layoutVertical,horizontal:l.layoutHorizontal},N4={none:l.sizeYNone,regular:l.sizeYRegular};function g({layout:t,action:e,after:u,before:n,mode:r,subtitle:o,children:i,...R}){const{sizeY:A="none"}=o4(),x=u||o?"vertical":"none";return E.jsxs(W,{...R,baseClassName:Y(l.body,T4[t||x],A!=="compact"&&N4[A],r==="dark"&&l.modeDark),children:[n&&E.jsx("div",{className:l.before,children:n}),E.jsxs("div",{className:l.content,children:[E.jsx(m4,{className:l.contentText,children:i}),o&&!e&&E.jsx(f4,{className:l.contentSubtitle,children:o}),e&&!o&&E.jsx("div",{className:l.action,children:e})]}),u&&E.jsx("div",{className:l.after,children:u})]})}try{g.displayName="Basic",g.__docgenInfo={description:"",displayName:"Basic",props:{getRootRef:{defaultValue:null,description:"",name:"getRootRef",required:!1,type:{name:"Ref<HTMLDivElement>"}},action:{defaultValue:null,description:"Элемент действия.\nНе может использоваться одновременно с `subtitle`.",name:"action",required:!1,type:{name:"ReactNode"}},after:{defaultValue:null,description:"Контент в правой части, может быть иконкой 24x24.",name:"after",required:!1,type:{name:"ReactNode"}},layout:{defaultValue:null,description:"Варианты расположения кнопки действия\nПо умолчанию на десктопах, или при наличии элементов `after` или `subtitle`\nимеет значение `vertical`, в остальных случаях `horizontal`.",name:"layout",required:!1,type:{name:"enum",value:[{value:'"horizontal"'},{value:'"vertical"'}]}},before:{defaultValue:null,description:"Может быть следующими компонентами:\n - цветная иконка 24x24 или 28x28 пикселя\n - `<Avatar size={32} />`\n - `<Image size={40} />`.",name:"before",required:!1,type:{name:"ReactNode"}},mode:{defaultValue:null,description:"Задает стиль снекбара.",name:"mode",required:!1,type:{name:"enum",value:[{value:'"default"'},{value:'"dark"'}]}},subtitle:{defaultValue:null,description:"Дополнительная строка текста под `children`.\nНе может использоваться одновременно с `action`.",name:"subtitle",required:!1,type:{name:"ReactNode"}}}}}catch{}function V4(t,e){if(e!==void 0)switch(t){case"top-start":case"top":case"top-end":return{top:e};case"bottom-start":case"bottom":case"bottom-end":return{bottom:e}}}function p(t,e){return e?-1*t:t}function S4(t,e,u){return{shifted:!1,direction:null,isDesktop:u.smallTabletPlus.matches,x:0,y:0,width:t,height:e}}function z4(t,e,u,n=!1){if(e.isDesktop)t.endsWith("start")?e.x=n?_(u.x,0,e.width):_(u.x,-e.width,0):t.endsWith("end")&&(e.x=n?_(u.x,-e.width,0):_(u.x,0,e.width)),t.startsWith("bottom")&&(e.y=_(u.y,0,e.height));else if(t.startsWith("bottom")){e.x=u.x;const r=u.x<0?-1:null,o=u.x>0?1:null;e.direction=r||o}return t.startsWith("top")&&(e.y=_(u.y,-e.height,0)),e.shifted=!0,e}const F=200;function q4(t,e,u,n,r=!1){if(!e.shifted)return!1;const o={x:!1,y:!1},i={x:!1,y:!1};return e.isDesktop?(t.endsWith("start")?(o.x=p(u.x,r)<-u.width/2,i.x=p(u.x,r)<0?p(n.x,r)<p(-F,r):!1):t.endsWith("end")&&(o.x=p(u.x,r)>u.width/2,i.x=p(u.x,r)>0?p(n.x,r)>p(F,r):!1),t.startsWith("bottom")&&(o.y=u.y>u.height/2,i.y=u.y>0?n.y>F:!1)):t.startsWith("bottom")&&(o.x=u.x<-u.width/2||u.x>u.width/2,i.x=u.x<0&&n.x<-F||u.x>0&&n.x>F),t.startsWith("top")&&(o.y=u.y<-u.height/2,i.y=u.y<0?n.y<-F:!1),o.x||i.x||o.y||i.y}const M4="_host_1et5v_1",H4="_ios_1et5v_19",I4="_rtl_1et5v_23",P4="_placementTopStart_1et5v_27",j4="_placementTop_1et5v_27",w4="_placementTopEnd_1et5v_29",L4="_placementBottomStart_1et5v_36",W4="_placementBottomEnd_1et5v_43",Y4="_placementBottom_1et5v_36",O4="_stateEnter_1et5v_154",U4="_stateEntering_1et5v_155",G4="_stateEntered_1et5v_166",$4="_touched_1et5v_172",K4="_stateExit_1et5v_176",Q4="_stateExiting_1et5v_177",a={host:M4,ios:H4,rtl:I4,placementTopStart:P4,placementTop:j4,placementTopEnd:w4,placementBottomStart:L4,placementBottomEnd:W4,placementBottom:Y4,in:"_in_1et5v_118",stateEnter:O4,stateEntering:U4,stateEntered:G4,touched:$4,stateExit:K4,stateExiting:Q4},X4={"top-start":a.placementTopStart,top:a.placementTop,"top-end":a.placementTopEnd,"bottom-start":a.placementBottomStart,bottom:a.placementBottom,"bottom-end":a.placementBottomEnd},J4={enter:a.stateEnter,entering:a.stateEntering,entered:a.stateEntered,exit:a.stateExit,exiting:a.stateExiting,exited:void 0},y=({placement:t="bottom-start",children:e,layout:u,action:n,before:r,after:o,duration:i=4e3,onActionClick:R,onClose:A,mode:x="default",subtitle:O,offsetY:U,getRootRef:G,slotProps:S,...$})=>{const{getRootRef:K,...Q}=w({getRootRef:G,...$},S?.root),{onClick:X,...J}=w({onClick:R},S?.action),Z=a4(),[D,u4]=d.useState(!0),[B,z]=d.useState(!1),k=i4()==="rtl",s=r4(K),q=c4(s),M=d.useRef(null),f=d.useRef(null),c=d.useRef(null),v=d.useRef(null),H=d.useRef(void 0),e4=s4(),[b,t4]=D4(D?"enter":"exit",{onExited:A}),h=d.useCallback(()=>{v.current!==null&&(cancelAnimationFrame(v.current),v.current=null)},[]),T=d.useCallback((m,V,j)=>{v.current=requestAnimationFrame(()=>{s.current&&(m===null?s.current.style.removeProperty("--vkui_internal--snackbar_shift_x"):s.current.style.setProperty("--vkui_internal--snackbar_shift_x",`${m}px`),V===null?s.current.style.removeProperty("--vkui_internal--snackbar_shift_y"):s.current.style.setProperty("--vkui_internal--snackbar_shift_y",`${V}px`),j===null?s.current.style.removeProperty("--vkui_internal--snackbar_direction"):s.current.style.setProperty("--vkui_internal--snackbar_direction",`${j}`))})},[s]),C=d.useCallback(()=>{u4(!1)},[]),n4=m=>{C(),n&&X?.(m)},I=m=>{f.current=new p4,f.current.setStartCoords(m.nativeEvent),c.current=S4(s.current.offsetWidth,s.current.offsetHeight,e4),z(!0)},P=m=>{c.current&&f.current&&(f.current.setInitialTimeOnce(),f.current.setEndCoords(m.nativeEvent),c.current=z4(t,c.current,f.current.delta(),k),c.current.shifted&&T(c.current.x,c.current.y,c.current.direction))},N=()=>{B&&c.current&&f.current&&q4(t,c.current,l4(s.current,M.current),f.current.velocity(),k)&&C(),z(!1)};return L(function(){if(!(!D||q||B||b!=="entered"))return H.current=setTimeout(C,i),function(){clearTimeout(H.current)}},[D,q,B,b,C,i]),L(function(){B||(h(),c.current=null,f.current=null,D&&T(null,null,null))},[B,D,T,h]),d.useEffect(()=>h,[h]),d4(D,C),b==="exited"?null:E.jsx(W,{role:"presentation",baseClassName:Y(a.host,Z==="ios"&&a.ios,B&&a.touched,X4[t],J4[b],k&&a.rtl),baseStyle:V4(t,U),getRootRef:s,...Q,children:E.jsx("div",{role:"alert",className:a.in,ref:M,onTouchStart:I,onTouchMove:P,onTouchEnd:N,onMouseDown:I,onMouseMove:P,onMouseUp:N,onMouseLeave:N,...t4,children:E.jsx(g,{mode:x,layout:u,before:r,after:o,subtitle:O,action:n&&E.jsx(E4,{align:"left",mode:"link",appearance:x==="dark"?"overlay":"accent",size:"s",onClick:n4,...J,children:n}),children:e})})})};y.Basic=g;try{y.displayName="Snackbar",y.__docgenInfo={description:"",displayName:"Snackbar",props:{slotProps:{defaultValue:null,description:"Свойства, которые можно прокинуть внутрь компонента:\n- `root`: свойства для прокидывания в корень компонента;\n- `action`: свойства для прокидывания в кнопку действия.",name:"slotProps",required:!1,type:{name:'{ root?: (Omit<HTMLAttributes<HTMLDivElement>, "children"> & HasRootRef<HTMLDivElement> & HasDataAttribute); action?: (HTMLAttributes<...> & ... 1 more ... & HasDataAttribute); } | undefined'}},placement:{defaultValue:{value:"bottom-start"},description:'Задаёт расположение компонента.\n\n> Note: в мобильном режиме:\n> - `"top-start"`/`"top-end"` перебивается на `"top"`, чтобы поведение было схожим с нативными\n>   уведомлениями;\n> - `"bottom"` перебивается на `"bottom-start"`, чтобы избежать вызова системных\n>   функций, таких как **Pull To Refresh** и **Режим управления одной рукой**.\n> - `"bottom-start"`/`"bottom-end"` закрываются смахиванием в любое из направлений\n>   по горизонтальной оси.',name:"placement",required:!1,type:{name:"enum",value:[{value:'"top"'},{value:'"bottom"'},{value:'"top-start"'},{value:'"top-end"'},{value:'"bottom-start"'},{value:'"bottom-end"'}]}},action:{defaultValue:null,description:"Название кнопки действия в уведомлении\nНе может использоваться одновременно с `subtitle`.",name:"action",required:!1,type:{name:"ReactNode"}},onActionClick:{defaultValue:null,description:"Будет вызвано при нажатии на кнопку действия.",name:"onActionClick",required:!1,type:{name:"((event: MouseEvent<Element, MouseEvent>) => void)"}},duration:{defaultValue:{value:"4000"},description:"Время в миллисекундах, через которое плашка скроется.",name:"duration",required:!1,type:{name:"number"}},onClose:{defaultValue:null,description:"Обработчик закрытия уведомления.",name:"onClose",required:!0,type:{name:"() => void"}},offsetY:{defaultValue:null,description:"Величина отступа снизу. Используется для позиционирования элемента в случае, когда нежелательно, чтобы Snackbar при появлении перекрывал важные элементы интерфейса.",name:"offsetY",required:!1,type:{name:"Bottom<string | number>"}},getRootRef:{defaultValue:null,description:"",name:"getRootRef",required:!1,type:{name:"Ref<HTMLDivElement>"}},after:{defaultValue:null,description:"Контент в правой части, может быть иконкой 24x24.",name:"after",required:!1,type:{name:"ReactNode"}},layout:{defaultValue:null,description:"Варианты расположения кнопки действия\nПо умолчанию на десктопах, или при наличии элементов `after` или `subtitle`\nимеет значение `vertical`, в остальных случаях `horizontal`.",name:"layout",required:!1,type:{name:"enum",value:[{value:'"horizontal"'},{value:'"vertical"'}]}},before:{defaultValue:null,description:"Может быть следующими компонентами:\n - цветная иконка 24x24 или 28x28 пикселя\n - `<Avatar size={32} />`\n - `<Image size={40} />`.",name:"before",required:!1,type:{name:"ReactNode"}},mode:{defaultValue:{value:"default"},description:"Задает стиль снекбара.",name:"mode",required:!1,type:{name:"enum",value:[{value:'"default"'},{value:'"dark"'}]}},subtitle:{defaultValue:null,description:"Дополнительная строка текста под `children`.\nНе может использоваться одновременно с `action`.",name:"subtitle",required:!1,type:{name:"ReactNode"}}}}}catch{}try{y.Basic.displayName="Snackbar.Basic",y.Basic.__docgenInfo={description:"",displayName:"Snackbar.Basic",props:{getRootRef:{defaultValue:null,description:"",name:"getRootRef",required:!1,type:{name:"Ref<HTMLDivElement>"}},action:{defaultValue:null,description:"Элемент действия.\nНе может использоваться одновременно с `subtitle`.",name:"action",required:!1,type:{name:"ReactNode"}},after:{defaultValue:null,description:"Контент в правой части, может быть иконкой 24x24.",name:"after",required:!1,type:{name:"ReactNode"}},layout:{defaultValue:null,description:"Варианты расположения кнопки действия\nПо умолчанию на десктопах, или при наличии элементов `after` или `subtitle`\nимеет значение `vertical`, в остальных случаях `horizontal`.",name:"layout",required:!1,type:{name:"enum",value:[{value:'"horizontal"'},{value:'"vertical"'}]}},before:{defaultValue:null,description:"Может быть следующими компонентами:\n - цветная иконка 24x24 или 28x28 пикселя\n - `<Avatar size={32} />`\n - `<Image size={40} />`.",name:"before",required:!1,type:{name:"ReactNode"}},mode:{defaultValue:null,description:"Задает стиль снекбара.",name:"mode",required:!1,type:{name:"enum",value:[{value:'"default"'},{value:'"dark"'}]}},subtitle:{defaultValue:null,description:"Дополнительная строка текста под `children`.\nНе может использоваться одновременно с `action`.",name:"subtitle",required:!1,type:{name:"ReactNode"}}}}}catch{}export{g as B,y as S};
