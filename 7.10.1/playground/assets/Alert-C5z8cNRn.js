import{c as p,j as t,h as d,r as o,T as Q,n as R,Z,al as G}from"./iframe-DhuutAfC.js";import{A as U}from"./AppRootPortal-BhnEIrq-.js";import{P as X}from"./PopoutWrapper-Z4EmqX-4.js";import{h as T}from"./react_utils-CSZjvU4X.js";import{u as Y}from"./useAdaptivityWithJSMediaQueries-PQkukbX_.js";import{F as uu}from"./FocusTrap-Cntepomh.js";import{I as eu}from"./IconButton-CS1h91J8.js";import{M as tu}from"./ModalDismissButton-BkBDjRYH.js";import{B as nu}from"./Button-Id7-fKaz.js";import{T as au}from"./Tappable-tvWVp5xX.js";import{C as iu}from"./Caption-BhiEFCof.js";import{F as ou}from"./Footnote-BE0sRU6f.js";import{T as L}from"./Title-BixyGD4w.js";import{u as lu}from"./useCSSKeyframesAnimationController-hP20fGyK.js";import{I as ru}from"./cancel_20-DekKUuuy.js";const su="_host_jh5rr_1",cu="_desktop_jh5rr_15",du="_opening_jh5rr_19",pu="_closing_jh5rr_24",mu="_content_jh5rr_41",fu="_contentWithButton_jh5rr_47",Eu="_action_jh5rr_51",Au="_actions_jh5rr_56",_u="_title_jh5rr_64",yu="_description_jh5rr_68",Du="_actionsDirectionHorizontal_jh5rr_77",Fu="_actionsDirectionVertical_jh5rr_81",Cu="_actionsAlignLeft_jh5rr_91",gu="_actionsAlignCenter_jh5rr_96",hu="_actionsAlignRight_jh5rr_101",vu="_ios_jh5rr_109",Bu="_actionModeCancel_jh5rr_246",Vu="_actionModeDestructive_jh5rr_250",ju="_vkcom_jh5rr_258",qu="_button_jh5rr_274",bu="_buttonModeCancel_jh5rr_278",ku="_dismiss_jh5rr_282",e={host:su,desktop:cu,opening:du,closing:pu,content:mu,contentWithButton:fu,action:Eu,actions:Au,title:_u,description:yu,actionsDirectionHorizontal:Du,actionsDirectionVertical:Fu,actionsAlignLeft:Cu,actionsAlignCenter:gu,actionsAlignRight:hu,ios:vu,actionModeCancel:Bu,actionModeDestructive:Vu,vkcom:ju,button:qu,buttonModeCancel:bu,dismiss:ku},Iu=({mode:u,...n})=>t.jsx(au,{Component:n.href?"a":"button",baseClassName:d(e.action,u==="destructive"&&e.actionModeDestructive,u==="cancel"&&e.actionModeCancel),...n}),xu=({mode:u,...n})=>{const l=p();let a="tertiary";return l==="vkcom"&&(a=u==="cancel"?"secondary":"primary"),t.jsx(nu,{className:d(e.button,u==="cancel"&&e.buttonModeCancel),mode:a,size:"m",...n})},v=u=>p()==="ios"?t.jsx(Iu,{...u}):t.jsx(xu,{...u});try{v.displayName="AlertAction",v.__docgenInfo={description:"",displayName:"AlertAction",props:{children:{defaultValue:null,description:"Содержимое компонента.",name:"children",required:!0,type:{name:"string"}},onClick:{defaultValue:null,description:"Обработчик нажатия.",name:"onClick",required:!0,type:{name:"MouseEventHandler<HTMLElement>"}},mode:{defaultValue:null,description:"Режим отображения опции.",name:"mode",required:!0,type:{name:"enum",value:[{value:'"default"'},{value:'"destructive"'},{value:'"cancel"'}]}},Component:{defaultValue:null,description:"",name:"Component",required:!1,type:{name:"ElementType<any, keyof IntrinsicElements>"}}}}}catch{}const Mu={left:e.actionsAlignLeft,center:e.actionsAlignCenter,right:e.actionsAlignRight},Nu={vertical:e.actionsDirectionVertical,horizontal:e.actionsDirectionHorizontal},B=({actions:u=[],renderAction:n=r=>t.jsx(v,{...r}),onItemClick:l,actionsAlign:a,actionsLayout:s})=>{const i=p()==="vkcom"?"horizontal":s;return t.jsx("div",{className:d(e.actions,a&&Mu[a],i&&Nu[i]),children:u.map((c,y)=>{const{title:m,action:D,autoCloseDisabled:F,...C}=c;return t.jsx(o.Fragment,{children:n({children:m,onClick:()=>l(c),...C})},y)})})};try{B.displayName="AlertActions",B.__docgenInfo={description:"",displayName:"AlertActions",props:{onItemClick:{defaultValue:null,description:"Обработчик нажатия на одну из опций.",name:"onItemClick",required:!0,type:{name:"ItemClickHandler"}},actionsLayout:{defaultValue:null,description:"Расположение действий - вертикально или горизонтально.",name:"actionsLayout",required:!1,type:{name:"enum",value:[{value:'"horizontal"'},{value:'"vertical"'}]}},actionsAlign:{defaultValue:null,description:"Тип выравнивания действий.",name:"actionsAlign",required:!1,type:{name:"enum",value:[{value:'"center"'},{value:'"right"'},{value:'"left"'}]}},actions:{defaultValue:{value:"[]"},description:"Список действий.",name:"actions",required:!1,type:{name:"AlertActionInterface[]"}},renderAction:{defaultValue:{value:"(props) => <AlertAction {...props} />"},description:"Функция для отрисовки действия.",name:"renderAction",required:!1,type:{name:"((props: AlertActionProps) => ReactNode)"}}}}}catch{}const V=u=>{switch(p()){case"ios":return t.jsx(L,{className:e.title,weight:"1",level:"3",...u});default:return t.jsx(L,{className:e.title,weight:"2",level:"2",...u})}},j=u=>{switch(p()){case"vkcom":return t.jsx(ou,{className:e.description,...u});case"ios":return t.jsx(iu,{className:e.description,...u});default:return t.jsx(Q,{Component:"span",className:e.description,weight:"3",...u})}};try{V.displayName="AlertTitle",V.__docgenInfo={description:"",displayName:"AlertTitle",props:{id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"string"}},"data-testid":{defaultValue:null,description:"",name:"data-testid",required:!1,type:{name:"string"}}}}}catch{}try{j.displayName="AlertDescription",j.__docgenInfo={description:"",displayName:"AlertDescription",props:{id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"string"}},"data-testid":{defaultValue:null,description:"",name:"data-testid",required:!1,type:{name:"string"}}}}}catch{}const q=({actions:u,actionsLayout:n="horizontal",children:l,title:a,description:s,onClose:r,dismissLabel:i="Закрыть предупреждение",renderAction:c,actionsAlign:y,dismissButtonMode:m="outside",dismissButtonTestId:D,onClick:F,allowClickPropagation:C=!1,titleTestId:P,descriptionTestId:z,closing:b,setClosing:E,...S})=>{const k=o.useId(),I=`vkui-alert-${k}-title`,x=`vkui-alert-${k}-description`,g=p(),{isDesktop:M}=Y(),h=o.useRef(R),[w,O]=lu(b?"exit":"enter",{onExited(){h.current(),h.current=R,r()}}),N=M&&g!=="ios",W=o.useRef(null),f=o.useCallback(()=>{E?.(!0)},[E]),$=o.useCallback(A=>{const{action:_,autoCloseDisabled:K=!1}=A;K?_&&_({close:f}):(_&&(h.current=_),E?.(!0))},[f,E]),J=C?F:A=>{Z(A),F?.(A)};return t.jsxs(uu,{...O,onClick:J,getRootRef:W,onClose:f,autoFocus:w==="entered",className:d(e.host,g==="ios"&&e.ios,g==="vkcom"&&e.vkcom,b?e.closing:e.opening,M&&e.desktop),role:"alertdialog","aria-modal":!0,"aria-labelledby":I,"aria-describedby":x,...S,children:[t.jsxs("div",{className:d(e.content,m==="inside"&&e.contentWithButton),children:[T(a)&&t.jsx(V,{"data-testid":P,id:I,children:a}),T(s)&&t.jsx(j,{"data-testid":z,id:x,children:s}),l,N&&m==="inside"&&t.jsx(eu,{label:i,className:d(e.dismiss,"vkuiInternalAlert__dismiss"),onClick:f,hoverMode:"opacity",activeMode:"opacity","data-testid":D,children:t.jsx(ru,{})})]}),N&&m==="outside"&&t.jsx(tu,{onClick:f,"data-testid":D,children:i}),t.jsx(B,{actions:u,actionsAlign:y,actionsLayout:n,renderAction:c,onItemClick:$})]})};try{q.displayName="AlertBase",q.__docgenInfo={description:"",displayName:"AlertBase",props:{closing:{defaultValue:null,description:`Флаг, определяющий состояние закрытия модального окна.
Когда установлен в true, запускает анимацию закрытия окна.`,name:"closing",required:!1,type:{name:"boolean"}},setClosing:{defaultValue:null,description:`Функция обратного вызова для управления состоянием закрытия модального окна.
Принимает булево значение, которое определяет, находится ли окно в процессе закрытия.`,name:"setClosing",required:!1,type:{name:"((closing: boolean) => void)"}},autoFocus:{defaultValue:{value:"true"},description:"",name:"autoFocus",required:!1,type:{name:'boolean | "root"'}},title:{defaultValue:null,description:"Заголовок модального окна.",name:"title",required:!1,type:{name:"ReactNode"}},allowClickPropagation:{defaultValue:{value:"false"},description:"По умолчанию событие onClick не всплывает.",name:"allowClickPropagation",required:!1,type:{name:"boolean"}},onClose:{defaultValue:null,description:"Обработчик закрытия модального окна.",name:"onClose",required:!0,type:{name:"VoidFunction"}},restoreFocus:{defaultValue:{value:"true"},description:"",name:"restoreFocus",required:!1,type:{name:"boolean | (() => boolean | HTMLElement)"}},description:{defaultValue:null,description:"Описание модального окна.",name:"description",required:!1,type:{name:"ReactNode"}},actionsLayout:{defaultValue:{value:"horizontal"},description:"Расположение действий - вертикально или горизонтально.",name:"actionsLayout",required:!1,type:{name:"enum",value:[{value:'"horizontal"'},{value:'"vertical"'}]}},actionsAlign:{defaultValue:null,description:"Тип выравнивания действий.",name:"actionsAlign",required:!1,type:{name:"enum",value:[{value:'"center"'},{value:'"right"'},{value:'"left"'}]}},actions:{defaultValue:null,description:"Список действий.",name:"actions",required:!1,type:{name:"AlertActionInterface[]"}},renderAction:{defaultValue:null,description:"Функция для отрисовки действия.",name:"renderAction",required:!1,type:{name:"((props: AlertActionProps) => ReactNode)"}},dismissLabel:{defaultValue:{value:"Закрыть предупреждение"},description:"Текст кнопки закрытия. Делает ее доступной для ассистивных технологий.",name:"dismissLabel",required:!1,type:{name:"string"}},dismissButtonMode:{defaultValue:{value:"outside"},description:"Расположение кнопки закрытия (внутри и вне `popout'a`)\nДоступно только в `compact`-режиме, не отображается на `iOS`.\n\n⚠️ ВНИМАНИЕ: использование `none` скрывает крестик, это негативно сказывается на пользовательском опыте.",name:"dismissButtonMode",required:!1,type:{name:"enum",value:[{value:'"none"'},{value:'"inside"'},{value:'"outside"'}]}},dismissButtonTestId:{defaultValue:null,description:"Передает атрибут `data-testid` для кнопки закрытия.",name:"dismissButtonTestId",required:!1,type:{name:"string"}},titleTestId:{defaultValue:null,description:"Передает атрибут `data-testid` для заголовка.",name:"titleTestId",required:!1,type:{name:"string"}},descriptionTestId:{defaultValue:null,description:"Передает атрибут `data-testid` для описания.",name:"descriptionTestId",required:!1,type:{name:"string"}}}}}catch{}const H=({usePortal:u,style:n,className:l,getRootRef:a,...s})=>{const[r,i]=o.useState(!1),c=o.useCallback(()=>{i(!0)},[]);return G(),t.jsx(U,{usePortal:u,children:t.jsx(X,{className:l,closing:r,style:n,onClick:c,getRootRef:a,strategy:"fixed",children:t.jsx(q,{...s,closing:r,setClosing:i})})})};try{H.displayName="Alert",H.__docgenInfo={description:"",displayName:"Alert",props:{actionsLayout:{defaultValue:null,description:"Расположение действий - вертикально или горизонтально.",name:"actionsLayout",required:!1,type:{name:"enum",value:[{value:'"horizontal"'},{value:'"vertical"'}]}},actionsAlign:{defaultValue:null,description:"Тип выравнивания действий.",name:"actionsAlign",required:!1,type:{name:"enum",value:[{value:'"center"'},{value:'"right"'},{value:'"left"'}]}},actions:{defaultValue:null,description:"Список действий.",name:"actions",required:!1,type:{name:"AlertActionInterface[]"}},renderAction:{defaultValue:null,description:"Функция для отрисовки действия.",name:"renderAction",required:!1,type:{name:"((props: AlertActionProps) => ReactNode)"}},title:{defaultValue:null,description:"Заголовок модального окна.",name:"title",required:!1,type:{name:"ReactNode"}},description:{defaultValue:null,description:"Описание модального окна.",name:"description",required:!1,type:{name:"ReactNode"}},onClose:{defaultValue:null,description:"Обработчик закрытия модального окна.",name:"onClose",required:!0,type:{name:"VoidFunction"}},dismissLabel:{defaultValue:null,description:"Текст кнопки закрытия. Делает ее доступной для ассистивных технологий.",name:"dismissLabel",required:!1,type:{name:"string"}},dismissButtonMode:{defaultValue:null,description:"Расположение кнопки закрытия (внутри и вне `popout'a`)\nДоступно только в `compact`-режиме, не отображается на `iOS`.\n\n⚠️ ВНИМАНИЕ: использование `none` скрывает крестик, это негативно сказывается на пользовательском опыте.",name:"dismissButtonMode",required:!1,type:{name:"enum",value:[{value:'"none"'},{value:'"inside"'},{value:'"outside"'}]}},dismissButtonTestId:{defaultValue:null,description:"Передает атрибут `data-testid` для кнопки закрытия.",name:"dismissButtonTestId",required:!1,type:{name:"string"}},titleTestId:{defaultValue:null,description:"Передает атрибут `data-testid` для заголовка.",name:"titleTestId",required:!1,type:{name:"string"}},descriptionTestId:{defaultValue:null,description:"Передает атрибут `data-testid` для описания.",name:"descriptionTestId",required:!1,type:{name:"string"}},allowClickPropagation:{defaultValue:null,description:"По умолчанию событие onClick не всплывает.",name:"allowClickPropagation",required:!1,type:{name:"boolean"}},autoFocus:{defaultValue:{value:"true"},description:"",name:"autoFocus",required:!1,type:{name:'boolean | "root"'}},restoreFocus:{defaultValue:{value:"true"},description:"",name:"restoreFocus",required:!1,type:{name:"boolean | (() => boolean | HTMLElement)"}},usePortal:{defaultValue:{value:"true (использует `document.body` как портал по умолчанию)"},description:"Настройка портала для рендеринга компонента.\n\n`true` - использует `portalRoot` из контекста `AppRoot` (если доступен) или `document.body`;\n`false` - отключает использование портала;\n`HTMLElement` - указывает конкретный DOM-элемент для использования в качестве портала;\n`React.RefObject<HTMLElement | null>` - ссылка на DOM-элемент для использования в качестве портала;\n`null` - эквивалентно `false`, отключает использование портала.",name:"usePortal",required:!1,type:{name:"boolean | HTMLElement | RefObject<HTMLElement | null> | null"}},getRootRef:{defaultValue:null,description:"",name:"getRootRef",required:!1,type:{name:"Ref<HTMLDivElement>"}}}}}catch{}export{H as A,q as a};
