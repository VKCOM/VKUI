"use strict";(self.webpackChunk_vkontakte_vkui=self.webpackChunk_vkontakte_vkui||[]).push([[1947],{"../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[13].use[1]!../../node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[13].use[2]!./src/components/CustomSelect/CustomSelect.module.css":function(e,t,n){var o=n("../../node_modules/css-loader/dist/runtime/noSourceMaps.js"),r=n.n(o),l=n("../../node_modules/css-loader/dist/runtime/api.js"),u=n.n(l)()(r());u.push([e.id,".CustomSelect--t8BBn{cursor:pointer;display:block;position:relative;width:100%}.CustomSelect--pop-down--YTLW6{border-bottom-left-radius:0;border-bottom-right-radius:0}.CustomSelect--pop-up--wZZnV{border-top-left-radius:0;border-top-right-radius:0}.CustomSelect__control--VcHiM{display:none}.CustomSelect__empty--Vt06J{color:#818c99;color:var(--vkui--color_text_secondary);padding:12px 0;text-align:center}.CustomSelect__fetching--kv01N{align-items:center;display:flex;justify-content:center}.CustomSelect__dropdown-icon--OR19l{margin-right:10px}.CustomSelect--clear-icon--Zu9v8{margin-right:-6px}.CustomSelect--sizeY-compact--_zPzn .CustomSelect__dropdown-icon--OR19l{margin-right:8px}.CustomSelect--sizeY-compact--_zPzn .CustomSelect--clear-icon--Zu9v8{margin-right:-2px}@media (max-height:414.9px),(pointer:fine) and (min-width:768px){.CustomSelect--sizeY-none--ScLah .CustomSelect__dropdown-icon--OR19l{margin-right:8px}.CustomSelect--sizeY-none--ScLah .CustomSelect--clear-icon--Zu9v8{margin-right:-2px}}",""]),u.locals={CustomSelect:"CustomSelect--t8BBn","CustomSelect--pop-down":"CustomSelect--pop-down--YTLW6","CustomSelect--pop-up":"CustomSelect--pop-up--wZZnV",CustomSelect__control:"CustomSelect__control--VcHiM",CustomSelect__empty:"CustomSelect__empty--Vt06J",CustomSelect__fetching:"CustomSelect__fetching--kv01N","CustomSelect__dropdown-icon":"CustomSelect__dropdown-icon--OR19l","CustomSelect--clear-icon":"CustomSelect--clear-icon--Zu9v8","CustomSelect--sizeY-compact":"CustomSelect--sizeY-compact--_zPzn","CustomSelect--sizeY-none":"CustomSelect--sizeY-none--ScLah"},t.Z=u},"../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[13].use[1]!../../node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[13].use[2]!./src/components/CustomSelect/CustomSelectInput.module.css":function(e,t,n){var o=n("../../node_modules/css-loader/dist/runtime/noSourceMaps.js"),r=n.n(o),l=n("../../node_modules/css-loader/dist/runtime/api.js"),u=n.n(l)()(r());u.push([e.id,".CustomSelectInput--DqvHQ{position:relative}.CustomSelectInput__el--YTaQr{-webkit-appearance:none;-moz-appearance:none;appearance:none;background:transparent;border:0;border-radius:inherit;box-shadow:none;box-sizing:border-box;color:#000;color:var(--vkui--color_text_primary);height:44px;height:var(--vkui--size_field_height--regular);left:0;line-height:44px;line-height:var(--vkui--size_field_height--regular);margin:0;padding:0 12px;position:absolute;top:0;width:100%;z-index:1;z-index:var(--vkui_internal--z_index_form_field_element)}.CustomSelectInput__el--cursor-pointer--FGam4{cursor:pointer}.CustomSelectInput--sizeY-compact--pVxPo .CustomSelectInput__el--YTaQr{height:36px;height:var(--vkui--size_field_height--compact)}@media (max-height:414.9px),(pointer:fine) and (min-width:768px){.CustomSelectInput--sizeY-none--CyzRX .CustomSelectInput__el--YTaQr{height:36px;height:var(--vkui--size_field_height--compact)}}.CustomSelectInput--hasBefore--qjWb8 .CustomSelectInput__el--YTaQr{padding-left:0}.CustomSelectInput--hasAfter--uk8Ef .CustomSelectInput__el--YTaQr{padding-right:0}.CustomSelectInput__el--YTaQr:disabled{opacity:.64;opacity:var(--vkui--opacity_disable_accessibility)}.CustomSelectInput__container--KcnLH{box-sizing:border-box;color:#000;color:var(--vkui--color_text_primary);max-height:100%;overflow:hidden;padding-left:12px;padding-right:0;pointer-events:none;width:100%;z-index:1;z-index:var(--vkui_internal--z_index_form_field_element)}.CustomSelectInput--hasBefore--qjWb8 .CustomSelectInput__container--KcnLH{padding-left:0}.CustomSelectInput--multiline--KeUIz .CustomSelectInput__container--KcnLH{padding-bottom:12px;padding-top:12px}.CustomSelectInput--sizeY-compact--pVxPo.CustomSelectInput--multiline--KeUIz .CustomSelectInput__container--KcnLH{padding-bottom:8px;padding-top:8px}@media (max-height:414.9px),(pointer:fine) and (min-width:768px){.CustomSelectInput--sizeY-none--CyzRX.CustomSelectInput--multiline--KeUIz .CustomSelectInput__container--KcnLH{padding-bottom:8px;padding-top:8px}}.CustomSelectInput__input-group--Zdfbs{align-items:center;align-self:stretch;display:flex;flex:1;overflow:hidden;position:relative}.CustomSelectInput--hasBefore--qjWb8 .CustomSelectInput__input-group--Zdfbs{border-radius:0}.CustomSelectInput__title--juUZ7{display:block}.CustomSelectInput--DqvHQ:not(.CustomSelectInput--multiline--KeUIz) .CustomSelectInput__title--juUZ7{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.CustomSelectInput--empty--9UXAt .CustomSelectInput__title--juUZ7{color:#818c99;color:var(--vkui--color_text_secondary)}.CustomSelectInput__el--YTaQr::-webkit-input-placeholder{opacity:0}.CustomSelectInput__el--YTaQr::-moz-placeholder{opacity:0}.CustomSelectInput__el--YTaQr::-ms-input-placeholder{opacity:0}.CustomSelectInput__el--YTaQr::placeholder{opacity:0}.CustomSelectInput--align-right--G0wA4 .CustomSelectInput__el--YTaQr,.CustomSelectInput--align-right--G0wA4 .CustomSelectInput__title--juUZ7{text-align:right}.CustomSelectInput--align-center--wi0Fz .CustomSelectInput__el--YTaQr,.CustomSelectInput--align-center--wi0Fz .CustomSelectInput__title--juUZ7{text-align:center}.vkuiInternalCalendarHeader__picker .CustomSelectInput__container--KcnLH{padding-right:4px}",""]),u.locals={CustomSelectInput:"CustomSelectInput--DqvHQ",CustomSelectInput__el:"CustomSelectInput__el--YTaQr","CustomSelectInput__el--cursor-pointer":"CustomSelectInput__el--cursor-pointer--FGam4","CustomSelectInput--sizeY-compact":"CustomSelectInput--sizeY-compact--pVxPo","CustomSelectInput--sizeY-none":"CustomSelectInput--sizeY-none--CyzRX","CustomSelectInput--hasBefore":"CustomSelectInput--hasBefore--qjWb8","CustomSelectInput--hasAfter":"CustomSelectInput--hasAfter--uk8Ef",CustomSelectInput__container:"CustomSelectInput__container--KcnLH","CustomSelectInput--multiline":"CustomSelectInput--multiline--KeUIz","CustomSelectInput__input-group":"CustomSelectInput__input-group--Zdfbs",CustomSelectInput__title:"CustomSelectInput__title--juUZ7","CustomSelectInput--empty":"CustomSelectInput--empty--9UXAt","CustomSelectInput--align-right":"CustomSelectInput--align-right--G0wA4","CustomSelectInput--align-center":"CustomSelectInput--align-center--wi0Fz"},t.Z=u},"./src/components/CustomSelect/CustomSelect.tsx":function(e,t,n){n.d(t,{A:function(){return er}});var o=n("../../node_modules/react/jsx-runtime.js"),r=n("../../node_modules/react/index.js"),l=n("../../node_modules/@vkontakte/vkjs/lib/es6/index.js"),u=n("./src/hooks/useAdaptivity.ts"),a=n("./src/hooks/useExternRef.ts"),i=n("./src/hooks/useFocusWithin.ts"),c=n("./src/hooks/useId.ts"),s=n("./src/lib/adaptivity/constants.ts"),p=n("./src/lib/dom.tsx"),d=n("./src/lib/select.ts"),m=n("./src/lib/useIsomorphicLayoutEffect.ts"),f=n("./src/lib/utils.ts"),y=n("./src/lib/warnOnce.ts"),b=n("./src/components/CustomSelectDropdown/CustomSelectDropdown.tsx"),v=n("./src/components/CustomSelectOption/CustomSelectOption.tsx"),S=n("./src/components/DropdownIcon/DropdownIcon.tsx"),g=n("./src/components/Typography/Footnote/Footnote.tsx"),C=n("./src/components/VisuallyHidden/VisuallyHidden.tsx"),h=n("../../node_modules/@vkontakte/icons/dist/es6/16/cancel_16.js"),_=n("./src/components/IconButton/IconButton.tsx"),O=function(e){var t=e.className,n=e.onClick,r=function(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n,o,r={},l=Object.keys(e);for(o=0;o<l.length;o++)n=l[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(o=0;o<l.length;o++)n=l[o],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(e,["className","onClick"]);return(0,o.jsx)(_.h,function(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),o.forEach(function(t){!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(e,t,n[t])})}return e}({Component:"div","aria-label":"Очистить поле",onKeyDown:f.UW,role:"button",activeMode:"opacity",hoverMode:"opacity"},r),{className:t,onClick:function(e){(0,f.UW)(e),e.preventDefault(),n()},children:(0,o.jsx)(h.Q,{})}))};try{O.displayName="CustomSelectClearButton",O.__docgenInfo={description:"",displayName:"CustomSelectClearButton",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},onClick:{defaultValue:null,description:"",name:"onClick",required:!0,type:{name:"() => void"}},disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/CustomSelect/CustomSelectClearButton.tsx#CustomSelectClearButton"]={docgenInfo:O.__docgenInfo,name:"CustomSelectClearButton",path:"src/components/CustomSelect/CustomSelectClearButton.tsx#CustomSelectClearButton"})}catch(e){}var I=n("./src/components/FormField/FormField.tsx"),x=n("./src/components/SelectTypography/SelectTypography.tsx"),Text=n("./src/components/Typography/Text/Text.tsx"),j=n("../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),w=n.n(j),T=n("../../node_modules/style-loader/dist/runtime/singletonStyleDomAPI.js"),k=n.n(T),R=n("../../node_modules/style-loader/dist/runtime/insertBySelector.js"),D=n.n(R),P=n("../../node_modules/style-loader/dist/runtime/setAttributesWithAttributesAndNonce.js"),V=n.n(P),E=n("../../node_modules/style-loader/dist/runtime/insertStyleElement.js"),A=n.n(E),q=n("../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[13].use[1]!../../node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[13].use[2]!./src/components/CustomSelect/CustomSelectInput.module.css"),B={attributes:{class:"vkui-style"}};B.setAttributes=V(),B.insert=D().bind(null,"head"),B.domAPI=k(),B.insertStyleElement=A(),w()(q.Z,B);var z=q.Z&&q.Z.locals?q.Z.locals:void 0;function Y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var N=Y({none:z["CustomSelectInput--sizeY-none"]},s.n$.COMPACT,z["CustomSelectInput--sizeY-compact"]),H=function(e){var t=e.align,n=void 0===t?"left":t,r=e.getRef,c=e.className,p=e.getRootRef,m=e.style,f=e.before,y=e.after,b=e.status,v=e.children,S=e.placeholder,g=e.selectType,C=void 0===g?"default":g,h=e.multiline,_=e.disabled,O=e.fetching,j=e.labelTextTestId,w=function(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n,o,r={},l=Object.keys(e);for(o=0;o<l.length;o++)n=l[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(o=0;o<l.length;o++)n=l[o],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(e,["align","getRef","className","getRootRef","style","before","after","status","children","placeholder","selectType","multiline","disabled","fetching","labelTextTestId"]),T=(0,u.g)().sizeY,k=void 0===T?"none":T,R=v||S,D=!w.value,P=(0,a.Q)(p),V=(0,i.L)(P);return(0,o.jsx)(I.W,{Component:"div",style:m,className:(0,l.AK)(z.CustomSelectInput,"right"===n&&z["CustomSelectInput--align-right"],"center"===n&&z["CustomSelectInput--align-center"],!v&&z["CustomSelectInput--empty"],h&&z["CustomSelectInput--multiline"],k!==s.n$.REGULAR&&N[k],f&&z["CustomSelectInput--hasBefore"],y&&z["CustomSelectInput--hasAfter"],c),getRootRef:P,before:f,after:y,disabled:_,mode:(0,d.e)(C),status:b,children:(0,o.jsxs)("div",{className:z["CustomSelectInput__input-group"],children:[(0,o.jsx)("div",{className:(0,l.AK)(z.CustomSelectInput__container,c),tabIndex:-1,"aria-hidden":!0,"data-testid":j,children:(0,o.jsx)(x.S,{selectType:C,className:z.CustomSelectInput__title,children:D&&R})}),(0,o.jsx)(Text.x,function(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),o.forEach(function(t){Y(e,t,n[t])})}return e}({},w),{disabled:_&&!O,readOnly:w.readOnly||_&&O,Component:"input",normalize:!1,type:"text",className:(0,l.AK)(z.CustomSelectInput__el,(w.readOnly||D&&!V)&&z["CustomSelectInput__el--cursor-pointer"]),getRootRef:r,placeholder:v?"":S}))]})})};try{H.displayName="CustomSelectInput",H.__docgenInfo={description:"",displayName:"CustomSelectInput",props:{selectType:{defaultValue:{value:"default"},description:"",name:"selectType",required:!1,type:{name:"enum",value:[{value:'"default"'},{value:'"accent"'},{value:'"plain"'}]}},multiline:{defaultValue:null,description:"",name:"multiline",required:!1,type:{name:"boolean"}},labelTextTestId:{defaultValue:null,description:"",name:"labelTextTestId",required:!1,type:{name:"string"}},fetching:{defaultValue:null,description:"",name:"fetching",required:!1,type:{name:"boolean"}},getRef:{defaultValue:null,description:"",name:"getRef",required:!1,type:{name:"Ref<HTMLInputElement>"}},getRootRef:{defaultValue:null,description:"",name:"getRootRef",required:!1,type:{name:"Ref<HTMLDivElement>"}},align:{defaultValue:{value:"left"},description:"",name:"align",required:!1,type:{name:"enum",value:[{value:'"center"'},{value:'"left"'},{value:'"right"'}]}},before:{defaultValue:null,description:"Добавляет иконку слева.\n\nРекомендации:\n\n- Используйте следующие размеры иконок `12` | `16` | `20` | `24` | `28`.\n- Используйте [IconButton](https://vkcom.github.io/VKUI/#/IconButton), если вам нужна кликабельная иконка.",name:"before",required:!1,type:{name:"ReactNode"}},after:{defaultValue:null,description:"Добавляет иконку справа.\n\nРекомендации:\n\n- Используйте следующие размеры иконок `12` | `16` | `20` | `24` | `28`.\n- Используйте [IconButton](https://vkcom.github.io/VKUI/#/IconButton), если вам нужна кликабельная иконка.",name:"after",required:!1,type:{name:"ReactNode"}},status:{defaultValue:null,description:"",name:"status",required:!1,type:{name:"enum",value:[{value:'"default"'},{value:'"error"'},{value:'"valid"'}]}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/CustomSelect/CustomSelectInput.tsx#CustomSelectInput"]={docgenInfo:H.__docgenInfo,name:"CustomSelectInput",path:"src/components/CustomSelect/CustomSelectInput.tsx#CustomSelectInput"})}catch(e){}var M=n("../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[13].use[1]!../../node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[13].use[2]!./src/components/CustomSelect/CustomSelect.module.css"),K={attributes:{class:"vkui-style"}};K.setAttributes=V(),K.insert=D().bind(null,"head"),K.domAPI=k(),K.insertStyleElement=A(),w()(M.Z,K);var L=M.Z&&M.Z.locals?M.Z.locals:void 0;function U(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=Array(t);n<t;n++)o[n]=e[n];return o}function Z(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function F(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),o.forEach(function(t){Z(e,t,n[t])})}return e}function Q(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n,o,r={},l=Object.keys(e);for(o=0;o<l.length;o++)n=l[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(o=0;o<l.length;o++)n=l[o],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function W(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n,o,r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var l=[],u=!0,a=!1;try{for(r=r.call(e);!(u=(n=r.next()).done)&&(l.push(n.value),!t||l.length!==t);u=!0);}catch(e){a=!0,o=e}finally{try{u||null==r.return||r.return()}finally{if(a)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return U(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return U(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var G=Z({none:L["CustomSelect--sizeY-none"]},s.n$.COMPACT,L["CustomSelect--sizeY-compact"]),X=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;return t>=e.length-1?-1:e.findIndex(function(e,n){return n>t&&!e.disabled})},$=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.length,n=-1;if(t<=0)return n;for(var o=t-1;o>=0;o--)if(!e[o].disabled){n=o;break}return n};function J(e){e.option;var t=Q(e,["option"]);return(0,o.jsx)(v.x,F({},t))}(0,y.O)("CustomSelect");var ee=function(e){e.preventDefault()};function et(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1?arguments[1]:void 0,o=arguments.length>2?arguments[2]:void 0;return o&&""===n?-1:null!==(e=t.findIndex(function(e){return n="number"==typeof e.value?Number(n):n,e.value===n}))&&void 0!==e?e:-1}var en=function(e,t,n){return"function"==typeof n?e.filter(function(e){return n(t,e)}):e},eo=[];function er(e){var t,n,y=W(r.useState(!1),2),v=y[0],h=y[1],_=e.before,I=e.name,x=e.className,j=e.getRef,w=e.getRootRef,T=e.popupDirection,k=e.style,R=e.onChange,D=(e.children,e.onInputChange),P=e.renderDropdown,V=e.onOpen,E=e.onClose,A=e.fetching,q=e.forceDropdownPortal,B=e.selectType,z=e.autoHideScrollbar,Y=e.autoHideScrollbarDelay,N=e.searchable,M=void 0!==N&&N,K=e.renderOption,U=void 0===K?J:K,er=e.options,el=void 0===er?eo:er,eu=e.emptyText,ea=void 0===eu?"Ничего не найдено":eu,ei=e.filterFn,ec=void 0===ei?d.B:ei,es=e.icon,ep=e.ClearButton,ed=void 0===ep?O:ep,em=e.allowClearButton,ef=void 0!==em&&em,ey=e.dropdownOffsetDistance,eb=void 0===ey?0:ey,ev=e.fixDropdownWidth,eS=e.noMaxHeight,eg=e["aria-labelledby"],eC=e.clearButtonTestId,eh=e.nativeSelectTestId,e_=e.defaultValue,eO=Q(e,["before","name","className","getRef","getRootRef","popupDirection","style","onChange","children","onInputChange","renderDropdown","onOpen","onClose","fetching","forceDropdownPortal","selectType","autoHideScrollbar","autoHideScrollbarDelay","searchable","renderOption","options","emptyText","filterFn","icon","ClearButton","allowClearButton","dropdownOffsetDistance","fixDropdownWidth","noMaxHeight","aria-labelledby","clearButtonTestId","nativeSelectTestId","defaultValue"]),eI=(0,u.g)().sizeY,ex=void 0===eI?"none":eI,ej=r.useRef(null),ew=(0,a.Q)(ej,w),eT=r.useRef(null),ek=(0,a.Q)(j),eR=W(r.useState(-1),2),eD=eR[0],eP=eR[1],eV=W(r.useState(void 0!==e.value),2),eE=eV[0],eA=eV[1],eq=W(r.useState(""),2),eB=eq[0],ez=eq[1],eY=W(r.useState(function(){var t,n;return null!==(n=null!==(t=e.value)&&void 0!==t?t:e_)&&void 0!==n?n:ef?"":void 0}),2),eN=eY[0],eH=eY[1],eM=W(r.useState(void 0),2),eK=eM[0],eL=eM[1],eU=W(r.useState(el),2),eZ=eU[0],eF=eU[1],eQ=W(r.useState(et(el,null!==(t=e.value)&&void 0!==t?t:e_,ef)),2),eW=eQ[0],eG=eQ[1];r.useEffect(function(){eA(void 0!==e.value),eH(function(t){var n;return null!==(n=e.value)&&void 0!==n?n:t})},[e.value]),(0,m.L)(function(){if(eZ.some(function(e){return eN===e.value})||ef&&""===eN){var e,t=new Event("change",{bubbles:!0});null===(e=ek.current)||void 0===e||e.dispatchEvent(t)}},[eN]);var eX=r.useMemo(function(){return eZ.length?void 0!==eW?eZ[eW]:void 0:null},[eZ,eW]),e$=r.useMemo(function(){return v&&0===eb&&((null==eK?void 0:eK.includes("top"))?L["CustomSelect--pop-up"]:L["CustomSelect--pop-down"])||void 0},[eb,v,eK]),eJ=r.useCallback(function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=eT.current,o=n?n.children[e]:null;if(o&&n){var r=n.offsetHeight,l=n.scrollTop,u=o.offsetTop,a=o.offsetHeight;t?n.scrollTop=u-r/2+a/2:u+a>r+l?n.scrollTop=u-r+a:u<l&&(n.scrollTop=u)}},[]),e0=r.useCallback(function(e){var t,n=!(arguments.length>1)||void 0===arguments[1]||arguments[1];if(void 0!==e&&!(e<0)&&!(e>(null!==(t=eZ.length)&&void 0!==t?t:0)-1)){var o=eZ[e];null!=o&&o.disabled||(n&&eJ(e),eP(function(t){return t!==e?e:t}))}},[eZ,eJ]),e1=r.useCallback(function(e){var t;return e>=0&&e<(null!==(t=eZ.length)&&void 0!==t?t:0)},[eZ.length]),e2=r.useCallback(function(e){eT.current=e,e&&void 0!==eW&&e1(eW)&&eJ(eW,!0)},[e1,eJ,eW]),e8=W(r.useState(""),2),e4=e8[0],e6=e8[1],e9=r.useCallback(function(){e6("")},[]),e3=r.useCallback(function(){eP(-1)},[]),e7=r.useCallback(function(e){v||h(!0),e3(),e6(e4+e)},[e4,v,e3]),e5=r.useCallback(function(){e9(),ez(""),h(!1),e3(),null==E||E()},[E,e9,e3]),te=r.useCallback(function(t){var n=eZ[t];if(eH(null==n?void 0:n.value),e5(),eE&&e.value!==eN&&eN===(null==n?void 0:n.value)){var o,r=new Event("change",{bubbles:!0});null===(o=ek.current)||void 0===o||o.dispatchEvent(r)}},[e5,eZ,ek,eE,e.value,eN]),tt=r.useCallback(function(){void 0!==eD&&e1(eD)&&te(eD)},[eD,e1,te]),tn=r.useCallback(function(){h(!0),eP(eW),"function"==typeof V&&V()},[V,eW]),to=r.useCallback(function(){e5();var e,t=new Event("focusout",{bubbles:!0});null===(e=ek.current)||void 0===e||e.dispatchEvent(t)},[e5,ek]),tr=r.useCallback(function(){var e,t=new Event("focusin",{bubbles:!0});null===(e=ek.current)||void 0===e||e.dispatchEvent(t)},[ek]),tl=r.useCallback(function(){v?e5():tn()},[e5,tn,v]),tu=r.useMemo(function(){return(0,f.Ds)(e9,1e3)},[e9]),ta=r.useCallback(function(e){var t=eD;if("next"===e){var n=X(eZ,t);t=-1===n?X(eZ):n}else if("prev"===e){var o=$(eZ,t);t=-1===o?$(eZ):o}e0(t)},[e0,eD,eZ]);r.useEffect(function(){var t,n,o=null!==(n=null!==(t=e.value)&&void 0!==t?t:eN)&&void 0!==n?n:e_,r=M&&void 0!==eB?en(el,eB,ec):el;eF(r),eG(et(r,o,ef))},[ec,eB,eN,el,e_,e.value,M,ef]);var ti=r.useCallback(function(e){if(D){var t=D(e,el);t&&(eF(t),eG(et(t,eN,ef)))}else{var n=en(el,e.target.value,ec);eF(n),eG(et(n,eN,ef))}ez(e.target.value)},[ec,eN,D,el,ef]),tc=r.useCallback(function(){return null!==eT.current},[]),ts=r.useCallback(function(e){if(1===e.key.length&&" "!==e.key){e7(e.key);return}switch(["ArrowUp","ArrowDown","Escape","Enter"].includes(e.key)&&tc()&&e.preventDefault(),e.key){case"ArrowUp":v?tc()&&ta("prev"):tn();break;case"ArrowDown":v?tc()&&ta("next"):tn();break;case"Escape":e5();break;case"Backspace":case"Delete":v||h(!0),e3();break;case"Enter":case"Spacebar":case" ":v?tc()&&tt():tn()}},[tc,e5,ta,e7,tn,v,tt,e3]),tp=r.useCallback(function(e){var t,n=Array.prototype.indexOf.call(null===(t=e.currentTarget.parentNode)||void 0===t?void 0:t.children,e.currentTarget),o=eZ[n];o&&!o.disabled&&te(n)},[eZ,te]),td=r.useRef({x:0,y:0}),tm=r.useCallback(function(e){var t;(Math.abs(td.current.x-e.clientX)>=1||Math.abs(td.current.y-e.clientY)>=1)&&e0(Array.prototype.indexOf.call(null===(t=e.currentTarget.parentNode)||void 0===t?void 0:t.children,e.currentTarget),!1),td.current={x:e.clientX,y:e.clientY}},[e0]),tf=(0,c.M)(),ty=r.useCallback(function(e,t){var n=t===eD,l=t===eW;return(0,o.jsx)(r.Fragment,{children:U({option:e,hovered:n,children:e.label,selected:l,disabled:e.disabled,onClick:tp,onMouseDown:ee,onMouseMove:tm,id:"".concat(tf,"-").concat(e.value)})},"".concat(e.value))},[eD,tp,tm,U,eW,tf]),tb=r.useMemo(function(){var e=(null==eZ?void 0:eZ.length)>0?eZ.map(ty):(0,o.jsx)(g.w,{className:L.CustomSelect__empty,children:ea});return"function"==typeof P?P({defaultDropdownContent:e}):e},[ea,eZ,P,ty]),tv=r.useRef(null),tS=r.useRef(),tg=r.useCallback(function(){clearTimeout(tS.current),tS.current=setTimeout(function(){tv.current&&tv.current.focus()},0)},[]);(0,m.L)(function(){return function(){clearTimeout(tS.current)}},[]);var tC=eE&&""!==e.value,th=!eE&&""!==eN,t_=ef&&!v&&(tC||th),tO=r.useMemo(function(){return t_?(0,o.jsx)(ed,{className:void 0===es?L["CustomSelect--clear-icon"]:void 0,onClick:function(){eH(""),ez(""),tg()},disabled:eO.disabled,"data-testid":eC}):null},[t_,ed,es,eO.disabled,eC,tg]),tI=r.useMemo(function(){return void 0!==es?es:(0,o.jsx)(S.K,{className:t_?L["CustomSelect__dropdown-icon"]:void 0,opened:v})},[t_,es,v]),tx=(tI||t_)&&(0,o.jsxs)(r.Fragment,{children:[tO,tI]}),tj=(0,p.NG)().document,tw=r.useCallback(function(e){tv.current&&tj&&e.target!==tv.current&&(tv.current.click(),tj.activeElement!==tv.current&&tg())},[tj,tg]),tT=-1!==eD?eD:void 0,tk=void 0!==tT?eZ[tT]&&eZ[tT].value:null,tR=(Z(n={role:"combobox","aria-controls":tf,"aria-owns":tf,"aria-expanded":v},"aria-activedescendant",tk&&v?"".concat(tf,"-").concat(tk):void 0),Z(n,"aria-labelledby",eg),Z(n,"aria-haspopup","listbox"),Z(n,"aria-autocomplete","none"),n),tD=(0,i.L)(ew);return(0,o.jsxs)("div",{className:(0,l.AK)(L.CustomSelect,ex!==s.n$.REGULAR&&G[ex],x),style:k,ref:ew,onClick:tw,onMouseDown:function(e){tj&&tj.activeElement===tv.current&&e.preventDefault()},children:[tD&&eX&&!v&&(0,o.jsx)(C.T,{"aria-live":"polite",children:eX.label}),(0,o.jsx)(H,function(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}(F({autoComplete:"off"},eO,tR),{getRef:tv,onFocus:tr,onBlur:to,className:e$,readOnly:!M,fetching:A,value:eB,onKeyUp:tu,onKeyDown:ts,onChange:ti,onClick:tl,before:_,after:tx,selectType:void 0===B?"default":B,children:null==eX?void 0:eX.label})),(0,o.jsxs)("select",{ref:ek,name:I,onChange:function(e){var t=et(eZ,e.currentTarget.value,ef);eW!==t&&(eE||eG(t),null==R||R(e))},onBlur:e.onBlur,onFocus:e.onFocus,onClick:e.onClick,value:eN,"aria-hidden":!0,className:L.CustomSelect__control,"data-testid":eh,children:[ef&&(0,o.jsx)("option",{value:""},""),el.map(function(e){return(0,o.jsx)("option",{value:e.value},"".concat(e.value))})]}),v&&(0,o.jsx)(b.U,{targetRef:ej,placement:T,scrollBoxRef:e2,onPlacementChange:eL,onMouseLeave:e3,fetching:A,offsetDistance:eb,sameWidth:void 0===ev||ev,forcePortal:q,autoHideScrollbar:z,autoHideScrollbarDelay:Y,noMaxHeight:void 0!==eS&&eS,role:"listbox",id:tf,"aria-labelledby":eg,tabIndex:-1,children:tb})]})}try{er.displayName="CustomSelect",er.__docgenInfo={description:"",displayName:"CustomSelect",props:{searchable:{defaultValue:null,description:"Если `true`, то при клике на `CustomSelect` в нём появится текстовое поле для поиска по `options`. По умолчанию поиск\nпроизводится по `option.label`.",name:"searchable",required:!1,type:{name:"boolean"}},emptyText:{defaultValue:null,description:"Текст, который будет отображен, если приходит пустой `options`.",name:"emptyText",required:!1,type:{name:"string"}},onInputChange:{defaultValue:null,description:"> ⚠️ В **v6** из возвращаемых типов будет удалён `CustomSelectOptionInterface[]`. Для кастомной фильтрации используйте\n> `filterFn`.",name:"onInputChange",required:!1,type:{name:"((e: ChangeEvent<Element>, options: OptionInterfaceT[]) => void | OptionInterfaceT[])"}},options:{defaultValue:null,description:"",name:"options",required:!0,type:{name:"OptionInterfaceT[]"}},filterFn:{defaultValue:null,description:"Функция для кастомной фильтрации. По умолчанию поиск производится по `option.label`.",name:"filterFn",required:!1,type:{name:"false | FilterFn<OptionInterfaceT>"}},popupDirection:{defaultValue:null,description:"",name:"popupDirection",required:!1,type:{name:"enum",value:[{value:'"top"'},{value:'"bottom"'}]}},renderOption:{defaultValue:null,description:"Рендер-проп для кастомного рендера опции.\nВ объекте аргумента приходят [свойства опции](https://vkcom.github.io/VKUI/#/CustomSelectOption?id=props)\n\n> ⚠️  Важно: cвойство опции `disabled` должно выставляться только через проп `options`.\n> Запрещается выставлять `disabled` проп опциям в обход `options`, иначе `CustomSelect` не будет знать об актуальном состоянии\nопции.",name:"renderOption",required:!1,type:{name:"((props: CustomSelectRenderOption<OptionInterfaceT>) => ReactNode)"}},renderDropdown:{defaultValue:null,description:"Рендер-проп для кастомного рендера содержимого дропдауна.\nВ `defaultDropdownContent` содержится список опций в виде скроллящегося блока.",name:"renderDropdown",required:!1,type:{name:"(({ defaultDropdownContent, }: { defaultDropdownContent: ReactNode; }) => ReactNode)"}},fetching:{defaultValue:null,description:'Если `true`, то в дропдауне вместо списка опций рисуется спиннер. При переданных `renderDropdown` и `fetching: true`\n"победит" `renderDropdown`.',name:"fetching",required:!1,type:{name:"boolean"}},onClose:{defaultValue:null,description:"",name:"onClose",required:!1,type:{name:"VoidFunction"}},onOpen:{defaultValue:null,description:"",name:"onOpen",required:!1,type:{name:"VoidFunction"}},icon:{defaultValue:null,description:"Иконка раскрывающегося списка",name:"icon",required:!1,type:{name:"ReactNode"}},ClearButton:{defaultValue:null,description:"Кастомная кнопка для очистки значения.\nДолжна принимать обязательное свойство `onClick`",name:"ClearButton",required:!1,type:{name:"ComponentType<CustomSelectClearButtonProps>"}},allowClearButton:{defaultValue:null,description:"Если `true`, то справа будет отображаться кнопка для очистки значения",name:"allowClearButton",required:!1,type:{name:"boolean"}},clearButtonTestId:{defaultValue:null,description:"(e2e) testId кнопки очистки",name:"clearButtonTestId",required:!1,type:{name:"string"}},dropdownOffsetDistance:{defaultValue:null,description:"",name:"dropdownOffsetDistance",required:!1,type:{name:"number"}},fixDropdownWidth:{defaultValue:null,description:"",name:"fixDropdownWidth",required:!1,type:{name:"boolean"}},forceDropdownPortal:{defaultValue:null,description:"",name:"forceDropdownPortal",required:!1,type:{name:"boolean"}},selectType:{defaultValue:null,description:"",name:"selectType",required:!1,type:{name:"enum",value:[{value:'"default"'},{value:'"accent"'},{value:'"plain"'}]}},noMaxHeight:{defaultValue:null,description:"Отключает максимальную высоту по умолчанию",name:"noMaxHeight",required:!1,type:{name:"boolean"}},labelTextTestId:{defaultValue:null,description:"(e2e) testId элемента, внутри которого отображается текст выбранной опции `CustomSelect` или плейсхолдер.",name:"labelTextTestId",required:!1,type:{name:"string"}},nativeSelectTestId:{defaultValue:null,description:"",name:"nativeSelectTestId",required:!1,type:{name:"string"}},placeholder:{defaultValue:null,description:"",name:"placeholder",required:!1,type:{name:"string"}},multiline:{defaultValue:null,description:"",name:"multiline",required:!1,type:{name:"boolean"}},getRef:{defaultValue:null,description:"",name:"getRef",required:!1,type:{name:"Ref<HTMLSelectElement>"}},getRootRef:{defaultValue:null,description:"",name:"getRootRef",required:!1,type:{name:"Ref<HTMLDivElement>"}},align:{defaultValue:null,description:"",name:"align",required:!1,type:{name:"enum",value:[{value:'"center"'},{value:'"left"'},{value:'"right"'}]}},before:{defaultValue:null,description:"Добавляет иконку слева.\n\nРекомендации:\n\n- Используйте следующие размеры иконок `12` | `16` | `20` | `24` | `28`.\n- Используйте [IconButton](https://vkcom.github.io/VKUI/#/IconButton), если вам нужна кликабельная иконка.",name:"before",required:!1,type:{name:"ReactNode"}},status:{defaultValue:null,description:"",name:"status",required:!1,type:{name:"enum",value:[{value:'"default"'},{value:'"error"'},{value:'"valid"'}]}},after:{defaultValue:null,description:"Добавляет иконку справа.\n\nРекомендации:\n\n- Используйте следующие размеры иконок `12` | `16` | `20` | `24` | `28`.\n- Используйте [IconButton](https://vkcom.github.io/VKUI/#/IconButton), если вам нужна кликабельная иконка.",name:"after",required:!1,type:{name:"ReactNode"}},mode:{defaultValue:null,description:"",name:"mode",required:!1,type:{name:"enum",value:[{value:'"default"'},{value:'"plain"'}]}},autoHideScrollbar:{defaultValue:null,description:"Скрывать ли ползунок скроллбара",name:"autoHideScrollbar",required:!1,type:{name:"boolean"}},autoHideScrollbarDelay:{defaultValue:null,description:"Через какое кол-во миллисекунд ползунок скроллбара скрывается",name:"autoHideScrollbarDelay",required:!1,type:{name:"number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/CustomSelect/CustomSelect.tsx#CustomSelect"]={docgenInfo:er.__docgenInfo,name:"CustomSelect",path:"src/components/CustomSelect/CustomSelect.tsx#CustomSelect"})}catch(e){}},"./src/components/SelectTypography/SelectTypography.tsx":function(e,t,n){n.d(t,{S:function(){return l}});var o=n("../../node_modules/react/jsx-runtime.js");n("../../node_modules/react/index.js");var r=n("./src/components/Typography/Text/Text.tsx"),l=function(e){var t=e.selectType,n=e.children,l=function(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n,o,r={},l=Object.keys(e);for(o=0;o<l.length;o++)n=l[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(o=0;o<l.length;o++)n=l[o],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(e,["selectType","children"]);return(0,o.jsx)(r.x,function(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),o.forEach(function(t){!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(e,t,n[t])})}return e}({weight:"accent"===(void 0===t?"default":t)?"2":"3"},l),{children:n}))};try{l.displayName="SelectTypography",l.__docgenInfo={description:"",displayName:"SelectTypography",props:{selectType:{defaultValue:{value:"default"},description:"",name:"selectType",required:!1,type:{name:"enum",value:[{value:'"default"'},{value:'"accent"'},{value:'"plain"'}]}},getRootRef:{defaultValue:null,description:"",name:"getRootRef",required:!1,type:{name:"Ref<HTMLSpanElement>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/SelectTypography/SelectTypography.tsx#SelectTypography"]={docgenInfo:l.__docgenInfo,name:"SelectTypography",path:"src/components/SelectTypography/SelectTypography.tsx#SelectTypography"})}catch(e){}},"./src/hooks/useId.ts":function(e,t,n){n.d(t,{M:function(){return i}});var o,r=n("../../node_modules/react/index.js");function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=Array(t);n<t;n++)o[n]=e[n];return o}var u=(o||(o=n.t(r,2)))["useId".toString()],a=0,i=null!=u?u:function(){var e=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n,o,r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var l=[],u=!0,a=!1;try{for(r=r.call(e);!(u=(n=r.next()).done)&&(l.push(n.value),!t||l.length!==t);u=!0);}catch(e){a=!0,o=e}finally{try{u||null==r.return||r.return()}finally{if(a)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(r.useState(function(){return a++}),1)[0];return":r".concat(e,":")}}}]);