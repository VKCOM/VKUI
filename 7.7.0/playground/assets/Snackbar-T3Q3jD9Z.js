import{k as X,j as E,R as W,h as Y,c as Z,r as d,i as u4,a7 as e4,l as w,aO as t4}from"./iframe-DfeTZ_Fw.js";import{u as n4}from"./useConfigDirection-CwjKsiym.js";import{u as a4}from"./useFocusWithin-UgE2lzew.js";import{u as o4}from"./useGlobalEscKeyDown--HMR6CpP.js";import{B as r4}from"./Button-CYtH28qE.js";import{P as s4}from"./Paragraph-B0joEyCz.js";import{S as l4}from"./Subhead-BkL8qoJh.js";import{r as B,U as i4}from"./rubberbandIfOutOfBounds-DH79xaNV.js";import{u as c4}from"./useCSSKeyframesAnimationController-Cm7x44xW.js";const d4="_body_14ga2_1",E4="_sizeYRegular_14ga2_21",m4="_sizeYNone_14ga2_33",f4="_modeDark_14ga2_45",p4="_before_14ga2_49",D4="_after_14ga2_53",_4="_content_14ga2_57",B4="_contentText_14ga2_64",y4="_contentSubtitle_14ga2_74",F4="_layoutHorizontal_14ga2_84",C4="_action_14ga2_84",h4="_layoutVertical_14ga2_89",x4="_layoutNone_14ga2_101",l={body:d4,sizeYRegular:E4,sizeYNone:m4,modeDark:f4,before:p4,after:D4,content:_4,contentText:B4,contentSubtitle:y4,layoutHorizontal:F4,action:C4,layoutVertical:h4,layoutNone:x4},b4={none:l.layoutNone,vertical:l.layoutVertical,horizontal:l.layoutHorizontal},A4={none:l.sizeYNone,regular:l.sizeYRegular};function N({layout:t,action:e,after:u,before:n,mode:r,subtitle:a,children:i,...F}){const{sizeY:x="none"}=X(),b=u||a?"vertical":"none";return E.jsxs(W,{...F,baseClassName:Y(l.body,b4[t||b],x!=="compact"&&A4[x],r==="dark"&&l.modeDark),children:[n&&E.jsx("div",{className:l.before,children:n}),E.jsxs("div",{className:l.content,children:[E.jsx(s4,{className:l.contentText,children:i}),a&&!e&&E.jsx(l4,{className:l.contentSubtitle,children:a}),e&&!a&&E.jsx("div",{className:l.action,children:e})]}),u&&E.jsx("div",{className:l.after,children:u})]})}try{N.displayName="Basic",N.__docgenInfo={description:"",displayName:"Basic",props:{getRootRef:{defaultValue:null,description:"",name:"getRootRef",required:!1,type:{name:"Ref<HTMLDivElement>"}},action:{defaultValue:null,description:"Элемент действия.\nНе может использоваться одновременно с `subtitle`.",name:"action",required:!1,type:{name:"ReactNode"}},after:{defaultValue:null,description:"Контент в правой части, может быть иконкой 24x24.",name:"after",required:!1,type:{name:"ReactNode"}},layout:{defaultValue:null,description:"Варианты расположения кнопки действия\nПо умолчанию на десктопах, или при наличии элементов `after` или `subtitle`\nимеет значение `vertical`, в остальных случаях `horizontal`.",name:"layout",required:!1,type:{name:"enum",value:[{value:'"horizontal"'},{value:'"vertical"'}]}},before:{defaultValue:null,description:"Может быть следующими компонентами:\n - цветная иконка 24x24 или 28x28 пикселя\n - `<Avatar size={32} />`\n - `<Image size={40} />`.",name:"before",required:!1,type:{name:"ReactNode"}},mode:{defaultValue:null,description:"Задает стиль снекбара.",name:"mode",required:!1,type:{name:"enum",value:[{value:'"default"'},{value:'"dark"'}]}},subtitle:{defaultValue:null,description:"Дополнительная строка текста под `children`.\nНе может использоваться одновременно с `action`.",name:"subtitle",required:!1,type:{name:"ReactNode"}}}}}catch{}function g4(t,e){if(e!==void 0)switch(t){case"top-start":case"top":case"top-end":return{top:e};case"bottom-start":case"bottom":case"bottom-end":return{bottom:e}}}function p(t,e){return e?-1*t:t}function v4(t,e,u){return{shifted:!1,direction:null,isDesktop:u.smallTabletPlus.matches,x:0,y:0,width:t,height:e}}function N4(t,e,u,n=!1){if(e.isDesktop)t.endsWith("start")?e.x=n?B(u.x,0,e.width):B(u.x,-e.width,0):t.endsWith("end")&&(e.x=n?B(u.x,-e.width,0):B(u.x,0,e.width)),t.startsWith("bottom")&&(e.y=B(u.y,0,e.height));else if(t.startsWith("bottom")){e.x=u.x;const r=u.x<0?-1:null,a=u.x>0?1:null;e.direction=r||a}return t.startsWith("top")&&(e.y=B(u.y,-e.height,0)),e.shifted=!0,e}const y=200;function T4(t,e,u,n,r=!1){if(!e.shifted)return!1;const a={x:!1,y:!1},i={x:!1,y:!1};return e.isDesktop?(t.endsWith("start")?(a.x=p(u.x,r)<-u.width/2,i.x=p(u.x,r)<0?p(n.x,r)<p(-y,r):!1):t.endsWith("end")&&(a.x=p(u.x,r)>u.width/2,i.x=p(u.x,r)>0?p(n.x,r)>p(y,r):!1),t.startsWith("bottom")&&(a.y=u.y>u.height/2,i.y=u.y>0?n.y>y:!1)):t.startsWith("bottom")&&(a.x=u.x<-u.width/2||u.x>u.width/2,i.x=u.x<0&&n.x<-y||u.x>0&&n.x>y),t.startsWith("top")&&(a.y=u.y<-u.height/2,i.y=u.y<0?n.y<-y:!1),a.x||i.x||a.y||i.y}const k4="_host_12fd3_1",R4="_ios_12fd3_19",S4="_rtl_12fd3_23",V4="_placementTopStart_12fd3_27",z4="_placementTop_12fd3_27",q4="_placementTopEnd_12fd3_29",M4="_placementBottomStart_12fd3_36",I4="_placementBottomEnd_12fd3_42",P4="_placementBottom_12fd3_36",j4="_stateEnter_12fd3_152",w4="_stateEntering_12fd3_153",W4="_stateEntered_12fd3_164",Y4="_touched_12fd3_170",H4="_stateExit_12fd3_174",O4="_stateExiting_12fd3_175",o={host:k4,ios:R4,rtl:S4,placementTopStart:V4,placementTop:z4,placementTopEnd:q4,placementBottomStart:M4,placementBottomEnd:I4,placementBottom:P4,in:"_in_12fd3_116",stateEnter:j4,stateEntering:w4,stateEntered:W4,touched:Y4,stateExit:H4,stateExiting:O4},L4={"top-start":o.placementTopStart,top:o.placementTop,"top-end":o.placementTopEnd,"bottom-start":o.placementBottomStart,bottom:o.placementBottom,"bottom-end":o.placementBottomEnd},U4={enter:o.stateEnter,entering:o.stateEntering,entered:o.stateEntered,exit:o.stateExit,exiting:o.stateExiting,exited:void 0},h=({placement:t="bottom-start",children:e,layout:u,action:n,before:r,after:a,duration:i=4e3,onActionClick:F,onClose:x,mode:b="default",subtitle:H,offsetY:O,getRootRef:L,...U})=>{const G=Z(),[D,$]=d.useState(!0),[_,V]=d.useState(!1),T=n4()==="rtl",s=u4(L),z=a4(s),q=d.useRef(null),f=d.useRef(null),c=d.useRef(null),A=d.useRef(null),M=d.useRef(void 0),K=e4(),[g,Q]=c4(D?"enter":"exit",{onExited:x}),v=d.useCallback(()=>{A.current!==null&&(cancelAnimationFrame(A.current),A.current=null)},[]),k=d.useCallback((m,S,j)=>{A.current=requestAnimationFrame(()=>{s.current&&(m===null?s.current.style.removeProperty("--vkui_internal--snackbar_shift_x"):s.current.style.setProperty("--vkui_internal--snackbar_shift_x",`${m}px`),S===null?s.current.style.removeProperty("--vkui_internal--snackbar_shift_y"):s.current.style.setProperty("--vkui_internal--snackbar_shift_y",`${S}px`),j===null?s.current.style.removeProperty("--vkui_internal--snackbar_direction"):s.current.style.setProperty("--vkui_internal--snackbar_direction",`${j}`))})},[s]),C=d.useCallback(()=>{$(!1)},[]),J=m=>{C(),n&&(F==null||F(m))},I=m=>{f.current=new i4,f.current.setStartCoords(m.nativeEvent),c.current=v4(s.current.offsetWidth,s.current.offsetHeight,K),V(!0)},P=m=>{c.current&&f.current&&(f.current.setInitialTimeOnce(),f.current.setEndCoords(m.nativeEvent),c.current=N4(t,c.current,f.current.delta(),T),c.current.shifted&&k(c.current.x,c.current.y,c.current.direction))},R=()=>{_&&c.current&&f.current&&T4(t,c.current,t4(s.current,q.current),f.current.velocity(),T)&&C(),V(!1)};return w(function(){if(!(!D||z||_||g!=="entered"))return M.current=setTimeout(C,i),function(){clearTimeout(M.current)}},[D,z,_,g,C,i]),w(function(){_||(v(),c.current=null,f.current=null,D&&k(null,null,null))},[_,D,k,v]),d.useEffect(()=>v,[v]),o4(D,C),g==="exited"?null:E.jsx(W,{...U,role:"presentation",baseClassName:Y(o.host,G==="ios"&&o.ios,_&&o.touched,L4[t],U4[g],T&&o.rtl),baseStyle:g4(t,O),getRootRef:s,children:E.jsx("div",{role:"alert",className:o.in,ref:q,onTouchStart:I,onTouchMove:P,onTouchEnd:R,onMouseDown:I,onMouseMove:P,onMouseUp:R,onMouseLeave:R,...Q,children:E.jsx(N,{mode:b,layout:u,before:r,after:a,subtitle:H,action:n&&E.jsx(r4,{align:"left",mode:"link",appearance:b==="dark"?"overlay":"accent",size:"s",onClick:J,children:n}),children:e})})})};h.Basic=N;try{h.displayName="Snackbar",h.__docgenInfo={description:"",displayName:"Snackbar",props:{placement:{defaultValue:{value:"bottom-start"},description:'Задаёт расположение компонента.\n\n> Note: в мобильном режиме:\n> - `"top-start"`/`"top-end"` перебивается на `"top"`, чтобы поведение было схожим с нативными\n>   уведомлениями;\n> - `"bottom"` перебивается на `"bottom-start"`, чтобы избежать вызова системных\n>   функций, таких как **Pull To Refresh** и **Режим управления одной рукой**.\n> - `"bottom-start"`/`"bottom-end"` закрываются смахиванием в любое из направлений\n>   по горизонтальной оси.',name:"placement",required:!1,type:{name:"enum",value:[{value:'"bottom"'},{value:'"top"'},{value:'"bottom-start"'},{value:'"bottom-end"'},{value:'"top-start"'},{value:'"top-end"'}]}},action:{defaultValue:null,description:"Название кнопки действия в уведомлении\nНе может использоваться одновременно с `subtitle`.",name:"action",required:!1,type:{name:"ReactNode"}},onActionClick:{defaultValue:null,description:"Будет вызвано при нажатии на кнопку действия.",name:"onActionClick",required:!1,type:{name:"((event: MouseEvent<Element, MouseEvent>) => void)"}},duration:{defaultValue:{value:"4000"},description:"Время в миллисекундах, через которое плашка скроется.",name:"duration",required:!1,type:{name:"number"}},onClose:{defaultValue:null,description:"Обработчик закрытия уведомления.",name:"onClose",required:!0,type:{name:"() => void"}},offsetY:{defaultValue:null,description:"Величина отступа снизу. Используется для позиционирования элемента в случае, когда нежелательно, чтобы Snackbar при появлении перекрывал важные элементы интерфейса.",name:"offsetY",required:!1,type:{name:"Bottom<string | number>"}},getRootRef:{defaultValue:null,description:"",name:"getRootRef",required:!1,type:{name:"Ref<HTMLDivElement>"}},after:{defaultValue:null,description:"Контент в правой части, может быть иконкой 24x24.",name:"after",required:!1,type:{name:"ReactNode"}},layout:{defaultValue:null,description:"Варианты расположения кнопки действия\nПо умолчанию на десктопах, или при наличии элементов `after` или `subtitle`\nимеет значение `vertical`, в остальных случаях `horizontal`.",name:"layout",required:!1,type:{name:"enum",value:[{value:'"horizontal"'},{value:'"vertical"'}]}},before:{defaultValue:null,description:"Может быть следующими компонентами:\n - цветная иконка 24x24 или 28x28 пикселя\n - `<Avatar size={32} />`\n - `<Image size={40} />`.",name:"before",required:!1,type:{name:"ReactNode"}},mode:{defaultValue:{value:"default"},description:"Задает стиль снекбара.",name:"mode",required:!1,type:{name:"enum",value:[{value:'"default"'},{value:'"dark"'}]}},subtitle:{defaultValue:null,description:"Дополнительная строка текста под `children`.\nНе может использоваться одновременно с `action`.",name:"subtitle",required:!1,type:{name:"ReactNode"}}}}}catch{}try{h.Basic.displayName="Snackbar.Basic",h.Basic.__docgenInfo={description:"",displayName:"Snackbar.Basic",props:{getRootRef:{defaultValue:null,description:"",name:"getRootRef",required:!1,type:{name:"Ref<HTMLDivElement>"}},action:{defaultValue:null,description:"Элемент действия.\nНе может использоваться одновременно с `subtitle`.",name:"action",required:!1,type:{name:"ReactNode"}},after:{defaultValue:null,description:"Контент в правой части, может быть иконкой 24x24.",name:"after",required:!1,type:{name:"ReactNode"}},layout:{defaultValue:null,description:"Варианты расположения кнопки действия\nПо умолчанию на десктопах, или при наличии элементов `after` или `subtitle`\nимеет значение `vertical`, в остальных случаях `horizontal`.",name:"layout",required:!1,type:{name:"enum",value:[{value:'"horizontal"'},{value:'"vertical"'}]}},before:{defaultValue:null,description:"Может быть следующими компонентами:\n - цветная иконка 24x24 или 28x28 пикселя\n - `<Avatar size={32} />`\n - `<Image size={40} />`.",name:"before",required:!1,type:{name:"ReactNode"}},mode:{defaultValue:null,description:"Задает стиль снекбара.",name:"mode",required:!1,type:{name:"enum",value:[{value:'"default"'},{value:'"dark"'}]}},subtitle:{defaultValue:null,description:"Дополнительная строка текста под `children`.\nНе может использоваться одновременно с `action`.",name:"subtitle",required:!1,type:{name:"ReactNode"}}}}}catch{}export{N as B,h as S};
