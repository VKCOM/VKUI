"use strict";(self.webpackChunk_vkontakte_vkui=self.webpackChunk_vkontakte_vkui||[]).push([[296],{"../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[15].use[1]!../../node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[15].use[2]!./src/components/CustomSelect/CustomSelect.module.css":(e,t,n)=>{n.d(t,{Z:()=>a});var o=n("../../node_modules/css-loader/dist/runtime/noSourceMaps.js"),l=n.n(o),r=n("../../node_modules/css-loader/dist/runtime/api.js"),u=n.n(r)()(l());u.push([e.id,".CustomSelect--t8BBn{cursor:pointer;display:block;position:relative;width:100%}.CustomSelect--pop-down--YTLW6{border-bottom-left-radius:0;border-bottom-right-radius:0}.CustomSelect--pop-up--wZZnV{border-top-left-radius:0;border-top-right-radius:0}.CustomSelect__control--VcHiM{display:none}.CustomSelect__empty--Vt06J{color:var(--vkui--color_text_secondary);padding:12px 0;text-align:center}.CustomSelect__fetching--kv01N{align-items:center;display:flex;justify-content:center}.CustomSelect__dropdown-icon--OR19l{margin-right:10px}.CustomSelect--clear-icon--Zu9v8{margin-right:-6px}.CustomSelect--sizeY-compact--_zPzn .CustomSelect__dropdown-icon--OR19l{margin-right:8px}.CustomSelect--sizeY-compact--_zPzn .CustomSelect--clear-icon--Zu9v8{margin-right:-2px}@media (max-height:414.9px),(pointer:fine) and (min-width:768px){.CustomSelect--sizeY-none--ScLah .CustomSelect__dropdown-icon--OR19l{margin-right:8px}.CustomSelect--sizeY-none--ScLah .CustomSelect--clear-icon--Zu9v8{margin-right:-2px}}",""]),u.locals={CustomSelect:"CustomSelect--t8BBn","CustomSelect--pop-down":"CustomSelect--pop-down--YTLW6","CustomSelect--pop-up":"CustomSelect--pop-up--wZZnV",CustomSelect__control:"CustomSelect__control--VcHiM",CustomSelect__empty:"CustomSelect__empty--Vt06J",CustomSelect__fetching:"CustomSelect__fetching--kv01N","CustomSelect__dropdown-icon":"CustomSelect__dropdown-icon--OR19l","CustomSelect--clear-icon":"CustomSelect--clear-icon--Zu9v8","CustomSelect--sizeY-compact":"CustomSelect--sizeY-compact--_zPzn","CustomSelect--sizeY-none":"CustomSelect--sizeY-none--ScLah"};let a=u},"../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[15].use[1]!../../node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[15].use[2]!./src/components/CustomSelect/CustomSelectInput.module.css":(e,t,n)=>{n.d(t,{Z:()=>a});var o=n("../../node_modules/css-loader/dist/runtime/noSourceMaps.js"),l=n.n(o),r=n("../../node_modules/css-loader/dist/runtime/api.js"),u=n.n(r)()(l());u.push([e.id,".CustomSelectInput--DqvHQ{position:relative}.CustomSelectInput__el--YTaQr{-webkit-appearance:none;-moz-appearance:none;appearance:none;background:transparent;border:0;border-radius:inherit;box-shadow:none;box-sizing:border-box;color:var(--vkui--color_text_primary);height:var(--vkui--size_field_height--regular);left:0;line-height:var(--vkui--size_field_height--regular);margin:0;padding:0 12px;position:absolute;top:0;width:100%;z-index:var(--vkui_internal--z_index_form_field_element)}.CustomSelectInput__el--cursor-pointer--FGam4{cursor:pointer}.CustomSelectInput--sizeY-compact--pVxPo .CustomSelectInput__el--YTaQr{height:var(--vkui--size_field_height--compact)}@media (max-height:414.9px),(pointer:fine) and (min-width:768px){.CustomSelectInput--sizeY-none--CyzRX .CustomSelectInput__el--YTaQr{height:var(--vkui--size_field_height--compact)}}.CustomSelectInput--hasBefore--qjWb8 .CustomSelectInput__el--YTaQr{padding-left:0}.CustomSelectInput--hasAfter--uk8Ef .CustomSelectInput__el--YTaQr{padding-right:0}.CustomSelectInput__el--YTaQr:disabled{opacity:var(--vkui--opacity_disable_accessibility)}.CustomSelectInput__container--KcnLH{box-sizing:border-box;color:var(--vkui--color_text_primary);max-height:100%;overflow:hidden;padding-left:12px;padding-right:0;pointer-events:none;width:100%;z-index:var(--vkui_internal--z_index_form_field_element)}.CustomSelectInput--hasBefore--qjWb8 .CustomSelectInput__container--KcnLH{padding-left:0}.CustomSelectInput--multiline--KeUIz .CustomSelectInput__container--KcnLH{padding-bottom:12px;padding-top:12px}.CustomSelectInput--sizeY-compact--pVxPo.CustomSelectInput--multiline--KeUIz .CustomSelectInput__container--KcnLH{padding-bottom:8px;padding-top:8px}@media (max-height:414.9px),(pointer:fine) and (min-width:768px){.CustomSelectInput--sizeY-none--CyzRX.CustomSelectInput--multiline--KeUIz .CustomSelectInput__container--KcnLH{padding-bottom:8px;padding-top:8px}}.CustomSelectInput__input-group--Zdfbs{align-items:center;align-self:stretch;display:flex;flex:1;overflow:hidden;position:relative}.CustomSelectInput--hasBefore--qjWb8 .CustomSelectInput__input-group--Zdfbs{border-radius:0}.CustomSelectInput__title--juUZ7{display:block}.CustomSelectInput--DqvHQ:not(.CustomSelectInput--multiline--KeUIz) .CustomSelectInput__title--juUZ7{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.CustomSelectInput--empty--9UXAt .CustomSelectInput__title--juUZ7{color:var(--vkui--color_text_secondary)}.CustomSelectInput__el--YTaQr::-ms-input-placeholder{opacity:0}.CustomSelectInput__el--YTaQr::placeholder{opacity:0}.CustomSelectInput--align-right--G0wA4 .CustomSelectInput__el--YTaQr,.CustomSelectInput--align-right--G0wA4 .CustomSelectInput__title--juUZ7{text-align:right}.CustomSelectInput--align-center--wi0Fz .CustomSelectInput__el--YTaQr,.CustomSelectInput--align-center--wi0Fz .CustomSelectInput__title--juUZ7{text-align:center}.vkuiInternalCalendarHeader__picker .CustomSelectInput__container--KcnLH{padding-right:4px}",""]),u.locals={CustomSelectInput:"CustomSelectInput--DqvHQ",CustomSelectInput__el:"CustomSelectInput__el--YTaQr","CustomSelectInput__el--cursor-pointer":"CustomSelectInput__el--cursor-pointer--FGam4","CustomSelectInput--sizeY-compact":"CustomSelectInput--sizeY-compact--pVxPo","CustomSelectInput--sizeY-none":"CustomSelectInput--sizeY-none--CyzRX","CustomSelectInput--hasBefore":"CustomSelectInput--hasBefore--qjWb8","CustomSelectInput--hasAfter":"CustomSelectInput--hasAfter--uk8Ef",CustomSelectInput__container:"CustomSelectInput__container--KcnLH","CustomSelectInput--multiline":"CustomSelectInput--multiline--KeUIz","CustomSelectInput__input-group":"CustomSelectInput__input-group--Zdfbs",CustomSelectInput__title:"CustomSelectInput__title--juUZ7","CustomSelectInput--empty":"CustomSelectInput--empty--9UXAt","CustomSelectInput--align-right":"CustomSelectInput--align-right--G0wA4","CustomSelectInput--align-center":"CustomSelectInput--align-center--wi0Fz"};let a=u},"./src/components/CustomSelect/CustomSelect.tsx":(e,t,n)=>{n.d(t,{A:()=>et});var o=n("../../node_modules/react/index.js"),l=n("../../node_modules/@vkontakte/vkjs/lib/es6/index.js"),r=n("./src/hooks/useAdaptivity.ts"),u=n("./src/hooks/useExternRef.ts"),a=n("./src/hooks/useFocusWithin.ts"),c=n("./src/lib/dom.tsx"),i=n("./src/lib/select.ts"),s=n("./src/lib/useIsomorphicLayoutEffect.ts"),p=n("./src/lib/utils.ts"),d=n("./src/lib/warnOnce.ts"),m=n("./src/components/CustomSelectDropdown/CustomSelectDropdown.tsx"),f=n("./src/components/CustomSelectOption/CustomSelectOption.tsx"),y=n("./src/components/DropdownIcon/DropdownIcon.tsx"),v=n("./src/components/Typography/Footnote/Footnote.tsx"),b=n("./src/components/VisuallyHidden/VisuallyHidden.tsx"),S=n("../../node_modules/@vkontakte/icons/dist/es6/16/cancel_16.js"),C=n("./src/components/IconButton/IconButton.tsx"),g=function(e){var t=e.className,n=e.onClick,l=function(e,t){if(null==e)return{};var n,o,l=function(e,t){if(null==e)return{};var n,o,l={},r=Object.keys(e);for(o=0;o<r.length;o++)n=r[o],t.indexOf(n)>=0||(l[n]=e[n]);return l}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(o=0;o<r.length;o++)n=r[o],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}(e,["className","onClick"]);return o.createElement(C.h,function(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),o.forEach(function(t){!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(e,t,n[t])})}return e}({Component:"button",label:"Очистить поле",onKeyDown:p.UW,type:"button",activeMode:"opacity",hoverMode:"opacity"},l),{className:t,onClick:function(e){(0,p.UW)(e),e.preventDefault(),n()}}),o.createElement(S.Q,null))};try{g.displayName="CustomSelectClearButton",g.__docgenInfo={description:"",displayName:"CustomSelectClearButton",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},onClick:{defaultValue:null,description:"",name:"onClick",required:!0,type:{name:"() => void"}},disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/CustomSelect/CustomSelectClearButton.tsx#CustomSelectClearButton"]={docgenInfo:g.__docgenInfo,name:"CustomSelectClearButton",path:"src/components/CustomSelect/CustomSelectClearButton.tsx#CustomSelectClearButton"})}catch(e){}var h=n("./src/hooks/usePlatform.ts"),_=n("./src/components/FormField/FormField.tsx"),I=n("./src/components/SelectTypography/SelectTypography.tsx"),O=n("./src/components/Typography/Text/Text.tsx"),w=n("../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),x=n.n(w),T=n("../../node_modules/style-loader/dist/runtime/singletonStyleDomAPI.js"),j=n.n(T),k=n("../../node_modules/style-loader/dist/runtime/insertBySelector.js"),E=n.n(k),R=n("../../node_modules/style-loader/dist/runtime/setAttributesWithAttributesAndNonce.js"),V=n.n(R),D=n("../../node_modules/style-loader/dist/runtime/insertStyleElement.js"),P=n.n(D),q=n("../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[15].use[1]!../../node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[15].use[2]!./src/components/CustomSelect/CustomSelectInput.module.css"),A={attributes:{class:"vkui-style"}};A.setAttributes=V(),A.insert=E().bind(null,"head"),A.domAPI=j(),A.insertStyleElement=P(),x()(q.Z,A);let B=q.Z&&q.Z.locals?q.Z.locals:void 0;var z={none:B["CustomSelectInput--sizeY-none"],compact:B["CustomSelectInput--sizeY-compact"]},Y=function(e){var t=e.align,n=void 0===t?"left":t,c=e.getRef,s=e.className,p=e.getRootRef,d=e.style,m=e.before,f=e.after,y=e.status,v=e.children,S=e.placeholder,C=e.selectType,g=void 0===C?"default":C,w=e.multiline,x=e.disabled,T=e.fetching,j=e.labelTextTestId,k=function(e,t){if(null==e)return{};var n,o,l=function(e,t){if(null==e)return{};var n,o,l={},r=Object.keys(e);for(o=0;o<r.length;o++)n=r[o],t.indexOf(n)>=0||(l[n]=e[n]);return l}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(o=0;o<r.length;o++)n=r[o],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}(e,["align","getRef","className","getRootRef","style","before","after","status","children","placeholder","selectType","multiline","disabled","fetching","labelTextTestId"]),E=(0,r.g)().sizeY,R=void 0===E?"none":E,V=v||S,D=!k.value,P=(0,u.Q)(p),q=(0,a.L)(P),A=o.createElement(O.x,function(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),o.forEach(function(t){!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(e,t,n[t])})}return e}({type:"text"},k),{disabled:x&&!T,readOnly:k.readOnly||x&&T,Component:"input",normalize:!1,className:(0,l.AK)(B.CustomSelectInput__el,(k.readOnly||D&&!q)&&B["CustomSelectInput__el--cursor-pointer"]),getRootRef:c,placeholder:v?"":S})),Y=(0,h.F)();return o.createElement(_.W,{Component:"div",style:d,className:(0,l.AK)(B.CustomSelectInput,"right"===n&&B["CustomSelectInput--align-right"],"center"===n&&B["CustomSelectInput--align-center"],!v&&B["CustomSelectInput--empty"],w&&B["CustomSelectInput--multiline"],"regular"!==R&&z[R],m&&B["CustomSelectInput--hasBefore"],f&&B["CustomSelectInput--hasAfter"],s),getRootRef:P,before:m,after:f,disabled:x,mode:(0,i.e)(g),status:y},o.createElement("div",{className:B["CustomSelectInput__input-group"]},o.createElement("div",{className:(0,l.AK)(B.CustomSelectInput__container,s),tabIndex:-1,"aria-hidden":!0,"data-testid":j},o.createElement(I.S,{selectType:g,className:B.CustomSelectInput__title},D&&V)),k.readOnly&&"ios"===Y?o.createElement(b.T,null,A):A))};try{Y.displayName="CustomSelectInput",Y.__docgenInfo={description:"",displayName:"CustomSelectInput",props:{selectType:{defaultValue:{value:"default"},description:"",name:"selectType",required:!1,type:{name:"enum",value:[{value:'"default"'},{value:'"accent"'},{value:'"plain"'}]}},multiline:{defaultValue:null,description:"",name:"multiline",required:!1,type:{name:"boolean"}},labelTextTestId:{defaultValue:null,description:"",name:"labelTextTestId",required:!1,type:{name:"string"}},fetching:{defaultValue:null,description:"",name:"fetching",required:!1,type:{name:"boolean"}},getRef:{defaultValue:null,description:"",name:"getRef",required:!1,type:{name:"Ref<HTMLInputElement>"}},getRootRef:{defaultValue:null,description:"",name:"getRootRef",required:!1,type:{name:"Ref<HTMLDivElement>"}},align:{defaultValue:{value:"left"},description:"",name:"align",required:!1,type:{name:"enum",value:[{value:'"center"'},{value:'"right"'},{value:'"left"'}]}},before:{defaultValue:null,description:"Добавляет иконку слева.\n\nРекомендации:\n\n- Используйте следующие размеры иконок `12` | `16` | `20` | `24` | `28`.\n- Используйте [IconButton](https://vkcom.github.io/VKUI/#/IconButton), если вам нужна кликабельная иконка.",name:"before",required:!1,type:{name:"ReactNode"}},after:{defaultValue:null,description:"Добавляет иконку справа.\n\nРекомендации:\n\n- Используйте следующие размеры иконок `12` | `16` | `20` | `24` | `28`.\n- Используйте [IconButton](https://vkcom.github.io/VKUI/#/IconButton), если вам нужна кликабельная иконка.",name:"after",required:!1,type:{name:"ReactNode"}},status:{defaultValue:null,description:"",name:"status",required:!1,type:{name:"enum",value:[{value:'"default"'},{value:'"error"'},{value:'"valid"'}]}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/CustomSelect/CustomSelectInput.tsx#CustomSelectInput"]={docgenInfo:Y.__docgenInfo,name:"CustomSelectInput",path:"src/components/CustomSelect/CustomSelectInput.tsx#CustomSelectInput"})}catch(e){}var N=n("../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[15].use[1]!../../node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[15].use[2]!./src/components/CustomSelect/CustomSelect.module.css"),H={attributes:{class:"vkui-style"}};H.setAttributes=V(),H.insert=E().bind(null,"head"),H.domAPI=j(),H.insertStyleElement=P(),x()(N.Z,H);let K=N.Z&&N.Z.locals?N.Z.locals:void 0;function L(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=Array(t);n<t;n++)o[n]=e[n];return o}function M(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Z(e,t){if(null==e)return{};var n,o,l=function(e,t){if(null==e)return{};var n,o,l={},r=Object.keys(e);for(o=0;o<r.length;o++)n=r[o],t.indexOf(n)>=0||(l[n]=e[n]);return l}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(o=0;o<r.length;o++)n=r[o],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}function F(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n,o,l=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=l){var r=[],u=!0,a=!1;try{for(l=l.call(e);!(u=(n=l.next()).done)&&(r.push(n.value),!t||r.length!==t);u=!0);}catch(e){a=!0,o=e}finally{try{u||null==l.return||l.return()}finally{if(a)throw o}}return r}}(e,t)||function(e,t){if(e){if("string"==typeof e)return L(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return L(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var U=M({none:K["CustomSelect--sizeY-none"]},"compact",K["CustomSelect--sizeY-compact"]),Q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;return t>=e.length-1?-1:e.findIndex(function(e,n){return n>t&&!e.disabled})},W=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.length,n=-1;if(t<=0)return n;for(var o=t-1;o>=0;o--)if(!e[o].disabled){n=o;break}return n};function X(e){e.option;var t=Z(e,["option"]);return o.createElement(f.x,t)}(0,d.O)("CustomSelect");var G=function(e){e.preventDefault()};function J(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1?arguments[1]:void 0,o=arguments.length>2?arguments[2]:void 0;return o&&""===n?-1:(e=t.findIndex(function(e){return n="number"==typeof e.value?Number(n):n,e.value===n}))!==null&&void 0!==e?e:-1}var $=function(e,t,n){return"function"==typeof n?e.filter(function(e){return n(t,e)}):e},ee=[];function et(e){var t,n,d=F(o.useState(!1),2),f=d[0],S=d[1],C=e.before,h=e.name,_=e.className,I=e.getRef,O=e.getRootRef,w=e.popupDirection,x=e.style,T=e.onChange,j=(e.children,e.onInputChange),k=e.renderDropdown,E=e.onOpen,R=e.onClose,V=e.fetching,D=e.forceDropdownPortal,P=e.selectType,q=e.autoHideScrollbar,A=e.autoHideScrollbarDelay,B=e.searchable,z=void 0!==B&&B,N=e.renderOption,H=void 0===N?X:N,L=e.options,et=void 0===L?ee:L,en=e.emptyText,eo=void 0===en?"Ничего не найдено":en,el=e.filterFn,er=void 0===el?i.B:el,eu=e.icon,ea=e.ClearButton,ec=void 0===ea?g:ea,ei=e.allowClearButton,es=void 0!==ei&&ei,ep=e.dropdownOffsetDistance,ed=void 0===ep?0:ep,em=e.dropdownAutoWidth,ef=e.noMaxHeight,ey=e["aria-labelledby"],ev=e.clearButtonTestId,eb=e.nativeSelectTestId,eS=e.defaultValue,eC=Z(e,["before","name","className","getRef","getRootRef","popupDirection","style","onChange","children","onInputChange","renderDropdown","onOpen","onClose","fetching","forceDropdownPortal","selectType","autoHideScrollbar","autoHideScrollbarDelay","searchable","renderOption","options","emptyText","filterFn","icon","ClearButton","allowClearButton","dropdownOffsetDistance","dropdownAutoWidth","noMaxHeight","aria-labelledby","clearButtonTestId","nativeSelectTestId","defaultValue"]),eg=(0,r.g)().sizeY,eh=void 0===eg?"none":eg,e_=o.useRef(null),eI=(0,u.Q)(e_,O),eO=o.useRef(null),ew=(0,u.Q)(I),ex=F(o.useState(-1),2),eT=ex[0],ej=ex[1],ek=F(o.useState(void 0!==e.value),2),eE=ek[0],eR=ek[1],eV=F(o.useState(""),2),eD=eV[0],eP=eV[1],eq=F(o.useState(function(){var t,n;return(n=(t=e.value)!==null&&void 0!==t?t:eS)!==null&&void 0!==n?n:es?"":void 0}),2),eA=eq[0],eB=eq[1],ez=F(o.useState(void 0),2),eY=ez[0],eN=ez[1],eH=F(o.useState(et),2),eK=eH[0],eL=eH[1],eM=F(o.useState(J(et,(t=e.value)!==null&&void 0!==t?t:eS,es)),2),eZ=eM[0],eF=eM[1];o.useEffect(function(){eR(void 0!==e.value),eB(function(t){var n;return(n=e.value)!==null&&void 0!==n?n:t})},[e.value]),(0,s.L)(function(){if(eK.some(function(e){return eA===e.value})||es&&""===eA){var e,t=new Event("change",{bubbles:!0});(e=ew.current)===null||void 0===e||e.dispatchEvent(t)}},[eA]);var eU=o.useMemo(function(){return eK.length?void 0!==eZ?eK[eZ]:void 0:null},[eK,eZ]),eQ=o.useMemo(function(){return f&&0===ed&&((null==eY?void 0:eY.includes("top"))?K["CustomSelect--pop-up"]:K["CustomSelect--pop-down"])||void 0},[ed,f,eY]),eW=o.useCallback(function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=eO.current,o=n?n.children[e]:null;if(o&&n){var l=n.offsetHeight,r=n.scrollTop,u=o.offsetTop,a=o.offsetHeight;t?n.scrollTop=u-l/2+a/2:u+a>l+r?n.scrollTop=u-l+a:u<r&&(n.scrollTop=u)}},[]),eX=o.useCallback(function(e){var t,n=!(arguments.length>1)||void 0===arguments[1]||arguments[1];if(!(void 0===e||e<0||e>((t=eK.length)!==null&&void 0!==t?t:0)-1)){var o=eK[e];null!=o&&o.disabled||(n&&eW(e),ej(function(t){return t!==e?e:t}))}},[eK,eW]),eG=o.useCallback(function(e){var t;return e>=0&&e<((t=eK.length)!==null&&void 0!==t?t:0)},[eK.length]),eJ=o.useCallback(function(e){eO.current=e,e&&void 0!==eZ&&eG(eZ)&&eW(eZ,!0)},[eG,eW,eZ]),e$=F(o.useState(""),2),e0=e$[0],e1=e$[1],e2=o.useCallback(function(){e1("")},[]),e8=o.useCallback(function(){ej(-1)},[]),e6=o.useCallback(function(e){f||S(!0),e8(),e1(e0+e)},[e0,f,e8]),e4=o.useCallback(function(){e2(),eP(""),S(!1),e8(),null==R||R()},[R,e2,e8]),e9=o.useCallback(function(t){var n=eK[t];if(eB(null==n?void 0:n.value),e4(),eE&&e.value!==eA&&eA===(null==n?void 0:n.value)){var o,l=new Event("change",{bubbles:!0});(o=ew.current)===null||void 0===o||o.dispatchEvent(l)}},[e4,eK,ew,eE,e.value,eA]),e7=o.useCallback(function(){void 0!==eT&&eG(eT)&&e9(eT)},[eT,eG,e9]),e5=o.useCallback(function(){S(!0),ej(eZ),"function"==typeof E&&E()},[E,eZ]),e3=o.useCallback(function(){e4();var e,t=new Event("focusout",{bubbles:!0});(e=ew.current)===null||void 0===e||e.dispatchEvent(t)},[e4,ew]),te=o.useCallback(function(){var e,t=new Event("focusin",{bubbles:!0});(e=ew.current)===null||void 0===e||e.dispatchEvent(t)},[ew]),tt=o.useCallback(function(){f?e4():e5()},[e4,e5,f]),tn=o.useMemo(function(){return(0,p.Ds)(e2,1e3)},[e2]),to=o.useCallback(function(e){var t=eT;if("next"===e){var n=Q(eK,t);t=-1===n?Q(eK):n}else if("prev"===e){var o=W(eK,t);t=-1===o?W(eK):o}eX(t)},[eX,eT,eK]);o.useEffect(function(){var t,n,o=(n=(t=e.value)!==null&&void 0!==t?t:eA)!==null&&void 0!==n?n:eS,l=z&&void 0!==eD?$(et,eD,er):et;eL(l),eF(J(l,o,es))},[er,eD,eA,et,eS,e.value,z,es]);var tl=o.useCallback(function(e){j&&j(e);var t=$(et,e.target.value,er);eL(t),eF(J(t,eA,es)),eP(e.target.value)},[er,eA,j,et,es]),tr=o.useCallback(function(){return null!==eO.current},[]),tu=o.useCallback(function(e){if(1===e.key.length&&" "!==e.key){e6(e.key);return}switch(["ArrowUp","ArrowDown","Escape","Enter"].includes(e.key)&&tr()&&e.preventDefault(),e.key){case"ArrowUp":f?tr()&&to("prev"):e5();break;case"ArrowDown":f?tr()&&to("next"):e5();break;case"Escape":e4();break;case"Backspace":case"Delete":f||S(!0),e8();break;case"Enter":case"Spacebar":case" ":f?tr()&&e7():e5()}},[tr,e4,to,e6,e5,f,e7,e8]),ta=o.useCallback(function(e){var t,n=Array.prototype.indexOf.call((t=e.currentTarget.parentNode)===null||void 0===t?void 0:t.children,e.currentTarget),o=eK[n];o&&!o.disabled&&e9(n)},[eK,e9]),tc=o.useRef({x:0,y:0}),ti=o.useCallback(function(e){var t;(Math.abs(tc.current.x-e.clientX)>=1||Math.abs(tc.current.y-e.clientY)>=1)&&eX(Array.prototype.indexOf.call((t=e.currentTarget.parentNode)===null||void 0===t?void 0:t.children,e.currentTarget),!1),tc.current={x:e.clientX,y:e.clientY}},[eX]),ts=o.useId(),tp=o.useCallback(function(e,t){var n=t===eT,l=t===eZ;return o.createElement(o.Fragment,{key:"".concat(e.value)},H({option:e,hovered:n,children:e.label,selected:l,disabled:e.disabled,onClick:ta,onMouseDown:G,onMouseMove:ti,id:"".concat(ts,"-").concat(e.value)}))},[eT,ta,ti,H,eZ,ts]),td=o.useMemo(function(){var e=(null==eK?void 0:eK.length)>0?eK.map(tp):o.createElement(v.w,{className:K.CustomSelect__empty},eo);return"function"==typeof k?k({defaultDropdownContent:e}):e},[eo,eK,k,tp]),tm=o.useRef(null),tf=o.useRef(),ty=o.useCallback(function(){clearTimeout(tf.current),tf.current=setTimeout(function(){tm.current&&tm.current.focus()},0)},[]);(0,s.L)(function(){return function(){clearTimeout(tf.current)}},[]);var tv=eE&&""!==e.value,tb=!eE&&""!==eA,tS=es&&!f&&(tv||tb),tC=o.useMemo(function(){return tS?o.createElement(ec,{className:void 0===eu?K["CustomSelect--clear-icon"]:void 0,onClick:function(){eB(""),eP(""),ty()},disabled:eC.disabled,"data-testid":ev}):null},[tS,ec,eu,eC.disabled,ev,ty]),tg=o.useMemo(function(){return void 0!==eu?eu:o.createElement(y.K,{className:tS?K["CustomSelect__dropdown-icon"]:void 0,opened:f})},[tS,eu,f]),th=(tg||tS)&&o.createElement(o.Fragment,null,tC,tg),t_=(0,c.NG)().document,tI=o.useCallback(function(e){tm.current&&t_&&e.target!==tm.current&&(tm.current.click(),t_.activeElement!==tm.current&&ty())},[t_,ty]),tO=-1!==eT?eT:void 0,tw=void 0!==tO?eK[tO]&&eK[tO].value:null,tx=(M(n={role:"combobox","aria-controls":ts,"aria-owns":ts,"aria-expanded":f},"aria-activedescendant",tw&&f?"".concat(ts,"-").concat(tw):void 0),M(n,"aria-labelledby",ey),M(n,"aria-haspopup","listbox"),M(n,"aria-autocomplete","none"),n),tT=(0,a.L)(eI);return o.createElement("div",{className:(0,l.AK)(K.CustomSelect,"regular"!==eh&&U[eh],_),style:x,ref:eI,onClick:tI,onMouseDown:function(e){t_&&t_.activeElement===tm.current&&e.preventDefault()}},tT&&eU&&!f&&o.createElement(b.T,{"aria-live":"polite"},eU.label),o.createElement(Y,function(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),o.forEach(function(t){M(e,t,n[t])})}return e}({autoComplete:"off",autoCapitalize:"none",autoCorrect:"off",spellCheck:"false"},eC,tx),{getRef:tm,onFocus:te,onBlur:e3,className:eQ,readOnly:!z,fetching:V,value:eD,onKeyUp:tn,onKeyDown:tu,onChange:tl,onClick:tt,before:C,after:th,selectType:void 0===P?"default":P}),null==eU?void 0:eU.label),o.createElement("select",{ref:ew,name:h,onChange:function(e){var t=J(eK,e.currentTarget.value,es);eZ!==t&&(eE||eF(t),null==T||T(e))},onBlur:e.onBlur,onFocus:e.onFocus,onClick:e.onClick,value:eA,"aria-hidden":!0,className:K.CustomSelect__control,"data-testid":eb},es&&o.createElement("option",{key:"",value:""}),et.map(function(e){return o.createElement("option",{key:"".concat(e.value),value:e.value})})),f&&o.createElement(m.U,{targetRef:e_,placement:w,scrollBoxRef:eJ,onPlacementChange:eN,onMouseLeave:e8,fetching:V,offsetDistance:ed,autoWidth:void 0!==em&&em,forcePortal:D,autoHideScrollbar:q,autoHideScrollbarDelay:A,noMaxHeight:void 0!==ef&&ef,role:"listbox",id:ts,"aria-labelledby":ey,tabIndex:-1},td))}try{et.displayName="CustomSelect",et.__docgenInfo={description:"",displayName:"CustomSelect",props:{searchable:{defaultValue:null,description:"Если `true`, то при клике на `CustomSelect` в нём появится текстовое поле для поиска по `options`. По умолчанию поиск\nпроизводится по `option.label`.",name:"searchable",required:!1,type:{name:"boolean"}},emptyText:{defaultValue:null,description:"Текст, который будет отображен, если приходит пустой `options`.",name:"emptyText",required:!1,type:{name:"string"}},onInputChange:{defaultValue:null,description:"Событие изменения текстового поля",name:"onInputChange",required:!1,type:{name:"((e: ChangeEvent<Element>) => void)"}},options:{defaultValue:null,description:"",name:"options",required:!0,type:{name:"OptionInterfaceT[]"}},filterFn:{defaultValue:null,description:"Функция для кастомной фильтрации. По умолчанию поиск производится по `option.label`.",name:"filterFn",required:!1,type:{name:"false | FilterFn<OptionInterfaceT>"}},popupDirection:{defaultValue:null,description:"",name:"popupDirection",required:!1,type:{name:"enum",value:[{value:'"top"'},{value:'"bottom"'}]}},renderOption:{defaultValue:null,description:"Рендер-проп для кастомного рендера опции.\nВ объекте аргумента приходят [свойства опции](https://vkcom.github.io/VKUI/#/CustomSelectOption?id=props)\n\n> ⚠️  Важно: cвойство опции `disabled` должно выставляться только через проп `options`.\n> Запрещается выставлять `disabled` проп опциям в обход `options`, иначе `CustomSelect` не будет знать об актуальном состоянии\nопции.",name:"renderOption",required:!1,type:{name:"((props: CustomSelectRenderOption<OptionInterfaceT>) => ReactNode)"}},renderDropdown:{defaultValue:null,description:"Рендер-проп для кастомного рендера содержимого дропдауна.\nВ `defaultDropdownContent` содержится список опций в виде скроллящегося блока.",name:"renderDropdown",required:!1,type:{name:"(({ defaultDropdownContent, }: { defaultDropdownContent: ReactNode; }) => ReactNode)"}},fetching:{defaultValue:null,description:'Если `true`, то в дропдауне вместо списка опций рисуется спиннер. При переданных `renderDropdown` и `fetching: true`\n"победит" `renderDropdown`.',name:"fetching",required:!1,type:{name:"boolean"}},onClose:{defaultValue:null,description:"",name:"onClose",required:!1,type:{name:"VoidFunction"}},onOpen:{defaultValue:null,description:"",name:"onOpen",required:!1,type:{name:"VoidFunction"}},icon:{defaultValue:null,description:"Иконка раскрывающегося списка",name:"icon",required:!1,type:{name:"ReactNode"}},ClearButton:{defaultValue:null,description:"Кастомная кнопка для очистки значения.\nДолжна принимать обязательное свойство `onClick`",name:"ClearButton",required:!1,type:{name:"ComponentType<CustomSelectClearButtonProps>"}},allowClearButton:{defaultValue:null,description:"Если `true`, то справа будет отображаться кнопка для очистки значения",name:"allowClearButton",required:!1,type:{name:"boolean"}},clearButtonTestId:{defaultValue:null,description:"(e2e) testId кнопки очистки",name:"clearButtonTestId",required:!1,type:{name:"string"}},dropdownOffsetDistance:{defaultValue:null,description:"",name:"dropdownOffsetDistance",required:!1,type:{name:"number"}},dropdownAutoWidth:{defaultValue:null,description:"Ширина раскрывающегося списка зависит от контента",name:"dropdownAutoWidth",required:!1,type:{name:"boolean"}},forceDropdownPortal:{defaultValue:null,description:"",name:"forceDropdownPortal",required:!1,type:{name:"boolean"}},selectType:{defaultValue:null,description:"",name:"selectType",required:!1,type:{name:"enum",value:[{value:'"default"'},{value:'"accent"'},{value:'"plain"'}]}},noMaxHeight:{defaultValue:null,description:"Отключает максимальную высоту по умолчанию",name:"noMaxHeight",required:!1,type:{name:"boolean"}},labelTextTestId:{defaultValue:null,description:"(e2e) testId элемента, внутри которого отображается текст выбранной опции `CustomSelect` или плейсхолдер.",name:"labelTextTestId",required:!1,type:{name:"string"}},nativeSelectTestId:{defaultValue:null,description:"",name:"nativeSelectTestId",required:!1,type:{name:"string"}},placeholder:{defaultValue:null,description:"",name:"placeholder",required:!1,type:{name:"string"}},multiline:{defaultValue:null,description:"",name:"multiline",required:!1,type:{name:"boolean"}},getRef:{defaultValue:null,description:"",name:"getRef",required:!1,type:{name:"Ref<HTMLSelectElement>"}},getRootRef:{defaultValue:null,description:"",name:"getRootRef",required:!1,type:{name:"Ref<HTMLDivElement>"}},align:{defaultValue:null,description:"",name:"align",required:!1,type:{name:"enum",value:[{value:'"center"'},{value:'"right"'},{value:'"left"'}]}},before:{defaultValue:null,description:"Добавляет иконку слева.\n\nРекомендации:\n\n- Используйте следующие размеры иконок `12` | `16` | `20` | `24` | `28`.\n- Используйте [IconButton](https://vkcom.github.io/VKUI/#/IconButton), если вам нужна кликабельная иконка.",name:"before",required:!1,type:{name:"ReactNode"}},status:{defaultValue:null,description:"",name:"status",required:!1,type:{name:"enum",value:[{value:'"default"'},{value:'"error"'},{value:'"valid"'}]}},after:{defaultValue:null,description:"Добавляет иконку справа.\n\nРекомендации:\n\n- Используйте следующие размеры иконок `12` | `16` | `20` | `24` | `28`.\n- Используйте [IconButton](https://vkcom.github.io/VKUI/#/IconButton), если вам нужна кликабельная иконка.",name:"after",required:!1,type:{name:"ReactNode"}},mode:{defaultValue:null,description:"",name:"mode",required:!1,type:{name:"enum",value:[{value:'"default"'},{value:'"plain"'}]}},autoHideScrollbar:{defaultValue:null,description:"Скрывать ли ползунок скроллбара",name:"autoHideScrollbar",required:!1,type:{name:"boolean"}},autoHideScrollbarDelay:{defaultValue:null,description:"Через какое кол-во миллисекунд ползунок скроллбара скрывается",name:"autoHideScrollbarDelay",required:!1,type:{name:"number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/CustomSelect/CustomSelect.tsx#CustomSelect"]={docgenInfo:et.__docgenInfo,name:"CustomSelect",path:"src/components/CustomSelect/CustomSelect.tsx#CustomSelect"})}catch(e){}},"./src/components/SelectTypography/SelectTypography.tsx":(e,t,n)=>{n.d(t,{S:()=>r});var o=n("../../node_modules/react/index.js"),l=n("./src/components/Typography/Text/Text.tsx"),r=function(e){var t=e.selectType,n=e.children,r=function(e,t){if(null==e)return{};var n,o,l=function(e,t){if(null==e)return{};var n,o,l={},r=Object.keys(e);for(o=0;o<r.length;o++)n=r[o],t.indexOf(n)>=0||(l[n]=e[n]);return l}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(o=0;o<r.length;o++)n=r[o],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}(e,["selectType","children"]);return o.createElement(l.x,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),o.forEach(function(t){!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(e,t,n[t])})}return e}({weight:"accent"===(void 0===t?"default":t)?"2":"3"},r),n)};try{r.displayName="SelectTypography",r.__docgenInfo={description:"",displayName:"SelectTypography",props:{selectType:{defaultValue:{value:"default"},description:"",name:"selectType",required:!1,type:{name:"enum",value:[{value:'"default"'},{value:'"accent"'},{value:'"plain"'}]}},getRootRef:{defaultValue:null,description:"",name:"getRootRef",required:!1,type:{name:"Ref<HTMLSpanElement>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/SelectTypography/SelectTypography.tsx#SelectTypography"]={docgenInfo:r.__docgenInfo,name:"SelectTypography",path:"src/components/SelectTypography/SelectTypography.tsx#SelectTypography"})}catch(e){}}}]);