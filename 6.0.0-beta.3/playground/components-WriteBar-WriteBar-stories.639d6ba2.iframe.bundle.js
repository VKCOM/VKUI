"use strict";(self.webpackChunk_vkontakte_vkui=self.webpackChunk_vkontakte_vkui||[]).push([[736],{"./src/components/WriteBar/WriteBar.stories.tsx":(e,t,r)=>{r.r(t),r.d(t,{Playground:()=>P,__namedExportsOrder:()=>I,default:()=>A});var n=r("../../node_modules/react/index.js"),o=r("../../node_modules/@vkontakte/icons/dist/es6/28/smile_outline_28.js"),i=r("./src/storybook/constants.ts"),a=r("./src/components/WriteBarIcon/WriteBarIcon.tsx"),l=r("../../node_modules/@vkontakte/vkjs/lib/es6/index.js"),s=r("./src/hooks/useEnsuredControl.ts"),u=r("./src/hooks/useExternRef.ts"),c=r("./src/hooks/usePlatform.ts"),d=r("./src/components/Typography/Headline/Headline.tsx"),f=r("./src/components/Typography/Title/Title.tsx"),m=r("../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),p=r.n(m),_=r("../../node_modules/style-loader/dist/runtime/singletonStyleDomAPI.js"),y=r.n(_),v=r("../../node_modules/style-loader/dist/runtime/insertBySelector.js"),g=r.n(v),b=r("../../node_modules/style-loader/dist/runtime/setAttributesWithAttributesAndNonce.js"),h=r.n(b),B=r("../../node_modules/style-loader/dist/runtime/insertStyleElement.js"),k=r.n(B),j=r("../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[15].use[1]!../../node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[15].use[2]!./src/components/WriteBar/WriteBar.module.css"),O={attributes:{class:"vkui-style"}};O.setAttributes=h(),O.insert=g().bind(null,"head"),O.domAPI=y(),O.insertStyleElement=k(),p()(j.Z,O);let W=j.Z&&j.Z.locals?j.Z.locals:void 0;function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function S(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){!function(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(e,t,r[t])})}return e}function w(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r})(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}),e}var T=function(e){return"ios"===(0,c.F)()?n.createElement(f.D,w(S({},e),{level:"3",weight:"3"})):n.createElement(d.s,e)},E=function(e){var t=e.className,r=e.style,o=e.before,i=e.inlineAfter,a=e.after,d=e.getRootRef,f=e.getRef,m=e.onHeightChange,p=e.shadow,_=e.defaultValue,y=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,["className","style","before","inlineAfter","after","getRootRef","getRef","onHeightChange","shadow","defaultValue"]),v=(0,c.F)(),g=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r,n,o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var i=[],a=!0,l=!1;try{for(o=o.call(e);!(a=(r=o.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){l=!0,n=e}finally{try{a||null==o.return||o.return()}finally{if(l)throw n}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return x(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return x(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,s.V)(S({defaultValue:_},y)),2),b=g[0],h=g[1],B=(0,u.Q)(f),k=n.useRef(),j=n.useCallback(function(){var e=B.current;e&&e.offsetParent&&(e.style.height="",e.style.height="".concat(e.scrollHeight,"px"),e.scrollHeight!==k.current&&m&&(m(),k.current=e.scrollHeight))},[m,B]);return n.useEffect(j,[j,b,v]),n.createElement("div",{ref:d,className:(0,l.AK)(W.WriteBar,"ios"===v&&W["WriteBar--ios"],void 0!==p&&p&&W["WriteBar--shadow"],t),style:r},n.createElement("div",{className:W.WriteBar__form},(0,l.p7)(o)&&n.createElement("div",{className:W.WriteBar__before},o),n.createElement("div",{className:W.WriteBar__formIn},n.createElement(T,w(S({},y),{Component:"textarea",className:W.WriteBar__textarea,onChange:h,getRootRef:B,value:b})),(0,l.p7)(i)&&n.createElement("div",{className:W.WriteBar__inlineAfter},i)),(0,l.p7)(a)&&n.createElement("div",{className:W.WriteBar__after},a)))};try{E.displayName="WriteBar",E.__docgenInfo={description:"",displayName:"WriteBar",props:{before:{defaultValue:null,description:"Содержимое, отображаемое слева от поля ввода.",name:"before",required:!1,type:{name:"ReactNode"}},inlineAfter:{defaultValue:null,description:"Содержимое, отображаемое поверх поля ввода (актуально для iOS)",name:"inlineAfter",required:!1,type:{name:"ReactNode"}},after:{defaultValue:null,description:"Содержимое, отображаемое справа от поля ввода",name:"after",required:!1,type:{name:"ReactNode"}},onHeightChange:{defaultValue:null,description:"Вызывается при смене высоты поля ввода",name:"onHeightChange",required:!1,type:{name:"VoidFunction"}},shadow:{defaultValue:{value:"false"},description:"Добавляет тень вокруг поля ввода",name:"shadow",required:!1,type:{name:"boolean"}},getRootRef:{defaultValue:null,description:"",name:"getRootRef",required:!1,type:{name:"Ref<HTMLDivElement>"}},getRef:{defaultValue:null,description:"",name:"getRef",required:!1,type:{name:"Ref<HTMLTextAreaElement>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/WriteBar/WriteBar.tsx#WriteBar"]={docgenInfo:E.__docgenInfo,name:"WriteBar",path:"src/components/WriteBar/WriteBar.tsx#WriteBar"})}catch(e){}let A={title:"Blocks/WriteBar",component:E,parameters:function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){!function(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(e,t,r[t])})}return e}({},i.tW,i.nB)};var P={args:{before:n.createElement(a.o,{count:10,mode:"attach"}),placeholder:"Сообщение",inlineAfter:n.createElement(a.o,{label:"Смайлы и стикеры"},n.createElement(o.y,null)),after:n.createElement(a.o,{mode:"send"})}};P.parameters={...P.parameters,docs:{...P.parameters?.docs,source:{originalSource:'{\n  args: {\n    before: <WriteBarIcon count={10} mode="attach" />,\n    placeholder: \'Сообщение\',\n    inlineAfter: <WriteBarIcon label="Смайлы и стикеры">\n        <Icon28SmileOutline />\n      </WriteBarIcon>,\n    after: <WriteBarIcon mode="send" />\n  }\n}',...P.parameters?.docs?.source}}};let I=["Playground"]},"../../node_modules/@vkontakte/icons/dist/es6/28/smile_outline_28.js":(e,t,r)=>{r.d(t,{y:()=>n});var n=(0,r("../../node_modules/@vkontakte/icons-sprite/dist/index.js").De)("Icon28SmileOutline","smile_outline_28","0 0 28 28",'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" id="smile_outline_28"><g fill="none" fill-rule="evenodd"><path d="M0 0h28v28H0z" /><path fill="currentColor" fill-rule="nonzero" d="M14 26C7.373 26 2 20.627 2 14S7.373 2 14 2s12 5.373 12 12-5.373 12-12 12m0-2c5.523 0 10-4.477 10-10S19.523 4 14 4 4 8.477 4 14s4.477 10 10 10m-4.388-5.909a1 1 0 1 1 1.463-1.364 4 4 0 0 0 5.85.001 1 1 0 1 1 1.46 1.367 6 6 0 0 1-8.774-.003m7.763-4.841a1.625 1.625 0 1 1 0-3.25 1.625 1.625 0 0 1 0 3.25m-6.75 0a1.625 1.625 0 1 1 0-3.25 1.625 1.625 0 0 1 0 3.25" /></g></symbol>',28,28,!1,void 0)},"../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[15].use[1]!../../node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[15].use[2]!./src/components/Typography/Title/Title.module.css":(e,t,r)=>{r.d(t,{Z:()=>l});var n=r("../../node_modules/css-loader/dist/runtime/noSourceMaps.js"),o=r.n(n),i=r("../../node_modules/css-loader/dist/runtime/api.js"),a=r.n(i)()(o());a.push([e.id,".Title--level-1--TJIWX{font-family:var(--vkui--font_title1--font_family--regular);font-size:var(--vkui--font_title1--font_size--regular);font-weight:var(--vkui--font_title1--font_weight--regular);line-height:var(--vkui--font_title1--line_height--regular)}.Title--level-2--btQdj{font-family:var(--vkui--font_title2--font_family--regular);font-size:var(--vkui--font_title2--font_size--regular);font-weight:var(--vkui--font_title2--font_weight--regular);line-height:var(--vkui--font_title2--line_height--regular)}.Title--level-3--eS9fO{font-family:var(--vkui--font_title3--font_family--regular);font-size:var(--vkui--font_title3--font_size--regular);font-weight:var(--vkui--font_title3--font_weight--regular);line-height:var(--vkui--font_title3--line_height--regular)}",""]),a.locals={"Title--level-1":"Title--level-1--TJIWX","Title--level-2":"Title--level-2--btQdj","Title--level-3":"Title--level-3--eS9fO"};let l=a},"../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[15].use[1]!../../node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[15].use[2]!./src/components/WriteBar/WriteBar.module.css":(e,t,r)=>{r.d(t,{Z:()=>l});var n=r("../../node_modules/css-loader/dist/runtime/noSourceMaps.js"),o=r.n(n),i=r("../../node_modules/css-loader/dist/runtime/api.js"),a=r.n(i)()(o());a.push([e.id,".WriteBar--o3l54{background:var(--vkui--color_background_modal)}.WriteBar--shadow--akB3T{box-shadow:var(--vkui--elevation3)}.WriteBar__after--jPQ_3,.WriteBar__before--EFDkE,.WriteBar__form--ZkA1I{align-items:flex-end;display:flex}.WriteBar__form--ZkA1I{min-height:52px}.WriteBar__formIn--LskL6{display:flex;flex:1;min-width:0;position:relative}.WriteBar__textarea--mzBRP{-webkit-appearance:none;background:transparent;border:0;box-sizing:border-box;color:var(--vkui--color_text_primary);flex:1;margin:0;max-height:120px;min-width:0;resize:none;width:100%}.WriteBar__textarea--mzBRP::-ms-input-placeholder{color:var(--vkui--color_text_subhead);opacity:1}.WriteBar__textarea--mzBRP::placeholder{color:var(--vkui--color_text_subhead);opacity:1}.WriteBar__textarea--mzBRP:focus{outline:var(--vkui_internal--outline-reset)}.WriteBar__inlineAfter--T2faP{align-items:flex-end;display:flex}.WriteBar__before--EFDkE{padding-left:4px}.WriteBar__after--jPQ_3{padding-right:4px}.WriteBar__textarea--mzBRP{height:52px;padding:16px 12px}.WriteBar--ios--UGK2t{background:var(--vkui--color_background_content)}.WriteBar--ios--UGK2t .WriteBar__after--jPQ_3,.WriteBar--ios--UGK2t .WriteBar__before--EFDkE{padding:0 4px}.WriteBar--ios--UGK2t .WriteBar__formIn--LskL6{background-color:var(--vkui--color_write_bar_input_background);border:var(--vkui--size_border--regular) solid var(--vkui--color_write_bar_input_border);border-radius:18px;box-sizing:border-box;margin:8px 0}.WriteBar--ios--UGK2t .WriteBar__formIn--LskL6:first-child{margin-left:12px}.WriteBar--ios--UGK2t .WriteBar__inlineAfter--T2faP{--vkui_internal--writebar-right-gap:calc(-1 * var(--vkui--size_border--regular));--vkui_internal--writebar-vertical-gap:calc(var(--vkui_internal--writebar-right-gap) - 8px);margin-bottom:var(--vkui_internal--writebar-vertical-gap);margin-right:var(--vkui_internal--writebar-right-gap);margin-top:var(--vkui_internal--writebar-vertical-gap)}.WriteBar--ios--UGK2t .WriteBar__textarea--mzBRP{height:36px;padding:6px 0 6px 12px}",""]),a.locals={WriteBar:"WriteBar--o3l54","WriteBar--shadow":"WriteBar--shadow--akB3T",WriteBar__after:"WriteBar__after--jPQ_3",WriteBar__before:"WriteBar__before--EFDkE",WriteBar__form:"WriteBar__form--ZkA1I",WriteBar__formIn:"WriteBar__formIn--LskL6",WriteBar__textarea:"WriteBar__textarea--mzBRP",WriteBar__inlineAfter:"WriteBar__inlineAfter--T2faP","WriteBar--ios":"WriteBar--ios--UGK2t"};let l=a},"./src/components/Typography/Title/Title.tsx":(e,t,r)=>{r.d(t,{D:()=>h});var n=r("../../node_modules/react/index.js"),o=r("../../node_modules/@vkontakte/vkjs/lib/es6/index.js"),i=r("./src/components/Typography/Typography.tsx"),a=r("../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),l=r.n(a),s=r("../../node_modules/style-loader/dist/runtime/singletonStyleDomAPI.js"),u=r.n(s),c=r("../../node_modules/style-loader/dist/runtime/insertBySelector.js"),d=r.n(c),f=r("../../node_modules/style-loader/dist/runtime/setAttributesWithAttributesAndNonce.js"),m=r.n(f),p=r("../../node_modules/style-loader/dist/runtime/insertStyleElement.js"),_=r.n(p),y=r("../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[15].use[1]!../../node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[15].use[2]!./src/components/Typography/Title/Title.module.css"),v={attributes:{class:"vkui-style"}};v.setAttributes=m(),v.insert=d().bind(null,"head"),v.domAPI=u(),v.insertStyleElement=_(),l()(y.Z,v);let g=y.Z&&y.Z.locals?y.Z.locals:void 0;var b={1:g["Title--level-1"],2:g["Title--level-2"],3:g["Title--level-3"]},h=function(e){var t=e.className,r=e.level,a=e.Component,l=e.normalize,s=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,["className","level","Component","normalize"]);return n.createElement(i.Z,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){!function(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(e,t,r[t])})}return e}({Component:void 0===a?"span":a,normalize:void 0===l||l,className:(0,o.AK)(t,b[void 0===r?"1":r])},s))};try{h.displayName="Title",h.__docgenInfo={description:"Используется для заголовков.",displayName:"Title",props:{level:{defaultValue:{value:"1"},description:"",name:"level",required:!1,type:{name:"enum",value:[{value:'"1"'},{value:'"2"'},{value:'"3"'}]}},weight:{defaultValue:null,description:"Задаёт начертание шрифта, отличное от стандартного.",name:"weight",required:!1,type:{name:"enum",value:[{value:'"1"'},{value:'"2"'},{value:'"3"'}]}},normalize:{defaultValue:{value:"true"},description:"Убирает внешние отступы",name:"normalize",required:!1,type:{name:"boolean"}},Component:{defaultValue:{value:"span"},description:"",name:"Component",required:!1,type:{name:"ElementType<any, keyof IntrinsicElements>"}},getRootRef:{defaultValue:null,description:"",name:"getRootRef",required:!1,type:{name:"Ref<HTMLElement>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Typography/Title/Title.tsx#Title"]={docgenInfo:h.__docgenInfo,name:"Title",path:"src/components/Typography/Title/Title.tsx#Title"})}catch(e){}},"./src/hooks/useEnsuredControl.ts":(e,t,r)=>{r.d(t,{V:()=>s,q:()=>u});var n=r("../../node_modules/react/index.js"),o=r("../../node_modules/@vkontakte/vkjs/lib/es6/index.js"),i=r("./src/lib/useIsomorphicLayoutEffect.ts");function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r,n,o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var i=[],a=!0,l=!1;try{for(o=o.call(e);!(a=(r=o.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){l=!0,n=e}finally{try{a||null==o.return||o.return()}finally{if(l)throw n}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return a(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return a(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e){var t=e.onChange,r=e.disabled,o=l(u(function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,["onChange","disabled"])),2),i=o[0],a=o[1];return[i,n.useCallback(function(e){!r&&(a(e.target.value),t&&t(e))},[a,t,r])]}function u(e){var t=e.value,r=e.defaultValue,a=e.disabled,s=e.onChange,u=void 0!==t,c=l(n.useState(r),2),d=c[0],f=c[1],m=n.useRef();(0,i.L)(function(){m.current=t});var p=n.useCallback(function(e){!a&&((0,o.mf)(e)?u?s&&s(e(m.current)):f(function(t){var r=e(t);return s&&s(r),r}):(s&&s(e),u||f(e)))},[a,u,s]);return[u?t:d,p]}}}]);