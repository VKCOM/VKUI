"use strict";(self.webpackChunk_vkontakte_vkui=self.webpackChunk_vkontakte_vkui||[]).push([[4395],{"../../node_modules/@vkontakte/icons-sprite/dist/index.js":function(e,t,r){r.d(t,{De:function(){return b}});var n,o=r("../../node_modules/@swc/helpers/esm/_object_spread.js");function l(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r})(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}),e}var i=r("../../node_modules/react/index.js"),a=r("../../node_modules/@swc/helpers/esm/_class_call_check.js"),s=r("../../node_modules/@swc/helpers/esm/_create_class.js"),u=r("../../node_modules/@swc/helpers/esm/_define_property.js"),c=function(){function e(t){var r=t.content;(0,a._)(this,e),(0,u._)(this,"isMounted",!1),(0,u._)(this,"node",void 0),this.node=function(e){var t=!!document.importNode,r=new DOMParser().parseFromString(e,"image/svg+xml").documentElement;return t?document.importNode(r,!0):r}(r)}return(0,s._)(e,[{key:"id",get:function(){return this.node.id}},{key:"mount",value:function(e){return this.isMounted||(this.isMounted=!0,e.appendChild(this.node)),this.node}},{key:"unmount",value:function(){this.node&&this.node.parentNode&&(this.node.parentNode.removeChild(this.node),this.isMounted=!1)}}],[{key:"createFromExistingNode",value:function(t){var r=new e({content:""});return r.node=t,r}}]),e}(),d="http://www.w3.org/2000/svg",f=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,a._)(this,e),(0,u._)(this,"symbols",new Map),(0,u._)(this,"config",{attrs:{xmlns:d,"xmlns:xlink":"http://www.w3.org/1999/xlink",style:"position:absolute;width:0;height:0","aria-hidden":"true"}}),(0,u._)(this,"node",null),Object.assign(this.config.attrs,t.attrs)}return(0,s._)(e,[{key:"push",value:function(e){var t=this.symbols,r=t.has(e.id);return t.set(e.id,e),!r}},{key:"add",value:function(e){var t=this.push(e);return this.node&&t&&e.mount(this.node),t}},{key:"attach",value:function(e){var t=this;this.node||(this.node=e,this.symbols.forEach(function(t){t.mount(e)}),e.querySelectorAll("symbol").forEach(function(e){var r=c.createFromExistingNode(e);t.add(r)}))}},{key:"mount",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.node||(this.node=this.render(),t&&e.childNodes[0]?e.insertBefore(this.node,e.firstChild):e.appendChild(this.node)),this.node}},{key:"render",value:function(){var e=document.createElementNS(d,"svg");return Object.entries(this.config.attrs).forEach(function(t){return e.setAttribute(t[0],t[1])}),this.symbols.forEach(function(t){return e.appendChild(t.node)}),e}},{key:"unmount",value:function(){this.node&&this.node.parentNode&&this.node.parentNode.removeChild(this.node)}}]),e}(),m=!!("undefined"!=typeof window&&window.document&&window.document.createElement);if(m){var p="__SVG_SPRITE_NODE__";n=new f({attrs:{id:p}});var y=function(){var e=document.getElementById(p);e?n.attach(e):n.mount(document.body),document.removeEventListener("DOMContentLoaded",y)};document.querySelector("body")?y():document.addEventListener("DOMContentLoaded",y)}else n=null;var v=m?i.useLayoutEffect:i.useEffect,h=function(e){var t=e.width,r=void 0===t?0:t,n=e.height,a=void 0===n?0:n,s=e.viewBox,u=e.id,c=e.className,d=e.fill,f=e.getRootRef,m=e.style,p=e.title,y=e.children,v=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},l=Object.keys(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)r=l[n],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,["width","height","viewBox","id","className","fill","getRootRef","style","title","children"]),h=(0,o._)({width:r,height:a},void 0===m?{}:m);return i.createElement("svg",l((0,o._)({"aria-hidden":"true",display:"block"},v),{className:["vkuiIcon","vkuiIcon--".concat(Math.max(r,a)),"vkuiIcon--w-".concat(r),"vkuiIcon--h-".concat(a),"vkuiIcon--".concat(u),void 0===c?"":c].join(" ").trim(),viewBox:s,width:r,height:a,style:h,ref:f}),p&&i.createElement("title",null,p),i.createElement("use",{xlinkHref:"#".concat(u),style:{fill:"currentColor",color:d}},y))};function b(e,t,r,a,s,u,d,f){var m=function(){p||(!function(e){n&&n.add(e)}(new c({content:a})),p=!0)},p=!1,y=function(e){var t={};return function(r){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"warn";t[r]||(console[n]("[@vkontakte/icons][".concat(e,"] ").concat(r)),t[r]=!0)}}(e),b=function(e){return v(m,[]),d&&y("Иконка устарела"+(f?". Замените на ".concat(f):"")),i.createElement(h,l((0,o._)({},e),{viewBox:r,id:t,width:void 0===e.width||isNaN(e.width)?s:+e.width,height:void 0===e.height||isNaN(e.height)?u:+e.height}))};return b.mountIcon=m,b.displayName=e,b}},"../../node_modules/@vkontakte/icons/dist/es6/16/chevron_16.js":function(e,t,r){r.d(t,{r:function(){return n}});var n=(0,r("../../node_modules/@vkontakte/icons-sprite/dist/index.js").De)("Icon16Chevron","chevron_16","0 0 12 16",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 12 16" id="chevron_16"><path fill="currentColor" d="M7.227 8 3.864 4.636a.9.9 0 0 1 1.272-1.272l4 4a.9.9 0 0 1 0 1.272l-4 4a.9.9 0 0 1-1.272-1.272L7.227 8Z" /></symbol>',12,16,!1,void 0)},"../../node_modules/@vkontakte/icons/dist/es6/24/chevron_24.js":function(e,t,r){r.d(t,{P:function(){return n}});var n=(0,r("../../node_modules/@vkontakte/icons-sprite/dist/index.js").De)("Icon24Chevron","chevron_24","0 0 16 24",'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 24" id="chevron_24"><g fill="none" fill-rule="evenodd"><path d="M0 0h16v24H0z" /><path fill="currentColor" d="M4.706 7.706a1 1 0 0 1 0-1.412l.088-.088a.997.997 0 0 1 1.414.002l5.084 5.084a.998.998 0 0 1 0 1.416l-5.084 5.084a1.002 1.002 0 0 1-1.414.002l-.088-.088a.995.995 0 0 1 0-1.412L9 12 4.706 7.706Z" /></g></symbol>',16,24,!1,void 0)},"../../node_modules/@vkontakte/icons/dist/es6/24/chevron_compact_left_24.js":function(e,t,r){r.d(t,{z:function(){return n}});var n=(0,r("../../node_modules/@vkontakte/icons-sprite/dist/index.js").De)("Icon24ChevronCompactLeft","chevron_compact_left_24","0 0 16 24",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 24" id="chevron_compact_left_24"><path fill="currentColor" d="M11.293 7.706a1 1 0 0 0 0-1.412l-.088-.088a.997.997 0 0 0-1.414.002l-5.084 5.084a.998.998 0 0 0 0 1.416l5.084 5.084c.39.391 1.026.39 1.414.002l.088-.088a.995.995 0 0 0 0-1.412L7 12z" /></symbol>',16,24,!1,void 0)},"../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[13].use[1]!../../node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[13].use[2]!./src/components/BaseGallery/BaseGallery.module.css":function(e,t,r){var n=r("../../node_modules/css-loader/dist/runtime/noSourceMaps.js"),o=r.n(n),l=r("../../node_modules/css-loader/dist/runtime/api.js"),i=r.n(l)()(o());i.push([e.id,".BaseGallery--aehDU{overflow:hidden;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.BaseGallery__viewport--I1eNk{height:100%;margin:0;position:relative}.BaseGallery--align-center--JQQn4 .BaseGallery__viewport--I1eNk{margin:0 auto}.BaseGallery__layer--nJ0KW{align-items:stretch;display:flex;height:100%;min-height:100px;width:100%}.BaseGallery--draggable--J_egI .BaseGallery__layer--nJ0KW{cursor:-webkit-grab;cursor:grab}.BaseGallery__layer--nJ0KW:empty{min-height:0}.BaseGallery__slide--N5num{flex:0 0 auto;max-width:100%;overflow:hidden;width:100%}.BaseGallery--custom-width--Cet7r .BaseGallery__slide--N5num{width:auto}.BaseGallery__slide--N5num>*{min-height:100%;width:100%}.BaseGallery__bullets--acbMd{align-items:center;bottom:10px;display:flex;height:6px;justify-content:center;left:0;position:absolute;width:100%}.BaseGallery__bullets--dark--T_Veu .BaseGallery__bullet--YYi6w{background-color:#2c2d2e;background-color:var(--vkui--color_icon_primary_invariably)}.BaseGallery__bullets--light--wkxQq .BaseGallery__bullet--YYi6w{background-color:#fff;background-color:var(--vkui--color_icon_contrast)}.BaseGallery__bullet--YYi6w{border-radius:50%;height:6px;margin:0 3px;opacity:.64;opacity:var(--vkui--opacity_disable_accessibility);width:6px}.BaseGallery__bullet--active--WpJY6{opacity:1}.BaseGallery__arrow--Z8JoJ{opacity:0;position:absolute;top:0}.BaseGallery--aehDU:hover .BaseGallery__arrow--Z8JoJ{opacity:.64;opacity:var(--vkui--opacity_disable_accessibility)}.BaseGallery--aehDU .BaseGallery__arrow--Z8JoJ:hover{opacity:1}",""]),i.locals={BaseGallery:"BaseGallery--aehDU",BaseGallery__viewport:"BaseGallery__viewport--I1eNk","BaseGallery--align-center":"BaseGallery--align-center--JQQn4",BaseGallery__layer:"BaseGallery__layer--nJ0KW","BaseGallery--draggable":"BaseGallery--draggable--J_egI",BaseGallery__slide:"BaseGallery__slide--N5num","BaseGallery--custom-width":"BaseGallery--custom-width--Cet7r",BaseGallery__bullets:"BaseGallery__bullets--acbMd","BaseGallery__bullets--dark":"BaseGallery__bullets--dark--T_Veu",BaseGallery__bullet:"BaseGallery__bullet--YYi6w","BaseGallery__bullets--light":"BaseGallery__bullets--light--wkxQq","BaseGallery__bullet--active":"BaseGallery__bullet--active--WpJY6",BaseGallery__arrow:"BaseGallery__arrow--Z8JoJ"},t.Z=i},"../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[13].use[1]!../../node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[13].use[2]!./src/components/ScrollArrow/ScrollArrow.module.css":function(e,t,r){var n=r("../../node_modules/css-loader/dist/runtime/noSourceMaps.js"),o=r.n(n),l=r("../../node_modules/css-loader/dist/runtime/api.js"),i=r.n(l)()(o());i.push([e.id,".ScrollArrow--JgxNW{background-color:initial;border:0;cursor:pointer;flex-direction:column;height:100%;padding:0;transition:opacity .15s;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-timing-function:var(--vkui--animation_easing_platform);-webkit-user-select:auto;-moz-user-select:auto;-ms-user-select:auto;user-select:auto}.ScrollArrow--JgxNW,.ScrollArrow__icon--gJpr6{display:flex;justify-content:center}.ScrollArrow__icon--gJpr6{align-items:center;background-color:#fff;background-color:var(--vkui--color_background_modal);box-shadow:0 0 2px rgba(0,0,0,.08),0 4px 16px rgba(0,0,0,.08);box-shadow:var(--vkui--elevation3);color:#99a2ad;color:var(--vkui--color_icon_secondary);position:relative}.ScrollArrow--size-m--c7dtS .ScrollArrow__icon--gJpr6{border-radius:14px;height:28px;width:28px}.ScrollArrow--size-l--f8Hpn .ScrollArrow__icon--gJpr6{border-radius:24px;height:40px;width:40px}.ScrollArrow--direction-left--jS38A{left:0;padding-left:16px;padding-left:var(--vkui--size_base_padding_horizontal--regular,16px)}.ScrollArrow--direction-right--UIq4o{padding-right:16px;padding-right:var(--vkui--size_base_padding_horizontal--regular,16px);right:0}",""]),i.locals={ScrollArrow:"ScrollArrow--JgxNW",ScrollArrow__icon:"ScrollArrow__icon--gJpr6","ScrollArrow--size-m":"ScrollArrow--size-m--c7dtS","ScrollArrow--size-l":"ScrollArrow--size-l--f8Hpn","ScrollArrow--direction-left":"ScrollArrow--direction-left--jS38A","ScrollArrow--direction-right":"ScrollArrow--direction-right--UIq4o"},t.Z=i},"./src/components/Gallery/Gallery.stories.tsx":function(e,t,r){r.r(t),r.d(t,{Playground:function(){return K},default:function(){return Y}});var n,o,l,i=r("../../node_modules/react/jsx-runtime.js"),a=r("../../node_modules/react/index.js"),s=r("./src/storybook/constants.ts"),u=r("./src/helpers/math.ts"),c=r("./src/hooks/useTimeout.ts"),d=r("../../node_modules/@vkontakte/vkjs/lib/es6/index.js"),f=r("./src/hooks/useAdaptivityHasPointer.ts"),m=r("./src/hooks/useExternRef.ts"),p=r("./src/hooks/useGlobalEventListener.ts"),y=r("./src/lib/dom.tsx"),v=r("./src/lib/useIsomorphicLayoutEffect.ts"),h=r("./src/components/RootComponent/RootComponent.tsx"),b=r("./src/components/ScrollArrow/ScrollArrow.tsx"),g=r("./src/components/Touch/Touch.tsx"),_=function(e){var t=e.containerWidth,r=void 0===t?0:t,n=e.layerWidth,o=void 0===n?0:n,l=e.slides,i=void 0===l?[]:l,a=e.viewportOffsetWidth,s=void 0===a?0:a,u=e.align,c=e.isCenterWithCustomWidth;switch(u){case"left":return r-o;case"right":return s-o;case"center":if(!c||!i.length)return s-(r-s)/2-o;var d=i[i.length-1];return s/2-d.coordX-d.width/2}},w=function(e){var t=e.slides,r=void 0===t?[]:t,n=e.viewportOffsetWidth;if(e.isCenterWithCustomWidth&&r.length){var o=r[0],l=o.width;return(void 0===n?0:n)/2-o.coordX-l/2}return 0},j=r("../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),O=r.n(j),S=r("../../node_modules/style-loader/dist/runtime/singletonStyleDomAPI.js"),k=r.n(S),x=r("../../node_modules/style-loader/dist/runtime/insertBySelector.js"),A=r.n(x),B=r("../../node_modules/style-loader/dist/runtime/setAttributesWithAttributesAndNonce.js"),G=r.n(B),C=r("../../node_modules/style-loader/dist/runtime/insertStyleElement.js"),P=r.n(C),E=r("../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[13].use[1]!../../node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[13].use[2]!./src/components/BaseGallery/BaseGallery.module.css"),D={attributes:{class:"vkui-style"}};D.setAttributes=G(),D.insert=A().bind(null,"head"),D.domAPI=k(),D.insertStyleElement=P(),O()(E.Z,D);var I=E.Z&&E.Z.locals?E.Z.locals:void 0;function R(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function N(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){!function(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(e,t,r[t])})}return e}function W(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r})(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}),e}var V={containerWidth:0,viewportOffsetWidth:0,layerWidth:0,min:0,max:0,slides:[],isFullyVisible:!0},q={animation:void 0,shiftX:0,dragging:!1,deltaX:0,indent:0},X={dark:I["BaseGallery__bullets--dark"],light:I["BaseGallery__bullets--light"]},z=function(e){var t,r=e.bullets,n=void 0!==r&&r,o=e.getRootRef,l=e.children,s=e.slideWidth,u=void 0===s?"100%":s,c=e.slideIndex,j=void 0===c?0:c,O=e.isDraggable,S=void 0===O||O,k=e.onDragStart,x=e.onDragEnd,A=e.onChange,B=e.onPrevClick,G=e.onNextClick,C=e.align,P=void 0===C?"left":C,E=e.showArrows,D=e.getRef,z=e.arrowSize,M=void 0===z?"l":z,T=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},l=Object.keys(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)r=l[n],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,["bullets","getRootRef","children","slideWidth","slideIndex","isDraggable","onDragStart","onDragEnd","onChange","onPrevClick","onNextClick","align","showArrows","getRef","arrowSize"]),J=a.useRef({}),L=a.useRef(V),Y=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r,n,o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var l=[],i=!0,a=!1;try{for(o=o.call(e);!(i=(r=o.next()).done)&&(l.push(r.value),!t||l.length!==t);i=!0);}catch(e){a=!0,n=e}finally{try{i||null==o.return||o.return()}finally{if(a)throw n}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return R(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return R(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(a.useState(q),2),K=Y[0],Z=Y[1],H=(0,m.Q)(o),Q=(0,m.Q)(D),F=(0,y.NG)().window,U=(0,f.K)(),$="custom"===u&&"center"===P,ee=function(e){var t,r,n=null!==(t=L.current.max)&&void 0!==t?t:0,o=null!==(r=L.current.min)&&void 0!==r?r:0;return e<o?o:e>n?n:e},et=function(e){if(L.current.isFullyVisible)return 0;var t=(null===(r=L.current.slides)||void 0===r?void 0:r.length)?L.current.slides[e]:null;if(t){var r,n,o=t.coordX,l=t.width;return $?(null!==(n=L.current.viewportOffsetWidth)&&void 0!==n?n:0)/2-o-l/2:ee(-1*o)}return 0},er=function(){var e,t,r=null!==(e=L.current.max)&&void 0!==e?e:0,n=null!==(t=L.current.min)&&void 0!==t?t:0,o=K.shiftX+K.deltaX;return o>r?r+Number((o-r)/3):o<n?n+Number((o-n)/3):o},en=function(){var e,t,r,n,o,i,s,u,c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},d=null!==(o=a.Children.map(l,function(e,t){var r,n,o=J.current["slide-".concat(t)];return{coordX:null!==(r=null==o?void 0:o.offsetLeft)&&void 0!==r?r:0,width:null!==(n=null==o?void 0:o.offsetWidth)&&void 0!==n?n:0}}))&&void 0!==o?o:[],f=null!==(i=null===(e=H.current)||void 0===e?void 0:e.offsetWidth)&&void 0!==i?i:0,m=null!==(s=null===(t=Q.current)||void 0===t?void 0:t.offsetWidth)&&void 0!==s?s:0,p=d.reduce(function(e,t){return t.width+e},0),y=d.length<=L.current.slides.length||(null===(r=L.current.slides[j])||void 0===r?void 0:r.coordX)!==(null===(n=d[j])||void 0===n?void 0:n.coordX);L.current={containerWidth:f,viewportOffsetWidth:m,layerWidth:p,max:w({slides:d,viewportOffsetWidth:m,isCenterWithCustomWidth:$}),min:_({containerWidth:f,layerWidth:p,slides:d,viewportOffsetWidth:m,isCenterWithCustomWidth:$,align:P}),slides:d,isFullyVisible:p<=f},Z(function(e){return W(N({},e),{shiftX:y?et(j):e.shiftX,animation:null!==(u=c.animation)&&void 0!==u?u:e.shiftX===ee(e.shiftX)})})};(0,p.J)(F,"resize",function(){void 0!==K.animation&&en({animation:!1})}),(0,v.L)(function(){en({animation:!1})},[l,P,u]),(0,v.L)(function(){void 0!==K.animation&&Z(function(e){return W(N({},e),{animation:!0,deltaX:0,shiftX:et(null!=j?j:0)})})},[j]);var eo=function(e){var t,r=K.deltaX/e.duration*144,n=K.shiftX+K.deltaX+r-(null!==(t=L.current.max)&&void 0!==t?t:0),o=K.deltaX<0?1:-1,l=L.current.slides.reduce(function(e,t,r){return Math.abs(L.current.slides[e].coordX+n)<Math.abs(t.coordX+n)?e:r},j);if(l===j){var i=j+o;i>=0&&i<L.current.slides.length&&Math.abs(K.deltaX)>.05*L.current.slides[i].width&&(l=i)}return l},el=K.dragging?er():K.shiftX,ei={WebkitTransform:"translateX(".concat(el,"px)"),transform:"translateX(".concat(el,"px)"),WebkitTransition:K.animation?"-webkit-transform ".concat(.24,"s cubic-bezier(.1, 0, .25, 1)"):"none",transition:K.animation?"transform ".concat(.24,"s cubic-bezier(.1, 0, .25, 1)"):"none"},ea=function(e,t){J.current["slide-".concat(t)]=e},es=!L.current.isFullyVisible&&K.shiftX<0,eu=!L.current.isFullyVisible&&("left"===P&&L.current.containerWidth-K.shiftX<(null!==(t=L.current.layerWidth)&&void 0!==t?t:0)||"left"!==P&&j<L.current.slides.length-1),ec=S&&!L.current.isFullyVisible;return(0,i.jsxs)(h.U,W(N({},T),{baseClassName:(0,d.AK)(I.BaseGallery,"center"===P&&I["BaseGallery--align-center"],"custom"===u&&I["BaseGallery--custom-width"],ec&&I["BaseGallery--draggable"]),getRootRef:H,children:[(0,i.jsx)(g.X,{className:I.BaseGallery__viewport,onStartX:function(e){null==k||k(e),Z(function(e){return W(N({},e),{animation:!1})})},onMoveX:function(e){S&&!L.current.isFullyVisible&&(e.originalEvent.preventDefault(),e.isSlideX&&K.deltaX!==e.shiftX&&Z(function(t){return W(N({},t),{deltaX:e.shiftX,dragging:e.isSlideX})}))},onEnd:function(e){var t=e.isSlide?eo(e):null!=j?j:0;null==x||x(e,t);var r={animation:!0,dragging:!1,deltaX:0},n=er();t!==j&&(r.shiftX=n),Z(function(e){return N({},e,r)}),t!==j&&(null==A||A(t))},style:{width:"custom"===u?"100%":u},getRootRef:Q,noSlideClick:!0,children:(0,i.jsx)("div",{className:I.BaseGallery__layer,style:ei,children:a.Children.map(l,function(e,t){return(0,i.jsx)("div",{className:I.BaseGallery__slide,ref:function(e){return ea(e,t)},children:e},"slide-".concat(t))})})}),n&&(0,i.jsx)("div",{"aria-hidden":!0,className:(0,d.AK)(I.BaseGallery__bullets,X[n]),children:a.Children.map(l,function(e,t){return(0,i.jsx)("div",{className:(0,d.AK)(I.BaseGallery__bullet,t===j&&I["BaseGallery__bullet--active"])},t)})}),E&&U&&es&&(0,i.jsx)(b.Q,{className:I.BaseGallery__arrow,direction:"left",onClick:function(e){null==A||A(j-1),null==B||B(e)},size:M}),E&&U&&eu&&(0,i.jsx)(b.Q,{className:I.BaseGallery__arrow,direction:"right",onClick:function(e){null==A||A(j+1),null==G||G(e)},size:M})]}))};try{z.displayName="BaseGallery",z.__docgenInfo={description:"",displayName:"BaseGallery",props:{slideWidth:{defaultValue:{value:"100%"},description:"",name:"slideWidth",required:!1,type:{name:"string | number"}},slideIndex:{defaultValue:{value:"0"},description:"",name:"slideIndex",required:!1,type:{name:"number"}},onDragStart:{defaultValue:null,description:"",name:"onDragStart",required:!1,type:{name:"TouchEventHandler"}},onDragEnd:{defaultValue:null,description:"",name:"onDragEnd",required:!1,type:{name:"((e: TouchEvent, targetIndex: number) => void)"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"((current: number) => void)"}},onPrevClick:{defaultValue:null,description:"Будет вызвано при клике на кнопку-стрелку влево",name:"onPrevClick",required:!1,type:{name:"((event: MouseEvent<Element, MouseEvent>) => void)"}},onNextClick:{defaultValue:null,description:"Будет вызвано при клике на кнопку-стрелку вправо",name:"onNextClick",required:!1,type:{name:"((event: MouseEvent<Element, MouseEvent>) => void)"}},bullets:{defaultValue:{value:"false"},description:"",name:"bullets",required:!1,type:{name:'false | "dark" | "light"'}},isDraggable:{defaultValue:null,description:"",name:"isDraggable",required:!1,type:{name:"boolean"}},showArrows:{defaultValue:null,description:"",name:"showArrows",required:!1,type:{name:"boolean"}},hasPointer:{defaultValue:null,description:"",name:"hasPointer",required:!1,type:{name:"boolean"}},arrowSize:{defaultValue:{value:"l"},description:"",name:"arrowSize",required:!1,type:{name:"enum",value:[{value:'"m"'},{value:'"l"'}]}},getRootRef:{defaultValue:null,description:"",name:"getRootRef",required:!1,type:{name:"Ref<HTMLDivElement>"}},align:{defaultValue:{value:"left"},description:"",name:"align",required:!1,type:{name:"enum",value:[{value:'"center"'},{value:'"left"'},{value:'"right"'}]}},getRef:{defaultValue:null,description:"",name:"getRef",required:!1,type:{name:"Ref<HTMLElement>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/BaseGallery/BaseGallery.tsx#BaseGallery"]={docgenInfo:z.__docgenInfo,name:"BaseGallery",path:"src/components/BaseGallery/BaseGallery.tsx#BaseGallery"})}catch(e){}function M(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var T=function(e){var t,r=e.initialSlideIndex,n=e.children,o=e.timeout,l=void 0===o?0:o,s=e.onChange,d=e.bullets,f=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},l=Object.keys(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)r=l[n],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,["initialSlideIndex","children","timeout","onChange","bullets"]),m=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r,n,o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var l=[],i=!0,a=!1;try{for(o=o.call(e);!(i=(r=o.next()).done)&&(l.push(r.value),!t||l.length!==t);i=!0);}catch(e){a=!0,n=e}finally{try{i||null==o.return||o.return()}finally{if(a)throw n}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return M(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return M(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(a.useState(void 0===r?0:r),2),p=m[0],y=m[1],v="number"==typeof f.slideIndex,h=v?null!==(t=f.slideIndex)&&void 0!==t?t:0:p,b=!v||!!s,g=a.useMemo(function(){return a.Children.toArray(n).filter(function(e){return!!e})},[n]),_=g.length,w=a.useCallback(function(e){e!==h&&(v||y(e),s&&s(e))},[v,s,h]),j=(0,c.K)(function(){return w((h+1)%_)},l);a.useEffect(function(){return l?j.set():j.clear()},[l,h,j]);var O=_>0?(0,u.uZ)(h,0,_-1):h;return a.useEffect(function(){s&&O!==h&&s(O),y(O)},[s,O,h]),(0,i.jsx)(z,function(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r})(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}),e}(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){!function(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(e,t,r[t])})}return e}({isDraggable:b},f),{bullets:_>0&&d,slideIndex:O,onChange:w,children:g}))};try{T.displayName="Gallery",T.__docgenInfo={description:"",displayName:"Gallery",props:{initialSlideIndex:{defaultValue:{value:"0"},description:"",name:"initialSlideIndex",required:!1,type:{name:"number"}},timeout:{defaultValue:{value:"0"},description:"",name:"timeout",required:!1,type:{name:"number"}},slideWidth:{defaultValue:null,description:"",name:"slideWidth",required:!1,type:{name:"string | number"}},slideIndex:{defaultValue:null,description:"",name:"slideIndex",required:!1,type:{name:"number"}},onDragStart:{defaultValue:null,description:"",name:"onDragStart",required:!1,type:{name:"TouchEventHandler"}},onDragEnd:{defaultValue:null,description:"",name:"onDragEnd",required:!1,type:{name:"((e: TouchEvent, targetIndex: number) => void)"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"((current: number) => void)"}},onPrevClick:{defaultValue:null,description:"Будет вызвано при клике на кнопку-стрелку влево",name:"onPrevClick",required:!1,type:{name:"((event: MouseEvent<Element, MouseEvent>) => void)"}},onNextClick:{defaultValue:null,description:"Будет вызвано при клике на кнопку-стрелку вправо",name:"onNextClick",required:!1,type:{name:"((event: MouseEvent<Element, MouseEvent>) => void)"}},bullets:{defaultValue:null,description:"",name:"bullets",required:!1,type:{name:'false | "dark" | "light"'}},isDraggable:{defaultValue:null,description:"",name:"isDraggable",required:!1,type:{name:"boolean"}},showArrows:{defaultValue:null,description:"",name:"showArrows",required:!1,type:{name:"boolean"}},hasPointer:{defaultValue:null,description:"",name:"hasPointer",required:!1,type:{name:"boolean"}},arrowSize:{defaultValue:null,description:"",name:"arrowSize",required:!1,type:{name:"enum",value:[{value:'"m"'},{value:'"l"'}]}},getRootRef:{defaultValue:null,description:"",name:"getRootRef",required:!1,type:{name:"Ref<HTMLDivElement>"}},align:{defaultValue:null,description:"",name:"align",required:!1,type:{name:"enum",value:[{value:'"center"'},{value:'"left"'},{value:'"right"'}]}},getRef:{defaultValue:null,description:"",name:"getRef",required:!1,type:{name:"Ref<HTMLElement>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Gallery/Gallery.tsx#Gallery"]={docgenInfo:T.__docgenInfo,name:"Gallery",path:"src/components/Gallery/Gallery.tsx#Gallery"})}catch(e){}function J(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){!function(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(e,t,r[t])})}return e}function L(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r})(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}),e}var Y={title:"Blocks/Gallery",component:T,parameters:J({},s.tW,s.nB)},K={render:function(e){return(0,i.jsxs)(T,L(J({},e),{children:[(0,i.jsx)("div",{style:{backgroundColor:"var(--vkui--color_background_negative)"}}),(0,i.jsx)("img",{alt:"image",src:"https://picsum.photos/1024/640",style:{display:"block"}}),(0,i.jsx)("div",{style:{backgroundColor:"var(--vkui--color_background_accent)"}})]}))}};K.parameters=L(J({},K.parameters),{docs:L(J({},null===(n=K.parameters)||void 0===n?void 0:n.docs),{source:J({originalSource:"{\n  render: args => <Gallery {...args}>\n      <div style={{\n      backgroundColor: 'var(--vkui--color_background_negative)'\n    }} />\n      <img alt=\"image\" src=\"https://picsum.photos/1024/640\" style={{\n      display: 'block'\n    }} />\n      <div style={{\n      backgroundColor: 'var(--vkui--color_background_accent)'\n    }} />\n    </Gallery>\n}"},null===(l=K.parameters)||void 0===l?void 0:null===(o=l.docs)||void 0===o?void 0:o.source)})})},"./src/components/ScrollArrow/ScrollArrow.tsx":function(e,t,r){r.d(t,{Q:function(){return x}});var n=r("../../node_modules/react/jsx-runtime.js");r("../../node_modules/react/index.js");var o=(0,r("../../node_modules/@vkontakte/icons-sprite/dist/index.js").De)("Icon16ChevronLeft","chevron_left_16","0 0 12 16",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 12 16" id="chevron_left_16"><path fill="currentColor" d="m4.773 8 3.363 3.364a.9.9 0 1 1-1.272 1.272l-4-4a.9.9 0 0 1 0-1.272l4-4a.9.9 0 1 1 1.272 1.272z" /></symbol>',12,16,!1,void 0),l=r("../../node_modules/@vkontakte/icons/dist/es6/16/chevron_16.js"),i=r("../../node_modules/@vkontakte/icons/dist/es6/24/chevron_compact_left_24.js"),a=r("../../node_modules/@vkontakte/icons/dist/es6/24/chevron_24.js"),s=r("../../node_modules/@vkontakte/vkjs/lib/es6/index.js"),u=r("./src/components/RootComponent/RootComponent.tsx"),c=r("../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),d=r.n(c),f=r("../../node_modules/style-loader/dist/runtime/singletonStyleDomAPI.js"),m=r.n(f),p=r("../../node_modules/style-loader/dist/runtime/insertBySelector.js"),y=r.n(p),v=r("../../node_modules/style-loader/dist/runtime/setAttributesWithAttributesAndNonce.js"),h=r.n(v),b=r("../../node_modules/style-loader/dist/runtime/insertStyleElement.js"),g=r.n(b),_=r("../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[13].use[1]!../../node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[13].use[2]!./src/components/ScrollArrow/ScrollArrow.module.css"),w={attributes:{class:"vkui-style"}};w.setAttributes=h(),w.insert=y().bind(null,"head"),w.domAPI=m(),w.insertStyleElement=g(),d()(_.Z,w);var j=_.Z&&_.Z.locals?_.Z.locals:void 0,O={m:j["ScrollArrow--size-m"],l:j["ScrollArrow--size-l"]},S={left:j["ScrollArrow--direction-left"],right:j["ScrollArrow--direction-right"]},k=function(e){var t=e.size,r=e.direction;return"m"===t?"left"===r?(0,n.jsx)(o,{}):(0,n.jsx)(l.r,{}):"left"===r?(0,n.jsx)(i.z,{}):(0,n.jsx)(a.P,{})},x=function(e){var t=e.size,r=void 0===t?"l":t,o=e.offsetY,l=e.direction,i=e.children,a=void 0===i?(0,n.jsx)(k,{direction:l,size:r}):i,c=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},l=Object.keys(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)r=l[n],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,["size","offsetY","direction","children"]);return(0,n.jsx)(u.U,function(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r})(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}),e}(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){!function(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(e,t,r[t])})}return e}({Component:"button",type:"button",baseClassName:(0,s.AK)(j.ScrollArrow,O[r],S[l])},c),{children:(0,n.jsx)("span",{className:j.ScrollArrow__icon,style:o?{top:o}:void 0,children:a})}))};try{x.displayName="ScrollArrow",x.__docgenInfo={description:"Компонент стрелки из HorizontalScroll",displayName:"ScrollArrow",props:{direction:{defaultValue:null,description:"Направление стрелки",name:"direction",required:!0,type:{name:"enum",value:[{value:'"left"'},{value:'"right"'}]}},size:{defaultValue:{value:"l"},description:"Размер стрелки",name:"size",required:!1,type:{name:"enum",value:[{value:'"m"'},{value:'"l"'}]}},offsetY:{defaultValue:null,description:"Смещает иконку кнопки навигации по вертикали.",name:"offsetY",required:!1,type:{name:"string | number"}},getRootRef:{defaultValue:null,description:"",name:"getRootRef",required:!1,type:{name:"Ref<HTMLButtonElement>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/ScrollArrow/ScrollArrow.tsx#ScrollArrow"]={docgenInfo:x.__docgenInfo,name:"ScrollArrow",path:"src/components/ScrollArrow/ScrollArrow.tsx#ScrollArrow"})}catch(e){}},"./src/hooks/useAdaptivityHasPointer.ts":function(e,t,r){r.d(t,{K:function(){return a}});var n=r("../../node_modules/react/index.js"),o=r("../../node_modules/@vkontakte/vkjs/lib/es6/index.js"),l=r("./src/components/AdaptivityProvider/AdaptivityContext.tsx"),i=r("./src/hooks/useIsClient.ts");function a(){var e=!(arguments.length>0)||void 0===arguments[0]||arguments[0],t=n.useContext(l.s).hasPointer,r=e||void 0===t;return(0,i.O)(!r)&&void 0===t?o.RX:t}},"./src/storybook/constants.ts":function(e,t,r){r.d(t,{R0:function(){return l},nB:function(){return o},tW:function(){return n}});var n={layout:"fullscreen",centered:!0},o={cartesian:{disable:!0}},l={control:{type:"text"}}}}]);