"use strict";(self.webpackChunk_vkontakte_vkui=self.webpackChunk_vkontakte_vkui||[]).push([[2140],{"../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[14].use[1]!../../node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[14].use[2]!./src/components/ModalDismissButton/ModalDismissButton.module.css":(module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/css-loader/dist/runtime/sourceMaps.js"),_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__),_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/css-loader/dist/runtime/api.js"),___CSS_LOADER_EXPORT___=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__)()(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default());___CSS_LOADER_EXPORT___.push([module.id,'.ModalDismissButton__host--IULad{block-size:56px;box-sizing:border-box;color:var(--vkui--color_icon_contrast);inline-size:56px;inset-block-start:0;inset-inline-end:-56px;padding:18px;position:absolute}.ModalDismissButton__host--IULad:before{background:var(--vkui--color_overlay_secondary);border-radius:50%;content:"";display:block;inset:14px;position:absolute;transition:background-color .15s ease-out}.ModalDismissButton__host--IULad .vkuiIcon{transform:translateX(0)}.ModalDismissButton__hover--MqKjp:before{background:var(--vkui--color_overlay_secondary--hover)}.ModalDismissButton__active--OKMEC:before{background:var(--vkui--color_overlay_secondary--active)}',"",{version:3,sources:["webpack://./src/components/ModalDismissButton/ModalDismissButton.module.css"],names:[],mappings:"AAAA,iCAKE,eAAgB,CAEhB,qBAAsB,CACtB,sCAAuC,CAJvC,gBAAiB,CAFjB,mBAAoB,CACpB,sBAAuB,CAGvB,YAAa,CALb,iBAQF,CAEA,wCAIE,+CAAgD,CAChD,iBAAkB,CAHlB,UAAW,CADX,aAAc,CAEd,UAAW,CAGX,iBAAkB,CAClB,yCACF,CAGA,2CACE,uBACF,CAEA,yCACE,sDACF,CAEA,0CACE,uDACF",sourcesContent:[".host {\n  position: absolute;\n  inset-block-start: 0;\n  inset-inline-end: -56px;\n  inline-size: 56px;\n  block-size: 56px;\n  padding: 18px;\n  box-sizing: border-box;\n  color: var(--vkui--color_icon_contrast);\n}\n\n.host::before {\n  display: block;\n  content: '';\n  inset: 14px;\n  background: var(--vkui--color_overlay_secondary);\n  border-radius: 50%;\n  position: absolute;\n  transition: background-color 0.15s ease-out;\n}\n\n/* stylelint-disable-next-line selector-pseudo-class-disallowed-list -- fixes icon misplacement on Safari in some cases */\n.host :global(.vkuiIcon) {\n  transform: translateX(0);\n}\n\n.hover::before {\n  background: var(--vkui--color_overlay_secondary--hover);\n}\n\n.active::before {\n  background: var(--vkui--color_overlay_secondary--active);\n}\n"],sourceRoot:""}]),___CSS_LOADER_EXPORT___.locals={host:"ModalDismissButton__host--IULad",hover:"ModalDismissButton__hover--MqKjp",active:"ModalDismissButton__active--OKMEC"};const __WEBPACK_DEFAULT_EXPORT__=___CSS_LOADER_EXPORT___},"../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[14].use[1]!../../node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[14].use[2]!./src/components/ModalOutlet/ModalOutlet.module.css":(module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/css-loader/dist/runtime/sourceMaps.js"),_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__),_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/css-loader/dist/runtime/api.js"),___CSS_LOADER_EXPORT___=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__)()(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default());___CSS_LOADER_EXPORT___.push([module.id,".ModalOutlet__host--jBVm3:not([hidden]){inset:0;isolation:isolate;overflow:hidden;position:fixed;z-index:var(--vkui--z_index_modal)}@media (min-width:768px){.ModalOutlet__host--jBVm3:not([hidden]){align-items:flex-start;display:flex;justify-content:flex-start}}","",{version:3,sources:["webpack://./src/components/ModalOutlet/ModalOutlet.module.css"],names:[],mappings:"AAAA,wCAGE,OAAQ,CAFR,iBAAkB,CAIlB,eAAgB,CAHhB,cAAe,CAEf,kCAEF,CAGA,yBACE,wCAEE,sBAAuB,CADvB,YAAa,CAEb,0BACF,CACF",sourcesContent:[".host:not([hidden]) {\n  isolation: isolate;\n  position: fixed;\n  inset: 0;\n  z-index: var(--vkui--z_index_modal);\n  overflow: hidden;\n}\n\n/* Desktop */\n@media (--viewWidth-smallTabletPlus) {\n  .host:not([hidden]) {\n    display: flex;\n    align-items: flex-start;\n    justify-content: flex-start;\n  }\n}\n"],sourceRoot:""}]),___CSS_LOADER_EXPORT___.locals={host:"ModalOutlet__host--jBVm3"};const __WEBPACK_DEFAULT_EXPORT__=___CSS_LOADER_EXPORT___},"../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[14].use[1]!../../node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[14].use[2]!./src/components/ModalOverlay/ModalOverlay.module.css":(module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/css-loader/dist/runtime/sourceMaps.js"),_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__),_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/css-loader/dist/runtime/api.js"),___CSS_LOADER_EXPORT___=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__)()(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default());___CSS_LOADER_EXPORT___.push([module.id,".ModalOverlay__host--i09SH{background-color:rgba(0,0,0,.4);inset:0;-webkit-user-select:none;-moz-user-select:none;user-select:none;-webkit-tap-highlight-color:transparent;transition:opacity .3s linear;will-change:opacity}.ModalOverlay__nonInteractive--SFL7r{pointer-events:none;touch-action:none}.ModalOverlay__hostPositionAbsolute--wb7uR{position:absolute}.ModalOverlay__hostPositionFixed--zK1bz{position:fixed;z-index:var(--vkui--z_index_modal)}.ModalOverlay__hostStateEnter--rzNYl{opacity:0;transition-property:none}.ModalOverlay__hostStateEntered--gW1GD,.ModalOverlay__hostStateEntering--yswxF,.ModalOverlay__hostStateExit--NiTdf{opacity:var(--vkui_internal--modal-overlay--opacity)}.ModalOverlay__hostStateExit--NiTdf{transition-property:none}.ModalOverlay__hostStateExiting--Css_m{opacity:0}.ModalOverlay__hostStateExited--MhUeZ{opacity:0;transition-property:none}@media (max-width:767.9px){.ModalOverlay__hostStateEntering--yswxF,.ModalOverlay__hostStateExiting--Css_m{transition-duration:var(--vkui--animation_duration_l)}}@media (min-width:768px){.ModalOverlay__hostStateEntering--yswxF{transition-duration:.2s}.ModalOverlay__hostStateExiting--Css_m{transition-duration:.1s}}","",{version:3,sources:["webpack://./src/components/ModalOverlay/ModalOverlay.module.css"],names:[],mappings:"AAAA,2BAEE,+BAAoC,CADpC,OAAQ,CAER,wBAAiB,CAAjB,qBAAiB,CAAjB,gBAAiB,CACjB,uCAAwC,CACxC,6BAA+B,CAC/B,mBACF,CAEA,qCACE,mBAAoB,CACpB,iBACF,CAEA,2CACE,iBACF,CAEA,wCACE,cAAe,CACf,kCACF,CAEA,qCACE,SAAU,CACV,wBACF,CAUA,mHAHE,oDAMF,CAHA,oCAEE,wBACF,CAEA,uCACE,SACF,CAEA,sCACE,SAAU,CACV,wBACF,CAEA,2BACE,+EAEE,qDACF,CACF,CAEA,yBACE,wCACE,uBACF,CAEA,uCACE,uBACF,CACF",sourcesContent:[".host {\n  inset: 0;\n  background-color: rgba(0, 0, 0, 0.4);\n  user-select: none;\n  -webkit-tap-highlight-color: transparent;\n  transition: opacity 0.3s linear;\n  will-change: opacity;\n}\n\n.nonInteractive {\n  pointer-events: none;\n  touch-action: none;\n}\n\n.hostPositionAbsolute {\n  position: absolute;\n}\n\n.hostPositionFixed {\n  position: fixed;\n  z-index: var(--vkui--z_index_modal);\n}\n\n.hostStateEnter {\n  opacity: 0;\n  transition-property: none;\n}\n\n.hostStateEntering {\n  opacity: var(--vkui_internal--modal-overlay--opacity);\n}\n\n.hostStateEntered {\n  opacity: var(--vkui_internal--modal-overlay--opacity);\n}\n\n.hostStateExit {\n  opacity: var(--vkui_internal--modal-overlay--opacity);\n  transition-property: none;\n}\n\n.hostStateExiting {\n  opacity: 0;\n}\n\n.hostStateExited {\n  opacity: 0;\n  transition-property: none;\n}\n/* Mobile */\n@media (--viewWidth-smallTabletMinus) {\n  .hostStateEntering,\n  .hostStateExiting {\n    transition-duration: var(--vkui--animation_duration_l);\n  }\n}\n/* Desktop */\n@media (--viewWidth-smallTabletPlus) {\n  .hostStateEntering {\n    transition-duration: 0.2s;\n  }\n\n  .hostStateExiting {\n    transition-duration: 0.1s;\n  }\n}\n"],sourceRoot:""}]),___CSS_LOADER_EXPORT___.locals={host:"ModalOverlay__host--i09SH",nonInteractive:"ModalOverlay__nonInteractive--SFL7r",hostPositionAbsolute:"ModalOverlay__hostPositionAbsolute--wb7uR",hostPositionFixed:"ModalOverlay__hostPositionFixed--zK1bz",hostStateEnter:"ModalOverlay__hostStateEnter--rzNYl",hostStateEntered:"ModalOverlay__hostStateEntered--gW1GD",hostStateEntering:"ModalOverlay__hostStateEntering--yswxF",hostStateExit:"ModalOverlay__hostStateExit--NiTdf",hostStateExiting:"ModalOverlay__hostStateExiting--Css_m",hostStateExited:"ModalOverlay__hostStateExited--MhUeZ"};const __WEBPACK_DEFAULT_EXPORT__=___CSS_LOADER_EXPORT___},"../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[14].use[1]!../../node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[14].use[2]!./src/components/ModalRoot/VisuallyHiddenModalOverlay/VisuallyHiddenModalOverlay.module.css":(module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/css-loader/dist/runtime/sourceMaps.js"),_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__),_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/css-loader/dist/runtime/api.js"),___CSS_LOADER_EXPORT___=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__)()(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default());___CSS_LOADER_EXPORT___.push([module.id,".VisuallyHiddenModalOverlay__host--_aAbW{inset:0;position:absolute;-webkit-user-select:none;-moz-user-select:none;user-select:none;-webkit-tap-highlight-color:transparent}","",{version:3,sources:["webpack://./src/components/ModalRoot/VisuallyHiddenModalOverlay/VisuallyHiddenModalOverlay.module.css"],names:[],mappings:"AAAA,yCAEE,OAAQ,CADR,iBAAkB,CAElB,wBAAiB,CAAjB,qBAAiB,CAAjB,gBAAiB,CACjB,uCACF",sourcesContent:[".host {\n  position: absolute;\n  inset: 0;\n  user-select: none;\n  -webkit-tap-highlight-color: transparent;\n}\n"],sourceRoot:""}]),___CSS_LOADER_EXPORT___.locals={host:"VisuallyHiddenModalOverlay__host--_aAbW"};const __WEBPACK_DEFAULT_EXPORT__=___CSS_LOADER_EXPORT___},"./src/components/ModalDismissButton/ModalDismissButton.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{w:()=>ModalDismissButton});var jsx_runtime=__webpack_require__("../../node_modules/react/jsx-runtime.js"),cancel_20=(__webpack_require__("../../node_modules/react/index.js"),__webpack_require__("../../node_modules/@vkontakte/icons/dist_es6/20/cancel_20.js")),Tappable=__webpack_require__("./src/components/Tappable/Tappable.tsx"),VisuallyHidden=__webpack_require__("./src/components/VisuallyHidden/VisuallyHidden.tsx"),injectStylesIntoStyleTag=__webpack_require__("../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),injectStylesIntoStyleTag_default=__webpack_require__.n(injectStylesIntoStyleTag),singletonStyleDomAPI=__webpack_require__("../../node_modules/style-loader/dist/runtime/singletonStyleDomAPI.js"),singletonStyleDomAPI_default=__webpack_require__.n(singletonStyleDomAPI),insertBySelector=__webpack_require__("../../node_modules/style-loader/dist/runtime/insertBySelector.js"),insertBySelector_default=__webpack_require__.n(insertBySelector),setAttributesWithAttributesAndNonce=__webpack_require__("../../node_modules/style-loader/dist/runtime/setAttributesWithAttributesAndNonce.js"),setAttributesWithAttributesAndNonce_default=__webpack_require__.n(setAttributesWithAttributesAndNonce),insertStyleElement=__webpack_require__("../../node_modules/style-loader/dist/runtime/insertStyleElement.js"),insertStyleElement_default=__webpack_require__.n(insertStyleElement),ModalDismissButton_module=__webpack_require__("../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[14].use[1]!../../node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[14].use[2]!./src/components/ModalDismissButton/ModalDismissButton.module.css"),options={attributes:{class:"vkui-style"}};options.setAttributes=setAttributesWithAttributesAndNonce_default(),options.insert=insertBySelector_default().bind(null,"head"),options.domAPI=singletonStyleDomAPI_default(),options.insertStyleElement=insertStyleElement_default();injectStylesIntoStyleTag_default()(ModalDismissButton_module.A,options);const ModalDismissButton_ModalDismissButton_module=ModalDismissButton_module.A&&ModalDismissButton_module.A.locals?ModalDismissButton_module.A.locals:void 0,ModalDismissButton=({children="Закрыть",...restProps})=>(0,jsx_runtime.jsxs)(Tappable.S,{baseClassName:ModalDismissButton_ModalDismissButton_module.host,...restProps,activeMode:ModalDismissButton_ModalDismissButton_module.active,hoverMode:ModalDismissButton_ModalDismissButton_module.hover,children:[children&&(0,jsx_runtime.jsx)(VisuallyHidden.s,{children}),(0,jsx_runtime.jsx)(cancel_20.Y,{})]});try{ModalDismissButton.displayName="ModalDismissButton",ModalDismissButton.__docgenInfo={description:"",displayName:"ModalDismissButton",props:{hasHover:{defaultValue:null,description:"Указывает, должен ли компонент реагировать на hover-состояние",name:"hasHover",required:!1,type:{name:"boolean"}},getRootRef:{defaultValue:null,description:"",name:"getRootRef",required:!1,type:{name:"Ref<HTMLElement>"}},Component:{defaultValue:null,description:"",name:"Component",required:!1,type:{name:"ElementType<any, keyof IntrinsicElements>"}},baseClassName:{defaultValue:null,description:"",name:"baseClassName",required:!1,type:{name:"string | false"}},baseStyle:{defaultValue:null,description:"",name:"baseStyle",required:!1,type:{name:"CSSProperties"}},borderRadiusMode:{defaultValue:null,description:"Задает border-radius элементу\nВ режиме `auto` на маленьких экранах `border-radius: 0`, иначе определяется токеном `--vkui--size_border_radius--regular`",name:"borderRadiusMode",required:!1,type:{name:"enum",value:[{value:'"inherit"'},{value:'"auto"'}]}},focusVisibleMode:{defaultValue:null,description:"Стиль аутлайна focus visible. Если передать произвольную строку, она добавится как css-класс при :focus-visible",name:"focusVisibleMode",required:!1,type:{name:"FocusVisibleMode"}},hovered:{defaultValue:null,description:"Позволяет управлять hovered-состоянием извне",name:"hovered",required:!1,type:{name:"boolean"}},activated:{defaultValue:null,description:"Позволяет управлять activated-состоянием извне",name:"activated",required:!1,type:{name:"boolean"}},hasActive:{defaultValue:null,description:"Указывает, должен ли компонент реагировать на active-состояние",name:"hasActive",required:!1,type:{name:"boolean"}},hasHoverWithChildren:{defaultValue:null,description:"Позволяет родительскому компоненту\nиметь hovered-cостояние при наведении\nна любой дочерний элемент.\nПо умолчанию состояние hovered у родителя сбрасывается.\n\nПрисваивается родителькому компоненту.\n@example <Tappable hasHoverWithChildren>\n  <IconButton />\n  <IconButton />\n  <IconButton />\n</Tappable>",name:"hasHoverWithChildren",required:!1,type:{name:"boolean"}},unlockParentHover:{defaultValue:null,description:"Позволяет родительскому компоненту показывать hovered-состояние при наведении\nна текущий дочерний компонент.\n\nПрисваивается дочернему компоненту.\n@example <Tappable>\n  <IconButton unlockParentHover />\n  <IconButton unlockParentHover />\n  <IconButton />\n</Tappable>",name:"unlockParentHover",required:!1,type:{name:"boolean"}},activeEffectDelay:{defaultValue:null,description:"Длительность показа `activated`-состояния",name:"activeEffectDelay",required:!1,type:{name:"number"}},activeClassName:{defaultValue:null,description:"Стиль подсветки active-состояния",name:"activeClassName",required:!1,type:{name:"string"}},hoverClassName:{defaultValue:null,description:"Стиль подсветки hover-состояния",name:"hoverClassName",required:!1,type:{name:"string"}},activeMode:{defaultValue:null,description:"Стиль подсветки active-состояния. Если передать произвольную строку, она добавится как css-класс во время active",name:"activeMode",required:!1,type:{name:"StateModeLiteral"}},hoverMode:{defaultValue:null,description:"Стиль подсветки hover-состояния. Если передать произвольную строку, она добавится как css-класс во время hover",name:"hoverMode",required:!1,type:{name:"StateModeLiteral"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/ModalDismissButton/ModalDismissButton.tsx#ModalDismissButton"]={docgenInfo:ModalDismissButton.__docgenInfo,name:"ModalDismissButton",path:"src/components/ModalDismissButton/ModalDismissButton.tsx#ModalDismissButton"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/ModalOutlet/ModalOutlet.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{$:()=>ModalOutlet});var jsx_runtime=__webpack_require__("../../node_modules/react/jsx-runtime.js"),lib=__webpack_require__("../../node_modules/@vkontakte/vkjs/lib/index.js"),injectStylesIntoStyleTag=__webpack_require__("../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),injectStylesIntoStyleTag_default=__webpack_require__.n(injectStylesIntoStyleTag),singletonStyleDomAPI=__webpack_require__("../../node_modules/style-loader/dist/runtime/singletonStyleDomAPI.js"),singletonStyleDomAPI_default=__webpack_require__.n(singletonStyleDomAPI),insertBySelector=__webpack_require__("../../node_modules/style-loader/dist/runtime/insertBySelector.js"),insertBySelector_default=__webpack_require__.n(insertBySelector),setAttributesWithAttributesAndNonce=__webpack_require__("../../node_modules/style-loader/dist/runtime/setAttributesWithAttributesAndNonce.js"),setAttributesWithAttributesAndNonce_default=__webpack_require__.n(setAttributesWithAttributesAndNonce),insertStyleElement=__webpack_require__("../../node_modules/style-loader/dist/runtime/insertStyleElement.js"),insertStyleElement_default=__webpack_require__.n(insertStyleElement),ModalOutlet_module=__webpack_require__("../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[14].use[1]!../../node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[14].use[2]!./src/components/ModalOutlet/ModalOutlet.module.css"),options={attributes:{class:"vkui-style"}};options.setAttributes=setAttributesWithAttributesAndNonce_default(),options.insert=insertBySelector_default().bind(null,"head"),options.domAPI=singletonStyleDomAPI_default(),options.insertStyleElement=insertStyleElement_default();injectStylesIntoStyleTag_default()(ModalOutlet_module.A,options);const ModalOutlet_ModalOutlet_module=ModalOutlet_module.A&&ModalOutlet_module.A.locals?ModalOutlet_module.A.locals:void 0,ModalOutlet=({className,hidden,children,getRootRef,...restProps})=>(0,jsx_runtime.jsx)("div",{ref:getRootRef,className:(0,lib.xW)(className,ModalOutlet_ModalOutlet_module.host),hidden,"aria-hidden":hidden,...restProps,children});try{ModalOutlet.displayName="ModalOutlet",ModalOutlet.__docgenInfo={description:"",displayName:"ModalOutlet",props:{hidden:{defaultValue:null,description:"",name:"hidden",required:!1,type:{name:"boolean"}},getRootRef:{defaultValue:null,description:"",name:"getRootRef",required:!1,type:{name:"Ref<HTMLDivElement>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/ModalOutlet/ModalOutlet.tsx#ModalOutlet"]={docgenInfo:ModalOutlet.__docgenInfo,name:"ModalOutlet",path:"src/components/ModalOutlet/ModalOutlet.tsx#ModalOutlet"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/ModalOverlay/ModalOverlay.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{m:()=>ModalOverlay});var jsx_runtime=__webpack_require__("../../node_modules/react/jsx-runtime.js"),lib=__webpack_require__("../../node_modules/@vkontakte/vkjs/lib/index.js"),useExternRef=__webpack_require__("./src/hooks/useExternRef.ts"),useCSSTransition=__webpack_require__("./src/lib/animation/useCSSTransition.ts"),injectStylesIntoStyleTag=__webpack_require__("../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),injectStylesIntoStyleTag_default=__webpack_require__.n(injectStylesIntoStyleTag),singletonStyleDomAPI=__webpack_require__("../../node_modules/style-loader/dist/runtime/singletonStyleDomAPI.js"),singletonStyleDomAPI_default=__webpack_require__.n(singletonStyleDomAPI),insertBySelector=__webpack_require__("../../node_modules/style-loader/dist/runtime/insertBySelector.js"),insertBySelector_default=__webpack_require__.n(insertBySelector),setAttributesWithAttributesAndNonce=__webpack_require__("../../node_modules/style-loader/dist/runtime/setAttributesWithAttributesAndNonce.js"),setAttributesWithAttributesAndNonce_default=__webpack_require__.n(setAttributesWithAttributesAndNonce),insertStyleElement=__webpack_require__("../../node_modules/style-loader/dist/runtime/insertStyleElement.js"),insertStyleElement_default=__webpack_require__.n(insertStyleElement),ModalOverlay_module=__webpack_require__("../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[14].use[1]!../../node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[14].use[2]!./src/components/ModalOverlay/ModalOverlay.module.css"),options={attributes:{class:"vkui-style"}};options.setAttributes=setAttributesWithAttributesAndNonce_default(),options.insert=insertBySelector_default().bind(null,"head"),options.domAPI=singletonStyleDomAPI_default(),options.insertStyleElement=insertStyleElement_default();injectStylesIntoStyleTag_default()(ModalOverlay_module.A,options);const ModalOverlay_ModalOverlay_module=ModalOverlay_module.A&&ModalOverlay_module.A.locals?ModalOverlay_module.A.locals:void 0,positionClassNames={absolute:ModalOverlay_ModalOverlay_module.hostPositionAbsolute,fixed:ModalOverlay_ModalOverlay_module.hostPositionFixed},transitionStateClassNames={appear:ModalOverlay_ModalOverlay_module.hostStateEnter,appearing:ModalOverlay_ModalOverlay_module.hostStateEntering,appeared:ModalOverlay_ModalOverlay_module.hostStateEntered,enter:ModalOverlay_ModalOverlay_module.hostStateEnter,entering:ModalOverlay_ModalOverlay_module.hostStateEntering,entered:ModalOverlay_ModalOverlay_module.hostStateEntered,exit:ModalOverlay_ModalOverlay_module.hostStateExit,exiting:ModalOverlay_ModalOverlay_module.hostStateExiting,exited:ModalOverlay_ModalOverlay_module.hostStateExited},ModalOverlay=({visible=!1,position="absolute",getRootRef,onClick,...restProps})=>{const[transitionState,{ref,onTransitionEnd}]=(0,useCSSTransition.k)(visible,{enableAppear:!0}),handleRef=(0,useExternRef.Z)(getRootRef,ref);return(0,jsx_runtime.jsx)("div",{...restProps,ref:handleRef,"aria-hidden":"true",hidden:"exited"===transitionState,className:(0,lib.xW)(ModalOverlay_ModalOverlay_module.host,void 0===onClick&&ModalOverlay_ModalOverlay_module.nonInteractive,positionClassNames[position],transitionStateClassNames[transitionState]),onClick,onTransitionEnd})};try{ModalOverlay.displayName="ModalOverlay",ModalOverlay.__docgenInfo={description:"",displayName:"ModalOverlay",props:{visible:{defaultValue:{value:"false"},description:"",name:"visible",required:!1,type:{name:"boolean"}},position:{defaultValue:{value:"absolute"},description:"",name:"position",required:!1,type:{name:"enum",value:[{value:'"fixed"'},{value:'"absolute"'}]}},onClick:{defaultValue:null,description:"",name:"onClick",required:!1,type:{name:"((event: MouseEvent<HTMLDivElement, MouseEvent>) => void)"}},getRootRef:{defaultValue:null,description:"",name:"getRootRef",required:!1,type:{name:"Ref<HTMLDivElement>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/ModalOverlay/ModalOverlay.tsx#ModalOverlay"]={docgenInfo:ModalOverlay.__docgenInfo,name:"ModalOverlay",path:"src/components/ModalOverlay/ModalOverlay.tsx#ModalOverlay"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/ModalRoot/ModalRootContext.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{f:()=>ModalRootContext,j:()=>ModalRootOverlayContext});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/react/index.js"),_vkontakte_vkjs__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/@vkontakte/vkjs/lib/index.js");const ModalRootOverlayContext=(0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)({current:null}),ModalRootContext=(0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)({updateModalHeight:_vkontakte_vkjs__WEBPACK_IMPORTED_MODULE_1__.lQ,registerModal:_vkontakte_vkjs__WEBPACK_IMPORTED_MODULE_1__.lQ,isInsideModal:!1});try{ModalRootOverlayContext.displayName="ModalRootOverlayContext",ModalRootOverlayContext.__docgenInfo={description:"Сохраняем `ref` компонента `ModalOverlay` из `ModalRoot` в контекст, чтобы можно было пробросить\nего до `ModalPage` и `ModalCard`.",displayName:"ModalRootOverlayContext",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/ModalRoot/ModalRootContext.tsx#ModalRootOverlayContext"]={docgenInfo:ModalRootOverlayContext.__docgenInfo,name:"ModalRootOverlayContext",path:"src/components/ModalRoot/ModalRootContext.tsx#ModalRootOverlayContext"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/ModalRoot/useModalManager.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{y:()=>useModalManager});var react=__webpack_require__("../../node_modules/react/index.js"),useIsomorphicLayoutEffect=__webpack_require__("./src/lib/useIsomorphicLayoutEffect.ts"),ModalOverlay=__webpack_require__("./src/components/ModalOverlay/ModalOverlay.tsx"),ModalRootContext=__webpack_require__("./src/components/ModalRoot/ModalRootContext.tsx"),jsx_runtime=__webpack_require__("../../node_modules/react/jsx-runtime.js"),utils=__webpack_require__("./src/lib/utils.ts"),injectStylesIntoStyleTag=__webpack_require__("../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),injectStylesIntoStyleTag_default=__webpack_require__.n(injectStylesIntoStyleTag),singletonStyleDomAPI=__webpack_require__("../../node_modules/style-loader/dist/runtime/singletonStyleDomAPI.js"),singletonStyleDomAPI_default=__webpack_require__.n(singletonStyleDomAPI),insertBySelector=__webpack_require__("../../node_modules/style-loader/dist/runtime/insertBySelector.js"),insertBySelector_default=__webpack_require__.n(insertBySelector),setAttributesWithAttributesAndNonce=__webpack_require__("../../node_modules/style-loader/dist/runtime/setAttributesWithAttributesAndNonce.js"),setAttributesWithAttributesAndNonce_default=__webpack_require__.n(setAttributesWithAttributesAndNonce),insertStyleElement=__webpack_require__("../../node_modules/style-loader/dist/runtime/insertStyleElement.js"),insertStyleElement_default=__webpack_require__.n(insertStyleElement),VisuallyHiddenModalOverlay_module=__webpack_require__("../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[14].use[1]!../../node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[14].use[2]!./src/components/ModalRoot/VisuallyHiddenModalOverlay/VisuallyHiddenModalOverlay.module.css"),options={attributes:{class:"vkui-style"}};options.setAttributes=setAttributesWithAttributesAndNonce_default(),options.insert=insertBySelector_default().bind(null,"head"),options.domAPI=singletonStyleDomAPI_default(),options.insertStyleElement=insertStyleElement_default();injectStylesIntoStyleTag_default()(VisuallyHiddenModalOverlay_module.A,options);const VisuallyHiddenModalOverlay_VisuallyHiddenModalOverlay_module=VisuallyHiddenModalOverlay_module.A&&VisuallyHiddenModalOverlay_module.A.locals?VisuallyHiddenModalOverlay_module.A.locals:void 0,VisuallyHiddenModalOverlay=({visible:visibleExcluded,position:positionExcluded,getRootRef,...restProps})=>{const ref=(0,react.useContext)(ModalRootContext.j);return(0,jsx_runtime.jsx)("div",{...restProps,"aria-hidden":"true",className:VisuallyHiddenModalOverlay_VisuallyHiddenModalOverlay_module.host,ref:function handleCurrentRefForForwardContextRef(){(0,utils.cZ)(ref.current,getRootRef)}})};try{VisuallyHiddenModalOverlay.displayName="VisuallyHiddenModalOverlay",VisuallyHiddenModalOverlay.__docgenInfo={description:"`ModalRoot` выставляет общий `ModalOverlay` для всех потомков, и чтобы не нарушить логику\nв `ModalPage` и `ModalCard`, в них прокидывается данный компонент, который визуально не виден,\nно при этом на нём сохраняется возможность взаимодействия.\n\nВ `getRooRef` отдаёт ссылку на DOM общего `ModalOverlay`.",displayName:"VisuallyHiddenModalOverlay",props:{visible:{defaultValue:null,description:"",name:"visible",required:!1,type:{name:"boolean"}},position:{defaultValue:null,description:"",name:"position",required:!1,type:{name:"enum",value:[{value:'"fixed"'},{value:'"absolute"'}]}},onClick:{defaultValue:null,description:"",name:"onClick",required:!1,type:{name:"((event: MouseEvent<HTMLDivElement, MouseEvent>) => void)"}},getRootRef:{defaultValue:null,description:"",name:"getRootRef",required:!1,type:{name:"Ref<HTMLDivElement>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/ModalRoot/VisuallyHiddenModalOverlay/VisuallyHiddenModalOverlay.tsx#VisuallyHiddenModalOverlay"]={docgenInfo:VisuallyHiddenModalOverlay.__docgenInfo,name:"VisuallyHiddenModalOverlay",path:"src/components/ModalRoot/VisuallyHiddenModalOverlay/VisuallyHiddenModalOverlay.tsx#VisuallyHiddenModalOverlay"})}catch(__react_docgen_typescript_loader_error){}const useModalManager=({id,open,keepMounted,modalOverlayTestId,noFocusToDialog,onOpen,onOpened,onClose,onClosed})=>{const context=(0,react.useContext)(ModalRootContext.f),opened=context.isInsideModal?context.activeModal===id:open,shouldPreserveSnapPoint=!!context.isInsideModal&&null!==context.activeModal,[unmounted,setUnmounted]=(0,react.useState)(!keepMounted&&!opened);return(0,useIsomorphicLayoutEffect.E)((function unsetUnmounted(){!keepMounted&&opened&&setUnmounted((prev=>!prev&&prev))}),[opened,keepMounted]),unmounted?{mounted:!1,shouldPreserveSnapPoint}:{mounted:!0,open:opened,shouldPreserveSnapPoint,noFocusToDialog:noFocusToDialog||context.noFocusToDialog,modalOverlayTestId:modalOverlayTestId||context.modalOverlayTestId,ModalOverlay:context.isInsideModal?VisuallyHiddenModalOverlay:ModalOverlay.m,onOpen:onOpen||getContextCallback(id,context.onOpen),onOpened:onOpened||getContextCallback(id,context.onOpened),onClose:onClose||getContextCallback(id,context.onClose),onClosed:function handleClosed(...args){keepMounted||setUnmounted(!0),onClosed?onClosed(...args):context.onClosed?.(id)}}};function getContextCallback(id,fn){return fn?()=>fn(id):void 0}try{useModalManager.displayName="useModalManager",useModalManager.__docgenInfo={description:"",displayName:"useModalManager",props:{id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"string"}},open:{defaultValue:null,description:"",name:"open",required:!0,type:{name:"boolean"}},keepMounted:{defaultValue:null,description:"",name:"keepMounted",required:!0,type:{name:"boolean"}},modalOverlayTestId:{defaultValue:null,description:"",name:"modalOverlayTestId",required:!1,type:{name:"string"}},noFocusToDialog:{defaultValue:null,description:"",name:"noFocusToDialog",required:!1,type:{name:"boolean"}},onOpen:{defaultValue:null,description:"",name:"onOpen",required:!1,type:{name:"AnyFunction"}},onOpened:{defaultValue:null,description:"",name:"onOpened",required:!1,type:{name:"AnyFunction"}},onClose:{defaultValue:null,description:"",name:"onClose",required:!1,type:{name:"AnyFunction"}},onClosed:{defaultValue:null,description:"",name:"onClosed",required:!1,type:{name:"AnyFunction"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/ModalRoot/useModalManager.tsx#useModalManager"]={docgenInfo:useModalManager.__docgenInfo,name:"useModalManager",path:"src/components/ModalRoot/useModalManager.tsx#useModalManager"})}catch(__react_docgen_typescript_loader_error){}},"./src/hooks/useAdaptivityWithJSMediaQueries.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{w:()=>useAdaptivityWithJSMediaQueries});var react=__webpack_require__("../../node_modules/react/index.js"),lib=__webpack_require__("../../node_modules/@vkontakte/vkjs/lib/index.js"),AdaptivityContext=__webpack_require__("./src/components/AdaptivityProvider/AdaptivityContext.tsx");function getOrDefault(value,defaultValue){return value??defaultValue}var functions=__webpack_require__("./src/lib/adaptivity/functions.ts"),matchMedia=__webpack_require__("./src/lib/matchMedia.ts"),useMediaQueries=__webpack_require__("./src/hooks/useMediaQueries.ts"),usePlatform=__webpack_require__("./src/hooks/usePlatform.ts");const useAdaptivityWithJSMediaQueries=()=>{lib.Sw||console.error("[useAdaptivityWithJSMediaQueries] Похоже, вы пытаетесь использовать хук вне браузера.\n\nПостарайтесь этого избегать, чтобы не было ошибок при гидратации: при SSR нет информации о размерах экрана.\n\nИспользуйте CSS Media Query или библиотеку по типу https://github.com/artsy/fresnel.");const{viewWidth:viewWidthContext,viewHeight:viewHeightContext,sizeX:sizeXContext,sizeY:sizeYContext,hasPointer:hasPointerContext,hasHover:hasHoverContext}=react.useContext(AdaptivityContext.D),platform=(0,usePlatform.V)(),mediaQueries=(0,useMediaQueries.e)(),[[viewWidthLocal,viewHeightLocal],setViewSizeLocal]=react.useState((()=>[getOrDefault(viewWidthContext,(0,functions.z6)(mediaQueries)),getOrDefault(viewHeightContext,(0,functions.EL)(mediaQueries))])),adaptivityProps=react.useMemo((()=>{const hasPointer=getOrDefault(hasPointerContext,lib.Wt),hasHover=getOrDefault(hasHoverContext,lib.pp),viewWidth=getOrDefault(viewWidthContext,viewWidthLocal),viewHeight=getOrDefault(viewHeightContext,viewHeightLocal);return{viewWidth,viewHeight,sizeX:getOrDefault(sizeXContext,(0,functions.Io)(viewWidth)),sizeY:getOrDefault(sizeYContext,(0,functions.BM)(viewWidth,viewHeight,hasPointer)),hasPointer,hasHover,isDesktop:(0,functions.RL)(viewWidth,viewHeight,hasPointer,platform)}}),[viewWidthLocal,viewHeightLocal,viewWidthContext,viewHeightContext,sizeXContext,sizeYContext,hasPointerContext,hasHoverContext,platform]);return react.useEffect((()=>{const handleMediaQuery=()=>{setViewSizeLocal((prevSizeLocal=>{const newViewWidthLocal=getOrDefault(viewWidthContext,(0,functions.z6)(mediaQueries)),newViewHeightLocal=getOrDefault(viewHeightContext,(0,functions.EL)(mediaQueries)),[prevViewWidthLocal,prevViewHeightLocal]=prevSizeLocal;return prevViewWidthLocal!==newViewWidthLocal||prevViewHeightLocal!==newViewHeightLocal?[newViewWidthLocal,newViewHeightLocal]:prevSizeLocal}))};return viewWidthContext||[mediaQueries.desktopPlus,mediaQueries.tablet,mediaQueries.smallTablet,mediaQueries.mobile].forEach((matchMediaListener=>(0,matchMedia.d)(matchMediaListener,handleMediaQuery))),viewHeightContext||[mediaQueries.mediumHeight,mediaQueries.mobileLandscapeHeight].forEach((matchMediaListener=>(0,matchMedia.d)(matchMediaListener,handleMediaQuery))),()=>{[mediaQueries.desktopPlus,mediaQueries.tablet,mediaQueries.smallTablet,mediaQueries.mobile,mediaQueries.mediumHeight,mediaQueries.mobileLandscapeHeight].forEach((matchMediaListener=>(0,matchMedia.Q)(matchMediaListener,handleMediaQuery)))}}),[mediaQueries,viewWidthContext,viewHeightContext]),adaptivityProps}},"./src/hooks/useFocusTrap.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{r:()=>useFocusTrap});var react=__webpack_require__("../../node_modules/react/index.js");var accessibility=__webpack_require__("./src/lib/accessibility.ts"),floating_ui_utils_dom=__webpack_require__("../../node_modules/@vkontakte/vkui-floating-ui/utils/dist/floating-ui.utils.dom.mjs"),dom=__webpack_require__("./src/lib/dom.tsx"),useIsomorphicLayoutEffect=__webpack_require__("./src/lib/useIsomorphicLayoutEffect.ts"),useMutationObserver=__webpack_require__("./src/hooks/useMutationObserver.ts"),useStableCallback=__webpack_require__("./src/hooks/useStableCallback.ts");const FOCUSABLE_ELEMENTS=accessibility.C5.join(),useFocusTrap=(ref,{mount=!0,disabled=!1,autoFocus=!0,restoreFocus=!0,timeout=0,onClose})=>{const{document}=(0,dom.a4)(),focusableNodesRef=(0,react.useRef)([]);(({restoreFocus,timeout,mount,ref})=>{const restoreFocusRef=(0,react.useRef)(restoreFocus);restoreFocusRef.current=restoreFocus;const[restoreFocusTo,setRestoreFocusTo]=(0,react.useState)(null),restoreFocusImpl=(0,useStableCallback.K)((()=>{const shouldRestoreFocus="function"==typeof restoreFocusRef.current?restoreFocusRef.current():restoreFocusRef.current;shouldRestoreFocus&&setTimeout((()=>{const restoreFocusElement=(0,floating_ui_utils_dom.sb)(shouldRestoreFocus)&&shouldRestoreFocus||(0,floating_ui_utils_dom.sb)(restoreFocusTo)&&restoreFocusTo||null;restoreFocusElement&&(restoreFocusElement.focus(),setRestoreFocusTo(null))}),timeout)}));(0,useIsomorphicLayoutEffect.E)((function calculateRestoreFocusTo(){ref.current&&restoreFocusRef.current&&mount?setRestoreFocusTo((0,dom.HC)(ref.current)):setRestoreFocusTo(null)}),[ref,mount]),(0,useIsomorphicLayoutEffect.E)((function tryToRestoreFocusOnUnmount(){return()=>{restoreFocusImpl()}}),[restoreFocusImpl]),(0,useIsomorphicLayoutEffect.E)((function tryToRestoreFocusWhenFakeUnmount(){mount||restoreFocusImpl()}),[mount,restoreFocusImpl])})({restoreFocus,mount,timeout,ref});const recalculateFocusableNodesRef=parentNode=>{const newFocusableElements=parentNode.querySelectorAll(FOCUSABLE_ELEMENTS),nodes=[];newFocusableElements.forEach((focusableEl=>{const{display,visibility}=getComputedStyle(focusableEl);"none"!==display&&"hidden"!==visibility&&nodes.push(focusableEl)})),0===nodes.length&&nodes.push(parentNode),focusableNodesRef.current=nodes},onMutateParentHandler=parentNode=>{const oldFocusableNodes=[...focusableNodesRef.current];if(recalculateFocusableNodesRef(parentNode),autoFocus&&!function arraysEquals(arrA,arrB){return arrA.length===arrB.length&&arrA.every(((item,index)=>item===arrB[index]))}(oldFocusableNodes,focusableNodesRef.current)&&document){const activeElement=document.activeElement;(nodeIndex=>{const element=focusableNodesRef.current[nodeIndex];element&&element.focus({preventScroll:!0})})(Math.max(document.activeElement?focusableNodesRef.current.indexOf(activeElement):-1,0))}};(0,useMutationObserver.P)(ref,(()=>ref.current&&onMutateParentHandler(ref.current))),(0,useIsomorphicLayoutEffect.E)((()=>{ref.current&&recalculateFocusableNodesRef(ref.current)}),[ref]),(0,useIsomorphicLayoutEffect.E)((function tryToAutoFocusToFirstNode(){if(!ref.current||!autoFocus||disabled)return;const timeoutId=setTimeout((()=>{if(!ref.current||!focusableNodesRef.current.length)return;const activeElement=(0,dom.HC)(ref.current);(0,dom.gR)(ref.current,activeElement)||("root"===autoFocus?ref.current?.focus():focusableNodesRef.current[0].focus())}),timeout);return()=>{clearTimeout(timeoutId)}}),[autoFocus,timeout,disabled]),(0,useIsomorphicLayoutEffect.E)((function initializeFocusTrap(){if(!ref.current)return;const onDocumentKeydown=event=>{if(disabled)return;switch((0,accessibility.Mv)(event)){case accessibility.D$.TAB:{if(!focusableNodesRef.current.length)return!1;const lastIdx=focusableNodesRef.current.length-1,targetIdx=focusableNodesRef.current.findIndex((node=>node===event.target)),shouldFocusFirstNode=-1===targetIdx||targetIdx===lastIdx&&!event.shiftKey;if(shouldFocusFirstNode||0===targetIdx&&event.shiftKey){event.preventDefault();const node=focusableNodesRef.current[shouldFocusFirstNode?0:lastIdx];return node!==(0,dom.HC)(node)&&node.focus(),!1}break}case accessibility.D$.ESCAPE:onClose&&(event.preventDefault(),onClose())}return!0},doc=(0,floating_ui_utils_dom.zk)(ref.current).document;return doc.addEventListener("keydown",onDocumentKeydown,{capture:!0}),()=>{doc.removeEventListener("keydown",onDocumentKeydown,!0)}}),[onClose,ref,disabled])}},"./src/hooks/useMutationObserver.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{P:()=>useMutationObserver});var _lib_useIsomorphicLayoutEffect__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/lib/useIsomorphicLayoutEffect.ts"),_useStableCallback__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/hooks/useStableCallback.ts");const useMutationObserver=(ref,callback)=>{const stableCallback=(0,_useStableCallback__WEBPACK_IMPORTED_MODULE_0__.K)(callback);(0,_lib_useIsomorphicLayoutEffect__WEBPACK_IMPORTED_MODULE_1__.E)((()=>{if(!ref||!ref.current)return;const observer=new MutationObserver(stableCallback);return observer.observe(ref.current,{subtree:!0,childList:!0}),()=>observer.disconnect()}),[ref,stableCallback])}},"./src/hooks/useStateWithPrev.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>useStateWithPrev});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/react/index.js");function initializer(initialArg){const initialState=function basicStateInitializer(initialArg){return initialArg instanceof Function?initialArg():initialArg}(initialArg);return[initialState,void 0]}function reducer([prevState],action){const newState=function basicStateReducer(state,action){return action instanceof Function?action(state):action}(prevState,action);return[newState,prevState]}function useStateWithPrev(initialState){return react__WEBPACK_IMPORTED_MODULE_0__.useReducer(reducer,void 0,(()=>initializer(initialState)))}},"./src/hooks/useVirtualKeyboardState.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{r:()=>useVirtualKeyboardState});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/react/index.js"),_vkontakte_vkjs__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/@vkontakte/vkjs/lib/index.js"),_lib_dom__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/lib/dom.tsx");function useVirtualKeyboardState(enabled=!0){const{window,document}=(0,_lib_dom__WEBPACK_IMPORTED_MODULE_2__.a4)(),[focusedEl,setFocusedEl]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null),[keyboardOpened,setKeyboardOpened]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1),prevVisualViewportRef=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);return(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((function handleFocusedEl(){if(!enabled||!window||!document)return;const handleFocus=event=>{const activeElement=!0===event?document.activeElement:event.target;if((0,_lib_dom__WEBPACK_IMPORTED_MODULE_2__.j4)(activeElement)){switch((!0===event?{type:"focusin"}:event).type){case"focusin":prevVisualViewportRef.current=(0,_lib_dom__WEBPACK_IMPORTED_MODULE_2__.Z8)(window),setFocusedEl(activeElement);break;case"focusout":prevVisualViewportRef.current=null,setKeyboardOpened(!1),setFocusedEl(null)}}};handleFocus(!0);const eventOptions={passive:!0,capture:!1};return document.addEventListener("focusin",handleFocus,eventOptions),document.addEventListener("focusout",handleFocus,eventOptions),()=>{prevVisualViewportRef.current=null,document.removeEventListener("focusin",handleFocus,eventOptions),document.removeEventListener("focusout",handleFocus,eventOptions)}}),[enabled,window,document]),(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((function handleVirtualKeyboardOpened(){if(!focusedEl||!window)return;const handleResize=(0,_vkontakte_vkjs__WEBPACK_IMPORTED_MODULE_1__.sg)((()=>{if(null===prevVisualViewportRef.current)return;const nextVisualViewport=(0,_lib_dom__WEBPACK_IMPORTED_MODULE_2__.Z8)(window),{offsetTop:prevOffsetTop,height:prevHeight}=prevVisualViewportRef.current,{offsetTop:nextOffsetTop,height:nextHeight}=nextVisualViewport;prevOffsetTop===nextOffsetTop&&prevHeight===nextHeight||(setKeyboardOpened(!0),prevVisualViewportRef.current=nextVisualViewport)}),100);return window.visualViewport?window.visualViewport.addEventListener("resize",handleResize):window.addEventListener("resize",handleResize),function dispose(){window.visualViewport?window.visualViewport.removeEventListener("resize",handleResize):window.removeEventListener("resize",handleResize)}}),[focusedEl,window]),(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((function preventWindowScrollIfKeyboardOpened(){if(!keyboardOpened||!window)return;const prevent=(0,_vkontakte_vkjs__WEBPACK_IMPORTED_MODULE_1__.nF)((()=>{prevVisualViewportRef.current&&window.scrollTo(0,prevVisualViewportRef.current.offsetTop)}),100);return window.addEventListener("scroll",prevent,{passive:!0}),function dispose(){window.removeEventListener("scroll",prevent)}}),[keyboardOpened,window]),{opened:keyboardOpened}}},"./src/lib/animation/rubberbandIfOutOfBounds.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{B:()=>rubberbandIfOutOfBounds});var _helpers_math__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/helpers/math.ts");function rubberband(distance,dimension,constant){return 0===dimension||Math.abs(dimension)===1/0?Math.pow(distance,5*constant):distance*dimension*constant/(dimension+constant*distance)}function rubberbandIfOutOfBounds(position,min,max,constant=.15){return 0===constant?(0,_helpers_math__WEBPACK_IMPORTED_MODULE_0__.qE)(position,min,max):position<min?-rubberband(min-position,max-min,constant)+min:position>max?+rubberband(position-max,max-min,constant)+max:position}},"./src/lib/animation/useCSSTransition.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{k:()=>useCSSTransition});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/react/index.js"),_vkontakte_vkjs__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/@vkontakte/vkjs/lib/index.js"),_hooks_useStableCallback__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/hooks/useStableCallback.ts"),_hooks_useStateWithPrev__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/hooks/useStateWithPrev.ts");const useCSSTransition=(inProp,{enableAppear=!1,enableEnter=!0,enableExit=!0,onEnter:onEnterProp,onEntering:onEnteringProp,onEntered:onEnteredProp,onExit:onExitProp,onExiting:onExitingProp,onExited:onExitedProp}={})=>{const onEnter=(0,_hooks_useStableCallback__WEBPACK_IMPORTED_MODULE_2__.K)(onEnterProp||_vkontakte_vkjs__WEBPACK_IMPORTED_MODULE_1__.lQ),onEntering=(0,_hooks_useStableCallback__WEBPACK_IMPORTED_MODULE_2__.K)(onEnteringProp||_vkontakte_vkjs__WEBPACK_IMPORTED_MODULE_1__.lQ),onEntered=(0,_hooks_useStableCallback__WEBPACK_IMPORTED_MODULE_2__.K)(onEnteredProp||_vkontakte_vkjs__WEBPACK_IMPORTED_MODULE_1__.lQ),onExit=(0,_hooks_useStableCallback__WEBPACK_IMPORTED_MODULE_2__.K)(onExitProp||_vkontakte_vkjs__WEBPACK_IMPORTED_MODULE_1__.lQ),onExiting=(0,_hooks_useStableCallback__WEBPACK_IMPORTED_MODULE_2__.K)(onExitingProp||_vkontakte_vkjs__WEBPACK_IMPORTED_MODULE_1__.lQ),onExited=(0,_hooks_useStableCallback__WEBPACK_IMPORTED_MODULE_2__.K)(onExitedProp||_vkontakte_vkjs__WEBPACK_IMPORTED_MODULE_1__.lQ),ref=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null),[[state,prevState],setState]=(0,_hooks_useStateWithPrev__WEBPACK_IMPORTED_MODULE_3__.A)((()=>inProp?enableAppear?(onEnter(!0),"appear"):"entered":"exited"));(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((function updateState(){if(inProp)switch(state){case"appear":ref.current,setState("appearing"),onEntering(!0);break;case"enter":ref.current,setState("entering"),onEntering();break;case"exiting":if(enableEnter){setState("entering"),onEntering();break}setState("entered"),onEntered();break;case"exited":if(enableEnter){setState("enter"),onEnter();break}setState("entered"),onEntered()}else switch(state){case"exit":ref.current,setState("exiting"),onExiting();break;case"appearing":case"entering":if(enableExit){setState("exiting"),onExiting();break}setState("exited"),onExited();break;case"appeared":case"entered":if(enableExit){setState("exit"),onExit();break}setState("exited"),onExited()}}),[inProp,state,prevState,setState,enableAppear,enableEnter,onEnter,onEntering,onEntered,enableExit,onExit,onExiting,onExited]);return[state,{ref,onTransitionEnd:"appeared"!==state&&"entered"!==state&&"exited"!==state?event=>{if(event.target===ref.current)switch(state){case"appearing":setState("appeared"),onEntered(event.propertyName,!0);break;case"entering":setState("entered"),onEntered(event.propertyName);break;case"exiting":setState("exited"),onExited(event.propertyName)}}:void 0}]}},"./src/lib/sheet/constants.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Xb:()=>BLOCK_SHEET_BEHAVIOR_DATA_ATTRIBUTE,a2:()=>DRAG_THRESHOLDS,j6:()=>DYNAMIC_SNAP_POINT_DATA,nx:()=>BLOCK_SHEET_BEHAVIOR_DATA_ATTRIBUTE_KEY,qs:()=>SNAP_POINT_DETENTS,u7:()=>SNAP_POINT_SAFE_RANGE});const BLOCK_SHEET_BEHAVIOR_DATA_ATTRIBUTE_KEY="data-vkui-block-sheet-behavior",BLOCK_SHEET_BEHAVIOR_DATA_ATTRIBUTE={[BLOCK_SHEET_BEHAVIOR_DATA_ATTRIBUTE_KEY]:!0},DRAG_THRESHOLDS={DISTANCE_FOR_MOVING_START:12,VELOCITY:500},SNAP_POINT_SAFE_RANGE={LOWER:25,HIGHEST:90},SNAP_POINT_DETENTS={MIN:0,MEDIUM:50,LARGE:100},DYNAMIC_SNAP_POINT_DATA={IDLE_POINT_VALUE:0,COMPUTED_INDEX:1}},"./src/lib/sheet/useBottomSheet.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{g:()=>useBottomSheet});var react=__webpack_require__("../../node_modules/react/index.js"),lib=__webpack_require__("../../node_modules/@vkontakte/vkjs/lib/index.js"),useStableCallback=__webpack_require__("./src/hooks/useStableCallback.ts"),useIsomorphicLayoutEffect=__webpack_require__("./src/lib/useIsomorphicLayoutEffect.ts"),math=__webpack_require__("./src/helpers/math.ts"),rubberbandIfOutOfBounds=__webpack_require__("./src/lib/animation/rubberbandIfOutOfBounds.ts"),dom=__webpack_require__("./src/lib/dom.tsx"),UIPanGestureRecognizer=__webpack_require__("./src/lib/touch/UIPanGestureRecognizer.ts"),constants=__webpack_require__("./src/lib/sheet/constants.ts");class BottomSheetController{sheetEl;constructor(sheetEl,{sheetScrollEl,sheetTransitionController,backdropTransitionController,onSnapPointChange,onDismiss}){this.sheetEl=sheetEl,this.isInitialized=!1,this.panState="idle",this.pannedEl=null,this.sheetHeight=0,this.rafId=null,this.currentSnapPoint=0,this.nextSnapPoint=0,this.snapPointDetents=[0,0],this.unit="%",this.disableVerticalScrollBouncingDispose=lib.lQ,this.onSnapPointChange=onSnapPointChange,this.onDismiss=onDismiss,this.panGestureRecognizer=new UIPanGestureRecognizer.f,this.sheetScrollEl=sheetScrollEl,this.sheetTransitionController=sheetTransitionController,this.backdropTransitionController=backdropTransitionController}init(snapPoint){this.isInitialized=!0,"auto"===snapPoint?(this.unit="px",this.currentSnapPoint=constants.j6.IDLE_POINT_VALUE,this.snapPointDetents=[constants.qs.MIN,constants.j6.IDLE_POINT_VALUE]):(this.unit="%",this.currentSnapPoint=snapPoint.initial,this.snapPointDetents=snapPoint.detents)}destroy(){this.isInitialized=!1,this.pannedEl=null,this.sheetTransitionController.cleanup(),this.backdropTransitionController?.cleanup(),this.disableVerticalScrollBouncingDispose(),this.disableVerticalScrollBouncingDispose=lib.lQ}panStart(event){this.isInitialized&&"idle"===this.panState&&!(0,dom.is)(event.target)&&(this.panState="start",this.pannedEl=event.target,this.panGestureRecognizer.setStartCoords(event))}panMove(event){switch(this.panState){case"start":if(this.panGestureRecognizer.setInitialTimeOnce(),this.panGestureRecognizer.setEndCoords(event),this.preventUntilPanGestureBecomesExpected())return;if(this.preventImmediatelyIfPannedElIsNotValid())return void(this.panState="idle");if(this.preventUntilVerticalScrollingOnSheetScrollElBecomesExpected())return;if(this.preventImmediatelyIfVerticalScrollingOnPannedElIsScrolled())return void(this.panState="idle");this.panState="moving",this.panGestureRecognizer.setStartCoords(event),this.sheetHeight=this.sheetEl.offsetHeight,this.disableVerticalScrollBouncingDispose=BottomSheetController.disableVerticalScrollBouncingIfNeeded(this.sheetScrollEl,this.pannedEl),this.isDynamicSnapPoint&&(this.currentSnapPoint=this.sheetHeight,this.snapPointDetents[constants.j6.COMPUTED_INDEX]=this.sheetHeight);break;case"moving":this.panGestureRecognizer.setEndCoords(event);const{y1,y2}=this.panGestureRecognizer;this.nextSnapPoint=(0,rubberbandIfOutOfBounds.B)(this.currentSnapPoint-(y2-y1)/this.sheetHeight*this.currentSnapPoint,constants.qs.MIN,this.isDynamicSnapPoint?this.sheetHeight:constants.qs.LARGE),this.calculateSnapPoint(this.nextSnapPoint,!0)}}panEnd(){if("moving"===this.panState){const prevCurrentSnapPoint=this.currentSnapPoint;this.currentSnapPoint=this.getSnapPointTo(this.nextSnapPoint),prevCurrentSnapPoint!==this.currentSnapPoint&&this.currentSnapPoint>constants.qs.MIN&&this.onSnapPointChange(this.currentSnapPoint),this.calculateSnapPoint(this.currentSnapPoint)}this.panState="idle",this.panGestureRecognizer.reset(),this.disableVerticalScrollBouncingDispose(),this.disableVerticalScrollBouncingDispose=lib.lQ}isInitialized;panState;pannedEl;sheetHeight;rafId;currentSnapPoint;nextSnapPoint;snapPointDetents;unit;get isDynamicSnapPoint(){return"px"===this.unit}disableVerticalScrollBouncingDispose;sheetScrollEl;sheetTransitionController;backdropTransitionController;panGestureRecognizer;onSnapPointChange;onDismiss;calculateSnapPoint(nextSnapPoint,immediately=!1){if(null!==this.rafId&&cancelAnimationFrame(this.rafId),nextSnapPoint<=constants.qs.MIN)return this.sheetTransitionController.enableTransition(),this.backdropTransitionController?.enableTransition(),this.panState="idle",void this.onDismiss();const backdropOpacity=(0,math.qE)(this.isDynamicSnapPoint?nextSnapPoint/this.sheetHeight:2*nextSnapPoint/constants.qs.LARGE,0,1);this.rafId=requestAnimationFrame((()=>{if(immediately)return this.backdropTransitionController?.disableTransition().set(backdropOpacity),void this.sheetTransitionController.disableTransition().set(`${nextSnapPoint}${this.unit}`);this.isDynamicSnapPoint&&this.sheetTransitionController.cleanupOnTransitionEnd(),this.backdropTransitionController?.unset(),this.sheetTransitionController.enableTransition().set(`${this.currentSnapPoint}${this.unit}`)}))}getSnapPointTo(nextSnapPoint){const closestSnapPoint=BottomSheetController.getClosestSnapPoint(this.snapPointDetents,nextSnapPoint);if(closestSnapPoint!==this.currentSnapPoint)return closestSnapPoint;const panDirection=this.panGestureRecognizer.direction();if("y"!==panDirection.axis||null===panDirection.direction)return this.currentSnapPoint;const velocity=this.panGestureRecognizer.velocity();if(Math.abs(velocity.y)<constants.a2.VELOCITY)return this.currentSnapPoint;return BottomSheetController.getClosestSnapPointByDirection(this.snapPointDetents,closestSnapPoint,panDirection.direction)}preventUntilPanGestureBecomesExpected(){return"x"===this.panGestureRecognizer.direction().axis||this.panGestureRecognizer.distance()<constants.a2.DISTANCE_FOR_MOVING_START}preventImmediatelyIfPannedElIsNotValid(){return null===this.pannedEl||null!==this.pannedEl.closest(`[${constants.nx}=true]`)||!this.sheetEl.contains(this.pannedEl)}preventUntilVerticalScrollingOnSheetScrollElBecomesExpected(){return!(null===this.sheetScrollEl||!this.sheetScrollEl.contains(this.pannedEl)||this.sheetScrollEl.scrollHeight<=this.sheetScrollEl.clientHeight)&&(0!==this.sheetScrollEl.scrollTop||-1===this.panGestureRecognizer.direction().direction&&BottomSheetController.isLastSnapPointDetents(this.snapPointDetents,this.currentSnapPoint))}preventImmediatelyIfVerticalScrollingOnPannedElIsScrolled(){if(null===this.pannedEl||this.pannedEl===this.sheetEl||this.pannedEl===this.sheetScrollEl)return!1;const overflowAncestor=(0,dom.ob)(this.pannedEl,this.sheetEl);return!(null===overflowAncestor||this.sheetScrollEl===overflowAncestor||overflowAncestor.scrollHeight<=overflowAncestor.clientHeight)&&(0!==overflowAncestor.scrollTop||-1===this.panGestureRecognizer.direction().direction)}static disableVerticalScrollBouncingIfNeeded(sheetScrollEl,targetEl){return null!==sheetScrollEl&&sheetScrollEl.scrollTop<=0&&sheetScrollEl.contains(targetEl)&&sheetScrollEl.scrollHeight>sheetScrollEl.clientHeight?(sheetScrollEl.style.setProperty("overflow-y","hidden"),function dispose(){sheetScrollEl.style.removeProperty("overflow-y")}):lib.lQ}static isLastSnapPointDetents(snapPointDetents,currentY){return currentY===snapPointDetents[snapPointDetents.length-1]}static getClosestSnapPointByDirection(snapPointDetents,currentY,direction){const foundIndex=snapPointDetents.findIndex((i=>i===currentY));switch(direction){case-1:return snapPointDetents[foundIndex+1]??snapPointDetents[snapPointDetents.length-1];case 1:return snapPointDetents[foundIndex-1]??snapPointDetents[0]}}static getClosestSnapPoint(snapPointDetents,currentY){let closest=snapPointDetents[0],minDifference=Math.abs(snapPointDetents[0]-currentY);for(let i=1;i<snapPointDetents.length;i+=1){const difference=Math.abs(snapPointDetents[i]-currentY);difference<minDifference&&(closest=snapPointDetents[i],minDifference=difference)}return closest}}class CSSTransitionController{el;property;constructor(el,property){this.el=el,this.property=property,this.handleTransitionEnd=()=>(this.cleanup(),this)}set(to){return this.el.style.setProperty(this.property,`${to}`),this}unset(){return this.cleanup()}enableTransition(){return this.el.style.removeProperty("transition"),this}disableTransition(){return this.el.style.setProperty("transition","none"),this}cleanup(){return this.el.removeEventListener("transitionend",this.handleTransitionEnd),this.el.style.removeProperty("transition"),this.el.style.removeProperty(this.property),this}cleanupOnTransitionEnd(){return this.el.addEventListener("transitionend",this.handleTransitionEnd,{once:!0}),this}handleTransitionEnd}const useBottomSheet=(enabled,{blocked,snapPoint,sheetCSSProperty,backdropCSSProperty,onSnapPointChange:onSnapPointChangeProp,onDismiss:onDismissProp})=>{const[sheetScrollEl,setSheetScrollEl]=(0,react.useState)(null),[sheetEl,setSheetEl]=(0,react.useState)(null),[backdropEl,setBackdropEl]=(0,react.useState)(null),initialStyle=(0,react.useMemo)((()=>enabled&&"auto"!==snapPoint?{[sheetCSSProperty]:`${snapPoint.initial}%`}:void 0),[enabled,snapPoint,sheetCSSProperty]),onSnapPointChange=(0,useStableCallback.K)(onSnapPointChangeProp||lib.lQ),onDismiss=(0,useStableCallback.K)(onDismissProp||lib.lQ),bsController=(0,react.useMemo)((()=>enabled&&null!==sheetEl?new BottomSheetController(sheetEl,{sheetScrollEl:sheetScrollEl||null,sheetTransitionController:new CSSTransitionController(sheetEl,sheetCSSProperty),backdropTransitionController:backdropEl?new CSSTransitionController(backdropEl,backdropCSSProperty):null,onSnapPointChange,onDismiss}):null),[enabled,sheetEl,sheetCSSProperty,sheetScrollEl,backdropEl,backdropCSSProperty,onSnapPointChange,onDismiss]),onPanStart=function onPanStart(event){blocked||bsController.panStart(event.nativeEvent)},onPanMove=function onPanMove(event){bsController.panMove(event.nativeEvent)},onPanEnd=function onPanEnd(){bsController.panEnd()};return(0,useIsomorphicLayoutEffect.E)((function init(){bsController&&bsController.init(snapPoint)}),[snapPoint,bsController]),(0,useIsomorphicLayoutEffect.E)((()=>function unmount(){bsController&&bsController.destroy()}),[bsController]),[{initialStyle,setSheetEl,setSheetScrollEl,setBackdropEl},null!==bsController?{onTouchStart:onPanStart,onTouchMove:onPanMove,onTouchEnd:onPanEnd,onTouchCancel:onPanEnd,onMouseDown:onPanStart,onMouseMove:onPanMove,onMouseUp:onPanEnd,onMouseLeave:onPanEnd}:void 0]}},"./src/lib/touch/UIPanGestureRecognizer.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{f:()=>UIPanGestureRecognizer});var _dom__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/lib/dom.tsx");class UIPanGestureRecognizer{initialTime=0;x1=0;y1=0;x2=0;y2=0;setInitialTimeOnce(){0===this.initialTime&&(this.initialTime=Date.now())}setStartCoords(event){const{clientX,clientY}=(0,_dom__WEBPACK_IMPORTED_MODULE_0__.wA)(event);this.x1=clientX,this.y1=clientY}setEndCoords(event){const{clientX,clientY}=(0,_dom__WEBPACK_IMPORTED_MODULE_0__.wA)(event);this.x2=clientX,this.y2=clientY}delta(){return{x:this.x2-this.x1,y:this.y2-this.y1}}distance(){const{x,y}=this.delta();return Math.sqrt(Math.pow(x,2)+Math.pow(y,2))}velocity(){const deltaTime=(Date.now()-this.initialTime)/1e3;if(deltaTime<=0)return{x:0,y:0};const{x,y}=this.delta();return{x:x/deltaTime,y:y/deltaTime}}angle(){const deltaX=this.x2-this.x1,deltaY=this.y2-this.y1,degrees=180*Math.atan2(deltaY,deltaX)/Math.PI;return degrees<0?360+degrees:degrees}direction(){const{x,y}=this.delta();return Math.abs(x)>Math.abs(y)?{axis:"x",direction:x>0?1:x<0?-1:null}:{axis:"y",direction:y>0?1:y<0?-1:null}}reset(){this.initialTime=0,this.x1=this.y1=0,this.x2=this.y2=0}}}}]);