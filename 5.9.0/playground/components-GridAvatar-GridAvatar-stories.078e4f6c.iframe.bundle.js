"use strict";(self.webpackChunk_vkontakte_vkui=self.webpackChunk_vkontakte_vkui||[]).push([[1310],{"../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[13].use[1]!../../node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[13].use[2]!./src/components/GridAvatar/GridAvatar.module.css":function(e,t,r){var n=r("../../node_modules/css-loader/dist/runtime/noSourceMaps.js"),a=r.n(n),s=r("../../node_modules/css-loader/dist/runtime/api.js"),i=r.n(s)()(a());i.push([e.id,".GridAvatar--zMaTn{border-radius:50%}.GridAvatar__in--Rnx3A{border-radius:inherit;display:flex;flex-flow:column wrap;height:100%;overflow:hidden;width:100%}.GridAvatar__item--hQ52f{background-position:50%;background-size:cover;height:calc(50% - 2px / 2);height:calc(50% - var(--vkui_internal--grid_avatar_image_offset) / 2);margin-right:2px;margin-right:var(--vkui_internal--grid_avatar_image_offset);width:calc(50% - 2px / 2);width:calc(50% - var(--vkui_internal--grid_avatar_image_offset) / 2)}.GridAvatar__item--hQ52f:only-child{width:100%}.GridAvatar__item--hQ52f:first-child:not(:nth-last-child(4)),.GridAvatar__item--hQ52f:nth-child(2):last-child{height:100%}.GridAvatar__item--hQ52f:nth-last-child(4),.GridAvatar__item--hQ52f:nth-last-child(n+3)~.GridAvatar__item--hQ52f:nth-last-child(2){margin-bottom:2px;margin-bottom:var(--vkui_internal--grid_avatar_image_offset)}",""]),i.locals={GridAvatar:"GridAvatar--zMaTn",GridAvatar__in:"GridAvatar__in--Rnx3A",GridAvatar__item:"GridAvatar__item--hQ52f"},t.Z=i},"../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[13].use[1]!../../node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[13].use[2]!./src/components/GridAvatar/GridAvatarBadge/GridAvatarBadge.module.css":function(e,t,r){var n=r("../../node_modules/css-loader/dist/runtime/noSourceMaps.js"),a=r.n(n),s=r("../../node_modules/css-loader/dist/runtime/api.js"),i=r.n(s)()(a());i.push([e.id,".GridAvatarBadge--J_6Ka{bottom:0;right:0}.GridAvatarBadge--shifted--jEyVM{bottom:-2px;right:-2px}",""]),i.locals={GridAvatarBadge:"GridAvatarBadge--J_6Ka","GridAvatarBadge--shifted":"GridAvatarBadge--shifted--jEyVM"},t.Z=i},"./src/components/GridAvatar/GridAvatar.stories.tsx":function(e,t,r){r.r(t),r.d(t,{Playground:function(){return N},default:function(){return T}});var n,a,s,i=r("../../node_modules/react/jsx-runtime.js"),o=r("../../node_modules/react/index.js"),d=r("../../tools/storybook-addon-cartesian/src/index.tsx"),c=r("./src/storybook/constants.ts"),l=r("./src/testing/icons.tsx"),u=r("./src/testing/mock.ts"),m=r("./src/components/ImageBase/types.ts"),p=r("../../node_modules/@vkontakte/vkjs/lib/es6/index.js"),f=r("./src/lib/warnOnce.ts"),g=r("./src/components/ImageBase/ImageBase.tsx"),v=r("./src/components/ImageBase/context.ts"),b=r("../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),y=r.n(b),O=r("../../node_modules/style-loader/dist/runtime/singletonStyleDomAPI.js"),A=r.n(O),_=r("../../node_modules/style-loader/dist/runtime/insertBySelector.js"),j=r.n(_),h=r("../../node_modules/style-loader/dist/runtime/setAttributesWithAttributesAndNonce.js"),G=r.n(h),S=r("../../node_modules/style-loader/dist/runtime/insertStyleElement.js"),B=r.n(S),w=r("../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[13].use[1]!../../node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[13].use[2]!./src/components/GridAvatar/GridAvatarBadge/GridAvatarBadge.module.css"),P={attributes:{class:"vkui-style"}};P.setAttributes=G(),P.insert=j().bind(null,"head"),P.domAPI=A(),P.insertStyleElement=B(),y()(w.Z,P);var k=w.Z&&w.Z.locals?w.Z.locals:void 0,E=function(e){var t=e.className,r=function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},s=Object.keys(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(e,["className"]),n=o.useContext(v.R).size;return(0,i.jsx)(g.v.Badge,function(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r})(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}),e}(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){!function(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(e,t,r[t])})}return e}({},r),{className:(0,p.AK)(k.GridAvatarBadge,n<96&&k["GridAvatarBadge--shifted"],t)}))};try{E.displayName="GridAvatarBadge",E.__docgenInfo={description:"",displayName:"GridAvatarBadge",props:{background:{defaultValue:null,description:'Вид подложки под иконку.\n\n- `"stroke"` – имитирует вырез (⚠️ если фон под компонентом динамический, то ожидайте баг).\n- `"shadow"` – добавляет небольшую тень.',name:"background",required:!1,type:{name:"enum",value:[{value:'"shadow"'},{value:'"stroke"'}]}},children:{defaultValue:null,description:"Принимает иконку.\n\n> \uD83D\uDCDD Нужный для `<ImageBase size={...} />` размер можно узнать из функции `getBadgeIconSizeByImageBaseSize()`.\n\n> Предпочтительней использовать иконки из `@vkontakte/icons`.\n\n> \uD83D\uDCCA️ Если вы хотите передать кастомную иконку, то следует именовать её по шаблону `Icon<size><name>`. Или же\n> чтобы в неё был передан параметр `width`. Тогда мы сможем выводить в консоль подсказку правильного ли размера вы\n> использовали иконку.",name:"children",required:!0,type:{name:"ReactElement<ImageBaseExpectedIconProps, string | JSXElementConstructor<any>>"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},getRootRef:{defaultValue:null,description:"",name:"getRootRef",required:!1,type:{name:"Ref<HTMLDivElement>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/GridAvatar/GridAvatarBadge/GridAvatarBadge.tsx#GridAvatarBadge"]={docgenInfo:E.__docgenInfo,name:"GridAvatarBadge",path:"src/components/GridAvatar/GridAvatarBadge/GridAvatarBadge.tsx#GridAvatarBadge"})}catch(e){}var x=r("../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[13].use[1]!../../node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[13].use[2]!./src/components/GridAvatar/GridAvatar.module.css"),I={attributes:{class:"vkui-style"}};I.setAttributes=G(),I.insert=j().bind(null,"head"),I.domAPI=A(),I.insertStyleElement=B(),y()(x.Z,I);var R=x.Z&&x.Z.locals?x.Z.locals:void 0;(0,f.O)("GridAvatar");var D=function(e){var t=e.src,r=e.size,n=e.className,a=e.children,s=function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},s=Object.keys(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(e,["src","size","className","children"]);return(0,i.jsxs)(g.v,function(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r})(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}),e}(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){!function(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(e,t,r[t])})}return e}({},s),{size:void 0===r?48:r,className:(0,p.AK)(R.GridAvatar,n),children:[(0,i.jsx)("div",{className:R.GridAvatar__in,"aria-hidden":!0,children:(void 0===t?[]:t).map(function(e,t){return t<4?(0,i.jsx)("div",{className:R.GridAvatar__item,style:{backgroundImage:"url(".concat(e,")")}},e):null})}),a]}))};D.Badge=E;try{D.displayName="GridAvatar",D.__docgenInfo={description:"",displayName:"GridAvatar",props:{src:{defaultValue:{value:"[]"},description:"Массив со ссылками. От 1 до 4 элементов.",name:"src",required:!1,type:{name:"string[]"}},getRootRef:{defaultValue:null,description:"",name:"getRootRef",required:!1,type:{name:"Ref<HTMLDivElement>"}},getRef:{defaultValue:null,description:"",name:"getRef",required:!1,type:{name:"Ref<HTMLImageElement>"}},size:{defaultValue:{value:"48"},description:"Задаёт размер картинки.\n\nИспользуйте размеры заданные дизайн-системой `16 | 20 | 24 | 28 | 32 | 36 | 40 | 44 | 48 | 56 | 64 | 72 | 80 | 88 | 96`.\n\n> ⚠️ Использование кастомного размера – это пограничный кейс.",name:"size",required:!1,type:{name:"LiteralUnion<16 | 20 | 24 | 28 | 32 | 36 | 40 | 44 | 48 | 56 | 64 | 72 | 80 | 88 | 96, number>"}},withBorder:{defaultValue:null,description:"Включает или отключает обводку.",name:"withBorder",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/GridAvatar/GridAvatar.tsx#GridAvatar"]={docgenInfo:D.__docgenInfo,name:"GridAvatar",path:"src/components/GridAvatar/GridAvatar.tsx#GridAvatar"})}catch(e){}try{Badge.displayName="GridAvatar.Badge",Badge.__docgenInfo={description:"",displayName:"GridAvatar.Badge",props:{background:{defaultValue:null,description:'Вид подложки под иконку.\n\n- `"stroke"` – имитирует вырез (⚠️ если фон под компонентом динамический, то ожидайте баг).\n- `"shadow"` – добавляет небольшую тень.',name:"background",required:!1,type:{name:"enum",value:[{value:'"shadow"'},{value:'"stroke"'}]}},children:{defaultValue:null,description:"Принимает иконку.\n\n> \uD83D\uDCDD Нужный для `<ImageBase size={...} />` размер можно узнать из функции `getBadgeIconSizeByImageBaseSize()`.\n\n> Предпочтительней использовать иконки из `@vkontakte/icons`.\n\n> \uD83D\uDCCA️ Если вы хотите передать кастомную иконку, то следует именовать её по шаблону `Icon<size><name>`. Или же\n> чтобы в неё был передан параметр `width`. Тогда мы сможем выводить в консоль подсказку правильного ли размера вы\n> использовали иконку.",name:"children",required:!0,type:{name:"ReactElement<ImageBaseExpectedIconProps, string | JSXElementConstructor<any>>"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},getRootRef:{defaultValue:null,description:"",name:"getRootRef",required:!1,type:{name:"Ref<HTMLDivElement>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/GridAvatar/GridAvatar.tsx#GridAvatar.Badge"]={docgenInfo:D.Badge.__docgenInfo,name:"GridAvatar.Badge",path:"src/components/GridAvatar/GridAvatar.tsx#GridAvatar.Badge"})}catch(e){}function z(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){!function(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(e,t,r[t])})}return e}function C(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r})(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}),e}var T={title:"Blocks/GridAvatar",component:D,parameters:c.tW,argTypes:{badged:{control:"boolean"},size:{control:{type:"select"},options:m.R}},decorators:[d.nW]},N={render:function(e){var t=e.badged,r=e.size,n=void 0===r?48:r,a=function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},s=Object.keys(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(e,["badged","size"]),s=n>=24&&t?(0,i.jsx)(D.Badge,{children:(0,i.jsx)(l.BZ,{})}):void 0;return(0,i.jsx)(D,C(z({},a),{size:n,children:s}))},args:{src:[(0,u.E$)(),(0,u.E$)(),(0,u.E$)(),(0,u.E$)()],badged:!1}};N.parameters=C(z({},N.parameters),{docs:C(z({},null===(n=N.parameters)||void 0===n?void 0:n.docs),{source:z({originalSource:"{\n  render: ({\n    badged,\n    size = 48,\n    ...args\n  }) => {\n    const badge = size >= 24 && badged ? <GridAvatar.Badge>\n          <IconExampleForBadgeBasedOnImageBaseSize />\n        </GridAvatar.Badge> : undefined;\n    return <GridAvatar {...args} size={size}>\n        {badge}\n      </GridAvatar>;\n  },\n  args: {\n    src: [getAvatarUrl(), getAvatarUrl(), getAvatarUrl(), getAvatarUrl()],\n    badged: false\n  }\n}"},null===(s=N.parameters)||void 0===s?void 0:null===(a=s.docs)||void 0===a?void 0:a.source)})})},"./src/components/ImageBase/helpers.ts":function(e,t,r){function n(e){return e<=20?12:e>20&&e<=28?16:e>28&&e<=32?20:e>32&&e<=44?24:e>44&&e<=64?28:n.MAX_SIZE}function a(e){return e<=36?12:e>36&&e<=48?16:e>48&&e<=64?20:a.MAX_SIZE}function s(e){return e<=20?12:e>20&&e<=24?16:e>24&&e<=28?18:e>28&&e<=40?20:e>40&&e<=48?24:e>48&&e<=88?28:s.MAX_SIZE}r.d(t,{V1:function(){return n},dT:function(){return s},zx:function(){return a}}),n.MAX_SIZE=36,a.MAX_SIZE=24,s.MAX_SIZE=32}}]);