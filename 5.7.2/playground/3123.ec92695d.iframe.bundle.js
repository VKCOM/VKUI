"use strict";(self.webpackChunk_vkontakte_vkui=self.webpackChunk_vkontakte_vkui||[]).push([[3123],{"../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[13].use[1]!../../node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[13].use[2]!./src/components/ModalRoot/ModalRoot.module.css":function(e,t,n){var o=n("../../node_modules/css-loader/dist/runtime/noSourceMaps.js"),r=n.n(o),i=n("../../node_modules/css-loader/dist/runtime/api.js"),a=n.n(i)()(r());a.push([e.id,".ModalRoot--YulRP,.ModalRoot__mask--_VotF{height:100%;width:100%}.ModalRoot__mask--_VotF{animation:animation-fade-in--AVtO_ .32s ease;background:rgba(0,0,0,.4);left:0;opacity:1;position:absolute;top:0;transition:opacity 167ms ease-out;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.ModalRoot--touched--z3J8A .ModalRoot__mask--_VotF{transition:none}.ModalRoot--switching--AZk_F .ModalRoot__mask--_VotF{pointer-events:none}.ModalRoot__viewport--h9Qpt{bottom:0;left:0;pointer-events:none;position:absolute;right:0;top:0}:not(.ModalRoot--desktop--Y5IrY).ModalRoot--YulRP .ModalRoot__viewport--h9Qpt{top:0;top:var(--vkui_internal--safe_area_inset_top)}:not(.ModalRoot--desktop--Y5IrY).ModalRoot--vkapps--mM2lE .ModalRoot__viewport--h9Qpt{top:calc(0px + 56px);top:calc(var(--vkui_internal--safe_area_inset_top) + var(--vkui--size_panel_header_height--regular))}.ModalRoot__modal--wfUdy{box-sizing:border-box;height:100%;position:absolute;width:100%}@keyframes animation-fade-in--AVtO_{0%{opacity:0}to{opacity:1}}",""]),a.locals={ModalRoot:"ModalRoot--YulRP",ModalRoot__mask:"ModalRoot__mask--_VotF","animation-fade-in":"animation-fade-in--AVtO_","ModalRoot--touched":"ModalRoot--touched--z3J8A","ModalRoot--switching":"ModalRoot--switching--AZk_F",ModalRoot__viewport:"ModalRoot__viewport--h9Qpt","ModalRoot--desktop":"ModalRoot--desktop--Y5IrY","ModalRoot--vkapps":"ModalRoot--vkapps--mM2lE",ModalRoot__modal:"ModalRoot__modal--wfUdy"},t.Z=a},"../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[13].use[1]!../../node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[13].use[2]!./src/components/Placeholder/Placeholder.module.css":function(e,t,n){var o=n("../../node_modules/css-loader/dist/runtime/noSourceMaps.js"),r=n.n(o),i=n("../../node_modules/css-loader/dist/runtime/api.js"),a=n.n(i)()(r());a.push([e.id,".Placeholder--QT9fK{align-items:center;box-sizing:border-box;display:flex;flex-direction:column;justify-content:center;text-align:center}.Placeholder--withPadding--U9MOX{padding:48px 32px}.Placeholder--stretched--t1fH0{flex:1 0;height:100%;padding-bottom:inherit;padding-top:inherit}.Placeholder__icon--if6hr{color:#99a2ad;color:var(--vkui--color_icon_secondary);display:inline-block;margin-bottom:12px;vertical-align:top}.Placeholder__header--WnYo4{color:#000;color:var(--vkui--color_text_primary)}.Placeholder__text--V1RgX{color:#818c99;color:var(--vkui--color_text_secondary)}.Placeholder__header--WnYo4+.Placeholder__text--V1RgX{margin-top:8px}.Placeholder__action--iajYO:not(:first-child){margin-top:16px}",""]),a.locals={Placeholder:"Placeholder--QT9fK","Placeholder--withPadding":"Placeholder--withPadding--U9MOX","Placeholder--stretched":"Placeholder--stretched--t1fH0",Placeholder__icon:"Placeholder__icon--if6hr",Placeholder__header:"Placeholder__header--WnYo4",Placeholder__text:"Placeholder__text--V1RgX",Placeholder__action:"Placeholder__action--iajYO"},t.Z=a},"./src/components/FocusTrap/FocusTrap.tsx":function(e,t,n){n.d(t,{i:function(){return h}});var o=n("../../node_modules/react/jsx-runtime.js"),r=n("../../node_modules/react/index.js"),i=n("./src/hooks/useExternRef.ts"),a=n("./src/hooks/useGlobalEventListener.ts"),l=n("./src/hooks/useTimeout.ts"),s=n("./src/lib/accessibility.ts"),d=n("./src/lib/dom.tsx"),c=n("./src/lib/useIsomorphicLayoutEffect.ts"),u=n("./src/components/AppRoot/AppRootContext.ts");function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=Array(t);n<t;n++)o[n]=e[n];return o}function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n,o,r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var i=[],a=!0,l=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(e){l=!0,o=e}finally{try{a||null==r.return||r.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var m=s.xA.join(),h=function(e){var t=e.Component,n=void 0===t?"div":t,p=e.onClose,h=e.restoreFocus,v=void 0===h||h,y=e.timeout,g=void 0===y?0:y,b=e.getRootRef,O=e.children,M=function(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n,o,r={},i=Object.keys(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)n=i[o],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(e,["Component","onClose","restoreFocus","timeout","getRootRef","children"]),_=(0,i.Q)(b),S=(0,d.NG)(),P=S.document,R=S.window,j=f(r.useState(null),2),w=j[0],x=j[1],E=f(r.useState(null),2),k=E[0],A=E[1],T=r.useContext(u.A).keyboardInput,C=(0,l.K)(function(){var e;T&&!(null===(e=_.current)||void 0===e?void 0:e.contains(P.activeElement))&&(null==w?void 0:w.length)&&w[0].focus()},g);(0,c.L)(function(){C.set()},[]),(0,c.L)(function(){if(_.current){var e=[];Array.prototype.forEach.call(_.current.querySelectorAll(m),function(t){var n=R.getComputedStyle(t),o=n.display,r=n.visibility;"none"!==o&&"hidden"!==r&&e.push(t)}),0===e.length&&e.push(_.current),x(e)}},[O]);var I=(0,l.K)(function(){k&&k.focus()},g);return(0,c.L)(function(){if(v&&P.activeElement)return A(P.activeElement),function(){I.set()}},[v]),(0,a.J)(P,"keydown",function(e){if((0,s.Vk)(e)===s.R8.TAB&&(null==w?void 0:w.length)){var t=w.length-1,n=w.findIndex(function(t){return t===e.target}),o=-1===n||n===t&&!e.shiftKey;if(o||0===n&&e.shiftKey){e.preventDefault();var r=w[o?0:t];return r!==P.activeElement&&r.focus(),!1}}return p&&(0,s.Vk)(e)===s.R8.ESCAPE&&p(),!0},{capture:!0}),(0,o.jsx)(n,function(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),o.forEach(function(t){!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(e,t,n[t])})}return e}({tabIndex:-1,ref:_},M),{children:O}))};try{h.displayName="FocusTrap",h.__docgenInfo={description:"",displayName:"FocusTrap",props:{restoreFocus:{defaultValue:{value:"true"},description:"",name:"restoreFocus",required:!1,type:{name:"boolean"}},timeout:{defaultValue:{value:"0"},description:"",name:"timeout",required:!1,type:{name:"number"}},onClose:{defaultValue:null,description:"",name:"onClose",required:!1,type:{name:"(() => void)"}},getRootRef:{defaultValue:null,description:"",name:"getRootRef",required:!1,type:{name:"Ref<HTMLElement>"}},Component:{defaultValue:{value:"div"},description:"",name:"Component",required:!1,type:{name:"ElementType<any>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/FocusTrap/FocusTrap.tsx#FocusTrap"]={docgenInfo:h.__docgenInfo,name:"FocusTrap",path:"src/components/FocusTrap/FocusTrap.tsx#FocusTrap"})}catch(e){}},"./src/components/ModalRoot/ModalRootAdaptive.tsx":function(e,t,n){n.d(t,{Y:function(){return ec}});var o=n("../../node_modules/react/jsx-runtime.js"),r=n("../../node_modules/react/index.js"),i=n("./src/hooks/useAdaptivityWithJSMediaQueries.ts"),a=n("./src/components/AppRoot/ScrollContext.tsx"),l=n("../../node_modules/@vkontakte/vkjs/lib/es6/index.js"),s=n("./src/helpers/math.ts");function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c=n("./src/components/ConfigProvider/ConfigProviderContext.tsx");function u(e){return function(t){var n=(0,c.F3)().platform;return(0,o.jsx)(e,function(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),o.forEach(function(t){!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(e,t,n[t])})}return e}({},t),{platform:n}))}}try{u.displayName="withPlatform",u.__docgenInfo={description:"",displayName:"withPlatform",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/hoc/withPlatform.tsx#withPlatform"]={docgenInfo:u.__docgenInfo,name:"withPlatform",path:"src/hoc/withPlatform.tsx#withPlatform"})}catch(e){}var p=n("./src/lib/dom.tsx"),f=n("./src/lib/getNavId.ts"),m=n("./src/lib/platform.ts"),h=n("./src/lib/supportEvents.ts"),v=n("./src/lib/touch.ts"),y=n("./src/lib/warnOnce.ts"),g=n("./src/components/FocusTrap/FocusTrap.tsx"),b=n("./src/components/Touch/Touch.tsx"),O=n("./src/components/Touch/TouchContext.ts"),M=n("./src/components/ModalRoot/ModalRootContext.tsx"),_=n("./src/components/ModalRoot/types.ts"),S=n("./src/lib/useIsomorphicLayoutEffect.ts");function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=Array(t);n<t;n++)o[n]=e[n];return o}function R(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),o.forEach(function(t){!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(e,t,n[t])})}return e}function j(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}function w(e,t){if(e){if("string"==typeof e)return P(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return P(e,t)}}var x=(0,y.O)("ModalRoot");function E(e,t){if("setActive"===t.type&&t.id!==e.activeModal){var n=t.id,o=e.exitingModal||e.activeModal,r=e.history?function(e){return function(e){if(Array.isArray(e))return P(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||w(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e.history):[],i=!!(n&&r.includes(n));return null===n?r=[]:i?r=r.splice(0,r.indexOf(n)+1):r.push(n),{activeModal:n,enteringModal:null,exitingModal:o,history:r,isBack:i}}return"entered"===t.type&&t.id===e.enteringModal?j(R({},e),{enteringModal:null}):"exited"===t.type&&t.id===e.exitingModal?j(R({},e),{exitingModal:null}):"inited"===t.type&&t.id===e.activeModal?j(R({},e),{enteringModal:t.id}):e}function k(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l.ZT,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:l.ZT,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:l.ZT,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:l.ZT,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:l.ZT,d=r.useRef({}).current;(function(e){return r.Children.toArray(e)})(t).forEach(function(e){var t=e.props,n=(0,f.o)(t,x),o=void 0!==n&&d[n]||{id:null!=n?n:null};o.onOpen=e.props.onOpen,o.onOpened=e.props.onOpened,o.onClose=e.props.onClose,o.onClosed=e.props.onClosed,"number"==typeof t.settlingHeight&&(o.settlingHeight=t.settlingHeight),null!==o.id&&(d[o.id]=o)});var c=e&&!d[e]?null:e,u=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n,o,r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var i=[],a=!0,l=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(e){l=!0,o=e}finally{try{a||null==r.return||r.return()}finally{if(l)throw o}}return i}}(e,t)||w(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(r.useReducer(E,{activeModal:c,enteringModal:null,exitingModal:null,history:c?[c]:[],isBack:!1}),2),p=u[0],m=u[1];(0,S.L)(function(){m({type:"setActive",id:null!=c?c:null})},[e]),(0,S.L)(function(){p.activeModal&&(s(d[p.activeModal]),m({type:"inited",id:p.activeModal}))},[p.activeModal]);var h=function(e){var t;return null!=e&&(null===(t=d[e])||void 0===t?void 0:t.type)===_.w.CARD},v=r.useCallback(function(e){if(e){var t=d[e];(0,l.mf)(t.onOpened)?t.onOpened():(0,l.mf)(o)&&o(e)}m({type:"entered",id:e})},[d,o]),y=r.useCallback(function(e){if(e){var t=d[e];(0,l.mf)(t.onClosed)?t.onClosed():(0,l.mf)(a)&&a(e)}m({type:"exited",id:e})},[d,a]),g=!!(p.exitingModal&&(h(e)||h(p.exitingModal))),b=r.useCallback(function(e){return e?d[e]:void 0},[d]);return j(R({onEnter:function(){var e=p.activeModal&&d[p.activeModal];e&&((0,l.mf)(e.onOpen)?e.onOpen():(0,l.mf)(n)&&e.id&&n(e.id))},onEntered:v,onExit:function(){var e=p.activeModal&&d[p.activeModal];e&&((0,l.mf)(e.onClose)?e.onClose():(0,l.mf)(i)&&e.id&&i(e.id))},onExited:y},p),{delayEnter:g,getModalState:b})}function A(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l.ZT;return function(t){return function(n){var r=k(n.activeModal,n.children,n.onOpen,n.onOpened,n.onClose,n.onClosed,e);return(0,o.jsx)(t,R({},n,r))}}}try{k.displayName="useModalManager",k.__docgenInfo={description:"Реализует переход модалок. При смене activeModal m1 -> m2:\n1. activeModal: m1, exitingModal: null, enteringModal: null, триггер перехода\n2. activeModal: m2, exitingModal: m1, enteringModal: null, рендерим m2 чтобы прошел init, начинаем анимацию выхода\nодновременный переход между ModalPage:\n  3a. activeModal: m2, exitingModal: m1, enteringModal: m2\n  4a. exitingModal и enteringModal переходят в null в порядке завершения анимации\nИЛИ дожидаемся скрытия ModalCard\n  3b. activeModal: m2, exitingModal: null, enteringModal: m2\n  4b. enteringModal переходит в null после завершения анимации\n5. activeModal: m2, exitingModal: null, enteringModal: null, переход закончен",displayName:"useModalManager",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/ModalRoot/useModalManager.tsx#useModalManager"]={docgenInfo:k.__docgenInfo,name:"useModalManager",path:"src/components/ModalRoot/useModalManager.tsx#useModalManager"})}catch(e){}try{A.displayName="withModalManager",A.__docgenInfo={description:"",displayName:"withModalManager",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/ModalRoot/useModalManager.tsx#withModalManager"]={docgenInfo:A.__docgenInfo,name:"withModalManager",path:"src/components/ModalRoot/useModalManager.tsx#withModalManager"})}catch(e){}var T=n("../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),C=n.n(T),I=n("../../node_modules/style-loader/dist/runtime/singletonStyleDomAPI.js"),D=n.n(I),Y=n("../../node_modules/style-loader/dist/runtime/insertBySelector.js"),F=n.n(Y),V=n("../../node_modules/style-loader/dist/runtime/setAttributesWithAttributesAndNonce.js"),q=n.n(V),L=n("../../node_modules/style-loader/dist/runtime/insertStyleElement.js"),N=n.n(L),H=n("../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[13].use[1]!../../node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[13].use[2]!./src/components/ModalRoot/ModalRoot.module.css"),K={attributes:{class:"vkui-style"}};K.setAttributes=q(),K.insert=F().bind(null,"head"),K.domAPI=D(),K.insertStyleElement=N(),C()(H.Z,K);var B=H.Z&&H.Z.locals?H.Z.locals:void 0;function Z(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=Array(t);n<t;n++)o[n]=e[n];return o}function G(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function U(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function W(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function z(e){return(z=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),o.forEach(function(t){W(e,t,n[t])})}return e}function X(e,t){return(X=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function J(e){return function(e){if(Array.isArray(e))return Z(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Z(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Z(e,t)}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var $=(0,y.O)("ModalRoot");function ee(e,t){return!!t&&e>=t[0]&&e<=t[1]}function et(e){return(0,s.uZ)(e,0,98)}var en=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&X(e,t)}(n,e);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,o=z(e);if(t){var r=z(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return function(e,t){return t&&("object"===function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}(t)||"function"==typeof t)?t:G(e)}(this,n)}}(n);function n(e){var o,i;return!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,n),W(G(o=t.call(this,e)),"documentScrolling",!1),W(G(o),"maskElementRef",void 0),W(G(o),"viewportRef",r.createRef()),W(G(o),"maskAnimationFrame",void 0),W(G(o),"modalRootContext",void 0),W(G(o),"frameIds",void 0),W(G(o),"restoreFocusTo",void 0),W(G(o),"preventTouch",function(e){if(!e)return!1;for(;e.originalEvent;)e=e.originalEvent;return e.preventDefault&&e.preventDefault(),!1}),W(G(o),"updateModalHeight",function(){var e=o.props.getModalState(o.props.activeModal);e&&e.type===_.w.PAGE&&(o.props.enteringModal?o.waitTransitionFinish(e,function(){requestAnimationFrame(function(){return o.checkPageContentHeight()})}):requestAnimationFrame(function(){return o.checkPageContentHeight()}))}),W(G(o),"onTouchMove",function(e){if(!o.props.exitingModal){var t=o.props.getModalState(o.props.activeModal);return t?t.type===_.w.PAGE?o.onPageTouchMove(e,t):t.type===_.w.CARD?o.onCardTouchMove(e,t):void 0:void 0}}),W(G(o),"onTouchEnd",function(e){var t=o.props.getModalState(o.props.activeModal);return(null==t?void 0:t.type)===_.w.PAGE?o.onPageTouchEnd(e,t):(null==t?void 0:t.type)===_.w.CARD?o.onCardTouchEnd(e,t):void 0}),W(G(o),"onScroll",function(e){var t,n=o.props.activeModal,r=e.target;if(n){var i=o.props.getModalState(n);(null==i?void 0:i.type)===_.w.PAGE&&(null==i?void 0:null===(t=i.contentElement)||void 0===t?void 0:t.contains(r))&&(i.contentScrolled=!0,i.contentScrollStopTimeout&&clearTimeout(i.contentScrollStopTimeout),i.contentScrollStopTimeout=setTimeout(function(){i.contentScrolled&&(i.contentScrolled=!1)},250))}}),o.state={touchDown:!1,dragging:!1,modalOpenedLog:[]},o.maskElementRef=r.createRef(),o.modalRootContext={updateModalHeight:o.updateModalHeight,registerModal:function(e){var t=e.id,n=function(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n,o,r={},i=Object.keys(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)n=i[o],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(e,["id"]);return Object.assign(null!==(i=o.props.getModalState(t))&&void 0!==i?i:{},n)},onClose:function(){return o.props.onExit()},isInsideModal:!0},o.frameIds={},o}return!function(e,t,n){t&&U(e.prototype,t),n&&U(e,n)}(n,[{key:"timeout",get:function(){return this.props.platform===m.t.IOS?400:320}},{key:"document",get:function(){return this.props.document}},{key:"window",get:function(){return this.props.window}},{key:"getModals",value:function(){return r.Children.toArray(this.props.children)}},{key:"componentDidMount",value:function(){var e;null===(e=this.window)||void 0===e||e.addEventListener("resize",this.updateModalHeight,!1)}},{key:"componentWillUnmount",value:function(){this.toggleDocumentScrolling(!0),this.window.removeEventListener("resize",this.updateModalHeight,!1)}},{key:"componentDidUpdate",value:function(e){var t=this;if(this.props.exitingModal&&this.props.exitingModal!==e.exitingModal&&this.closeModal(this.props.exitingModal),this.props.enteringModal&&this.props.enteringModal!==e.enteringModal){var n=this.props.enteringModal,o=this.props.getModalState(n);this.props.onEnter(),this.waitTransitionFinish(o,function(){(null==o?void 0:o.innerElement)&&(o.innerElement.style.transitionDelay=""),t.props.onEntered(n)}),(null==o?void 0:o.innerElement)&&(o.innerElement.style.transitionDelay=this.props.delayEnter?"".concat(this.timeout,"ms"):"",this.animateTranslate(o,o.translateY))}this.props.activeModal&&!e.activeModal&&(this.restoreFocusTo=this.document.activeElement),this.props.activeModal||this.props.exitingModal||!this.restoreFocusTo||(this.restoreFocusTo.focus(),this.restoreFocusTo=null),this.toggleDocumentScrolling(!this.props.activeModal&&!this.props.exitingModal)}},{key:"toggleDocumentScrolling",value:function(e){this.documentScrolling!==e&&(this.documentScrolling=e,e?this.window.removeEventListener("touchmove",this.preventTouch,{passive:!1}):this.window.addEventListener("touchmove",this.preventTouch,{passive:!1}))}},{key:"checkPageContentHeight",value:function(){var e=this.props.getModalState(this.props.activeModal);if((null==e?void 0:e.type)===_.w.PAGE&&(null==e?void 0:e.modalElement)){var t=Q({},e);er(e);var n=Q({},e),o=!1;t.expandable===n.expandable?t.translateYFrom!==n.translateYFrom&&(o=!0):o=!0,o&&this.animateTranslate(e,e.translateY)}}},{key:"closeModal",value:function(e){var t,n,o,r=this;this.setState({touchDown:!1});var i=this.props.getModalState(e);if(!i){e&&$("closeActiveModal: модальное окно (страница) ".concat(e," не существует"),"error");return}this.state.modalOpenedLog.length||this.setState(function(t){return{modalOpenedLog:J(t.modalOpenedLog).concat([e])}});var a=this.props.getModalState(this.props.activeModal),l=!!a&&a.type===_.w.PAGE,s=!!i&&i.type===_.w.PAGE;this.waitTransitionFinish(i,function(){return r.props.onExited(e)});var d=s&&l&&(null!==(t=i.translateY)&&void 0!==t?t:0)<=(null!==(n=null==a?void 0:a.translateYFrom)&&void 0!==n?n:0)&&!this.props.isBack?(null!==(o=null==a?void 0:a.translateYFrom)&&void 0!==o?o:0)+10:100;this.animateTranslate(i,d),a?a.id&&!this.state.modalOpenedLog.includes(a.id)&&(a.translateY=void 0,this.setState(function(e){return{modalOpenedLog:J(e.modalOpenedLog).concat([a.id])}})):(this.setMaskOpacity(i,0),this.setState({modalOpenedLog:[]}),i.translateY=void 0)}},{key:"onPageTouchMove",value:function(e,t){var n=e.shiftY,o=e.originalEvent,r=o.target;if(!e.isY){(null===(u=this.viewportRef.current)||void 0===u?void 0:u.contains(r))&&o.preventDefault();return}if(!(null===(d=t.innerElement)||void 0===d?void 0:d.contains(r)))return o.preventDefault();o.stopPropagation();var i=t.expandable,a=t.contentScrolled,l=t.collapsed,s=t.expanded;if(this.state.touchDown||(t.touchStartContentScrollTop=null!==(f=null===(p=t.contentElement)||void 0===p?void 0:p.scrollTop)&&void 0!==f?f:0,this.setState({touchDown:!0})),!a&&(null===t.touchMovePositive&&(t.touchMovePositive=n>0),!t.expandable||l||s&&t.touchMovePositive&&0===t.touchStartContentScrollTop||(null===(c=t.headerElement)||void 0===c?void 0:c.contains(r)))){if(o.preventDefault(),!i&&n<0||!this.window)return;this.state.dragging||this.setState({dragging:!0});var d,c,u,p,f,h,y=n/this.window.innerHeight*100,g=(0,v.Dc)(y,72,.8,this.props.platform!==m.t.IOS);t.touchShiftYPercent=y,t.translateYCurrent=et((null!==(h=t.translateY)&&void 0!==h?h:0)+g),this.animateTranslate(t,t.translateYCurrent),this.setMaskOpacity(t)}}},{key:"onCardTouchMove",value:function(e,t){var n=e.originalEvent,o=e.shiftY,r=n.target;if(null===(i=t.innerElement)||void 0===i?void 0:i.contains(r)){this.state.touchDown||this.setState({touchDown:!0,dragging:!0});var i,a,l=o/t.innerElement.offsetHeight*100,s=(0,v.Dc)(l,72,1.2,this.props.platform!==m.t.IOS);t.touchShiftYPercent=l,t.translateYCurrent=Math.max(0,(null!==(a=t.translateY)&&void 0!==a?a:0)+s),this.animateTranslate(t,t.translateYCurrent),this.setMaskOpacity(t)}}},{key:"onPageTouchEnd",value:function(e,t){var n=this,o=e.startY,r=e.shiftY;if(t.contentScrolled=!1,t.touchMovePositive=null,this.state.dragging&&this.window){var i,a,l,s,d,c,u,p=(o+r)/this.window.innerHeight*100,f=null!==(a=t.translateYCurrent)&&void 0!==a?a:0,m=f/e.duration*144*((null!==(l=t.touchShiftYPercent)&&void 0!==l?l:0)<0?-1:1);f=et(f+m),100!==(f=100!==t.settlingHeight?ee(f,t.expandedRange)?null!==(d=null===(s=t.expandedRange)||void 0===s?void 0:s[0])&&void 0!==d?d:0:ee(f,t.collapsedRange)?null!==(c=t.translateYFrom)&&void 0!==c?c:0:ee(f,t.hiddenRange)?100:null!==(u=t.translateYFrom)&&void 0!==u?u:0:ee(f,[0,25])?0:100)&&p>=75&&(f=100),t.translateY=f,t.translateYCurrent=f,t.collapsed=f>0&&f<p,t.expanded=0===f,t.hidden=100===f,t.hidden&&this.props.onExit(),i=function(){t.hidden||n.animateTranslate(t,t.translateY),n.setMaskOpacity(t)}}this.setState({touchDown:!1,dragging:!1},i)}},{key:"onCardTouchEnd",value:function(e,t){var n=e.duration,o=this;if(this.state.dragging){var r,i,a,l=null!==(i=t.translateYCurrent)&&void 0!==i?i:0,s=l/n*144*((null!==(a=t.touchShiftYPercent)&&void 0!==a?a:0)<0?-1:1);l=(l=Math.max(0,l+s))>=30?100:0,t.translateY=l,t.hidden=100===l,t.hidden&&this.props.onExit(),r=function(){t.hidden||o.animateTranslate(t,t.translateY),o.setMaskOpacity(t)}}this.setState({touchDown:!1,dragging:!1},r)}},{key:"waitTransitionFinish",value:function(e,t){if(h.g.supported){var n,o=function(){var n;null==e||null===(n=e.innerElement)||void 0===n||n.removeEventListener(h.g.name,o),t()};null==e||null===(n=e.innerElement)||void 0===n||n.addEventListener(h.g.name,o)}else setTimeout(t,this.timeout)}},{key:"animateTranslate",value:function(e,t){var n="animateTranslateFrame".concat(e.id);cancelAnimationFrame(this.frameIds[n]),this.frameIds[n]=requestAnimationFrame(function(){!function(e,t){e&&(e.style.transform=t,e.style.webkitTransform=t)}(e.innerElement,"translate3d(0, ".concat(t,"%, 0)"))})}},{key:"setMaskOpacity",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,o=this;(null!==n||(null===(t=this.props.history)||void 0===t?void 0:t[0])===e.id)&&(this.maskAnimationFrame&&cancelAnimationFrame(this.maskAnimationFrame),this.maskAnimationFrame=requestAnimationFrame(function(){if(o.maskElementRef.current){var t=e.translateY,r=void 0===t?0:t,i=e.translateYCurrent,a=null===n?1-((void 0===i?0:i)-r)/(100-r)||0:n;o.maskElementRef.current.style.opacity=(0,s.uZ)(a,0,100).toString()}}))}},{key:"render",value:function(){var e,t=this,n=this.props,r=n.activeModal,i=n.exitingModal,a=n.enteringModal,s=this.state,d=s.touchDown,u=s.dragging;return r||i?(0,o.jsx)(O.Z.Provider,{value:!0,children:(0,o.jsx)(M.E.Provider,{value:this.modalRootContext,children:(0,o.jsxs)(b.X,{className:(0,l.AK)(B.ModalRoot,(null===(e=this.props.configProvider)||void 0===e?void 0:e.webviewType)===c.Uv.VKAPPS&&B["ModalRoot--vkapps"],d&&(0,l.AK)(B["ModalRoot--touched"],"vkuiInternalModalRoot--touched"),!!(a||i)&&(0,l.AK)(B["ModalRoot--switching"],"vkuiInternalModalRoot--switching")),onMove:this.onTouchMove,onEnd:this.onTouchEnd,onScroll:this.onScroll,children:[(0,o.jsx)("div",{className:B.ModalRoot__mask,onClick:this.props.onExit,ref:this.maskElementRef}),(0,o.jsx)("div",{className:B.ModalRoot__viewport,ref:this.viewportRef,children:this.getModals().map(function(e){var n=(0,f.o)(e.props,$),a=t.props.getModalState(n);if(n!==r&&n!==i||!a)return null;var s=Q({},a),d=s.type===_.w.PAGE,c="modal-".concat(n);return(0,o.jsx)(g.i,{getRootRef:function(e){var o=t.props.getModalState(n);o&&(o.modalElement=e)},onClose:t.props.onExit,timeout:t.timeout,className:(0,l.AK)(B.ModalRoot__modal,u&&"vkuiInternalModalRoot__modal--dragging",d&&s.expandable&&"vkuiInternalModalRoot__modal--expandable",d&&s.collapsed&&"vkuiInternalModalRoot__modal--collapsed"),restoreFocus:!1,children:e},c)})})]})})}):null}}]),n}(r.Component),eo=function(e,t,n){return function(i){var a=r.useContext(t);return(0,o.jsx)(e,function(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),o.forEach(function(t){d(e,t,n[t])})}return e}({},i),d({},n,a)))}}(u((0,p.N3)(A(function(e){switch(e.type){case _.w.PAGE:return e.settlingHeight=e.settlingHeight||75,er(e);case _.w.CARD:return function(e){e.translateY=0}(e)}})(en))),c.qp,"configProvider");function er(e){var t,n,o,r,i,a=e.contentElement,l=(null==a?void 0:a.firstElementChild).offsetHeight,s=e.translateY;e.expandable=l>(null!==(u=null==a?void 0:a.clientHeight)&&void 0!==u?u:0)||100===e.settlingHeight||e.expanded;var d=!1,c=!1;if(e.expandable){var u,p,f,m,h,v,y,g=(p=100-(null!==(y=e.settlingHeight)&&void 0!==y?y:0))/2,b=100-p;m=[0,g],h=[g,p+b/4],v=[p+b/4,100],d=p>0,c=p<=0,f=p}else m=[f=p=100-(l+(null!==(r=null===(t=e.headerElement)||void 0===t?void 0:t.offsetHeight)&&void 0!==r?r:0))/(null!==(i=null===(o=e.innerElement)||void 0===o?void 0:null===(n=o.parentElement)||void 0===n?void 0:n.offsetHeight)&&void 0!==i?i:0)*100,f+25],h=[f+25,f+25],v=[f+25,f+100];(e.expandable&&f>(null!=s?s:100)||100===e.settlingHeight)&&(f=0),0===f&&(c=!0,d=!1),e.expandedRange=m,e.collapsedRange=h,e.hiddenRange=v,e.translateY=f,e.translateYFrom=p,e.collapsed=d,e.expanded=c}try{eo.displayName="ModalRootTouch",eo.__docgenInfo={description:"",displayName:"ModalRootTouch",props:{document:{defaultValue:null,description:"@ignore",name:"document",required:!1,type:{name:"Document"}},onClose:{defaultValue:null,description:"Будет вызвано при начале закрытия активной модалки с её id",name:"onClose",required:!1,type:{name:"((modalId: string) => void)"}},onOpen:{defaultValue:null,description:"Будет вызвано при начале открытия активной модалки с её id",name:"onOpen",required:!1,type:{name:"((modalId: string) => void)"}},window:{defaultValue:null,description:"@ignore",name:"window",required:!1,type:{name:"Window"}},activeModal:{defaultValue:null,description:"",name:"activeModal",required:!1,type:{name:"string | null"}},onOpened:{defaultValue:null,description:"Будет вызвано при окончательном открытии активной модалки с её id",name:"onOpened",required:!1,type:{name:"((modalId: string) => void)"}},onClosed:{defaultValue:null,description:"Будет вызвано при окончательном закрытии активной модалки с её id",name:"onClosed",required:!1,type:{name:"((modalId: string) => void)"}},configProvider:{defaultValue:null,description:"@ignore",name:"configProvider",required:!1,type:{name:"ConfigProviderContextInterface"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/ModalRoot/ModalRoot.tsx#ModalRootTouch"]={docgenInfo:eo.__docgenInfo,name:"ModalRootTouch",path:"src/components/ModalRoot/ModalRoot.tsx#ModalRootTouch"})}catch(e){}var ei=n("./src/hooks/useObjectMemo.ts"),ea=n("./src/hooks/usePrevious.ts"),el=n("./src/hooks/useWaitTransitionFinish.ts"),es=(0,y.O)("ModalRoot"),ed=function(e){var t,n=e.activeModal,i=e.children,a=e.onOpen,d=e.onOpened,u=e.onClose,h=e.onClosed,v=r.useRef(null),y=r.useRef(void 0),b=r.useRef(void 0),O=(0,p.NG)().document,_=(0,c.F3)(),S=_.webviewType,P=_.platform,R=k(n,i,a,d,u,h,l.ZT),j=R.activeModal,w=R.exitingModal,x=R.onExit,E=R.getModalState,A=R.enteringModal,T=R.onEnter,C=R.onEntered,I=R.onExited,D=R.history,Y=R.delayEnter,F=(0,el.w)().waitTransitionFinish,V=(0,ea.D)({exitingModal:w,enteringModal:A,activeModal:j}),q=(0,ei.r)({updateModalHeight:function(){},registerModal:function(e){var n=e.id,o=function(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n,o,r={},i=Object.keys(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)n=i[o],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(e,["id"]);return Object.assign(null!==(t=E(n))&&void 0!==t?t:{},o)},onClose:x,isInsideModal:!0}),L=P===m.t.IOS?400:320,N=r.Children.toArray(i),H=function(e,t){(null==e?void 0:e.innerElement)&&(e.innerElement.style.transition="",e.innerElement.style.transitionDelay=t&&Y?"".concat(L,"ms"):"",e.innerElement.style.opacity=t?"1":"0")},K=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;(null!==t||(null==D?void 0:D[0])===e.id)&&(y.current&&cancelAnimationFrame(y.current),y.current=requestAnimationFrame(function(){if(v.current){var n=e.translateY,o=void 0===n?0:n,r=e.translateYCurrent,i=null===t?1-((void 0===r?0:r)-o)/(100-o)||0:t;v.current.style.opacity=(0,s.uZ)(i,0,100).toString()}}))},Z=function(){if(A&&V){var e=E(A);if(T(),!V.exitingModal){requestAnimationFrame(function(){A==A&&(F(null==e?void 0:e.innerElement,function(){return C(A)},L),H(e,!0))});return}(null==e?void 0:e.innerElement)&&(e.innerElement.style.transition="none",e.innerElement.style.opacity="1"),C(A)}},G=function(e){var t=E(e);if(t){if(!j){requestAnimationFrame(function(){F(null==t?void 0:t.innerElement,function(){return I(e)},L),H(t,!1),K(t,0)});return}I(e)}};return(r.useEffect(function(){if(V){if(w&&w!==V.exitingModal&&G(w),A&&A!==V.enteringModal&&Z(),j&&!V.activeModal){var e;b.current=null!==(e=null==O?void 0:O.activeElement)&&void 0!==e?e:void 0}j||w||!b.current||(b.current.focus(),b.current=void 0)}}),j||w)?(0,o.jsx)(M.E.Provider,{value:q,children:(0,o.jsxs)("div",{className:(0,l.AK)(B.ModalRoot,S===c.Uv.VKAPPS&&B["ModalRoot--vkapps"],B["ModalRoot--desktop"]),children:[(0,o.jsx)("div",{className:B.ModalRoot__mask,ref:v,onClick:x}),(0,o.jsx)("div",{className:B.ModalRoot__viewport,children:N.map(function(e){var t=(0,f.o)(e.props,es);if(t!==j&&t!==w)return null;var n="modal-".concat(t);return(0,o.jsx)(g.i,{restoreFocus:!1,onClose:x,timeout:L,className:B.ModalRoot__modal,children:e},n)})})]})}):null};try{ed.displayName="ModalRootDesktop",ed.__docgenInfo={description:"",displayName:"ModalRootDesktop",props:{configProvider:{defaultValue:null,description:"@ignore",name:"configProvider",required:!1,type:{name:"ConfigProviderContextInterface"}},platform:{defaultValue:null,description:"@ignore",name:"platform",required:!1,type:{name:"PlatformType"}},activeModal:{defaultValue:null,description:"",name:"activeModal",required:!1,type:{name:"string | null"}},onOpen:{defaultValue:null,description:"Будет вызвано при начале открытия активной модалки с её id",name:"onOpen",required:!1,type:{name:"((modalId: string) => void)"}},onOpened:{defaultValue:null,description:"Будет вызвано при окончательном открытии активной модалки с её id",name:"onOpened",required:!1,type:{name:"((modalId: string) => void)"}},onClose:{defaultValue:null,description:"Будет вызвано при начале закрытия активной модалки с её id",name:"onClose",required:!1,type:{name:"((modalId: string) => void)"}},onClosed:{defaultValue:null,description:"Будет вызвано при окончательном закрытии активной модалки с её id",name:"onClosed",required:!1,type:{name:"((modalId: string) => void)"}},window:{defaultValue:null,description:"@ignore",name:"window",required:!1,type:{name:"Window"}},document:{defaultValue:null,description:"@ignore",name:"document",required:!1,type:{name:"Document"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/ModalRoot/ModalRootDesktop.tsx#ModalRootDesktop"]={docgenInfo:ed.__docgenInfo,name:"ModalRootDesktop",path:"src/components/ModalRoot/ModalRootDesktop.tsx#ModalRootDesktop"})}catch(e){}var ec=function(e){var t=(0,i.o)().isDesktop;(0,a.Pr)(!!e.activeModal);var n=t?ed:eo;return(0,o.jsx)(n,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),o.forEach(function(t){!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(e,t,n[t])})}return e}({},e))};try{ec.displayName="ModalRoot",ec.__docgenInfo={description:"",displayName:"ModalRoot",props:{activeModal:{defaultValue:null,description:"",name:"activeModal",required:!1,type:{name:"string | null"}},onOpen:{defaultValue:null,description:"Будет вызвано при начале открытия активной модалки с её id",name:"onOpen",required:!1,type:{name:"((modalId: string) => void)"}},onOpened:{defaultValue:null,description:"Будет вызвано при окончательном открытии активной модалки с её id",name:"onOpened",required:!1,type:{name:"((modalId: string) => void)"}},onClose:{defaultValue:null,description:"Будет вызвано при начале закрытия активной модалки с её id",name:"onClose",required:!1,type:{name:"((modalId: string) => void)"}},onClosed:{defaultValue:null,description:"Будет вызвано при окончательном закрытии активной модалки с её id",name:"onClosed",required:!1,type:{name:"((modalId: string) => void)"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/ModalRoot/ModalRootAdaptive.tsx#ModalRoot"]={docgenInfo:ec.__docgenInfo,name:"ModalRoot",path:"src/components/ModalRoot/ModalRootAdaptive.tsx#ModalRoot"})}catch(e){}},"./src/components/ModalRoot/types.ts":function(e,t,n){var o;n.d(t,{w:function(){return o}}),function(e){e.PAGE="page",e.CARD="card"}(o||(o={}))},"./src/components/Placeholder/Placeholder.tsx":function(e,t,n){n.d(t,{V:function(){return O}});var o=n("../../node_modules/react/jsx-runtime.js");n("../../node_modules/react/index.js");var r=n("../../node_modules/@vkontakte/vkjs/lib/es6/index.js"),i=n("./src/components/Typography/Headline/Headline.tsx"),a=n("./src/components/Typography/Title/Title.tsx"),l=n("../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),s=n.n(l),d=n("../../node_modules/style-loader/dist/runtime/singletonStyleDomAPI.js"),c=n.n(d),u=n("../../node_modules/style-loader/dist/runtime/insertBySelector.js"),p=n.n(u),f=n("../../node_modules/style-loader/dist/runtime/setAttributesWithAttributesAndNonce.js"),m=n.n(f),h=n("../../node_modules/style-loader/dist/runtime/insertStyleElement.js"),v=n.n(h),y=n("../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[13].use[1]!../../node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[13].use[2]!./src/components/Placeholder/Placeholder.module.css"),g={attributes:{class:"vkui-style"}};g.setAttributes=m(),g.insert=p().bind(null,"head"),g.domAPI=c(),g.insertStyleElement=v(),s()(y.Z,g);var b=y.Z&&y.Z.locals?y.Z.locals:void 0,O=function(e){var t=e.icon,n=e.header,l=e.action,s=e.children,d=e.stretched,c=e.getRootRef,u=e.className,p=e.withPadding,f=void 0===p||p,m=function(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n,o,r={},i=Object.keys(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)n=i[o],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(e,["icon","header","action","children","stretched","getRootRef","className","withPadding"]);return(0,o.jsxs)("div",function(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),o.forEach(function(t){!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(e,t,n[t])})}return e}({},m),{ref:c,className:(0,r.AK)(b.Placeholder,d&&b["Placeholder--stretched"],f&&b["Placeholder--withPadding"],u),children:[(0,r.p7)(t)&&(0,o.jsx)("div",{className:b.Placeholder__icon,children:t}),(0,r.p7)(n)&&(0,o.jsx)(a.D,{level:"2",weight:"2",className:b.Placeholder__header,children:n}),(0,r.p7)(s)&&(0,o.jsx)(i.s,{weight:"3",className:b.Placeholder__text,children:s}),(0,r.p7)(l)&&(0,o.jsx)("div",{className:b.Placeholder__action,children:l})]}))};try{O.displayName="Placeholder",O.__docgenInfo={description:"",displayName:"Placeholder",props:{icon:{defaultValue:null,description:"Иконка",name:"icon",required:!1,type:{name:"ReactNode"}},header:{defaultValue:null,description:"Заголовок плейсхолдера",name:"header",required:!1,type:{name:"ReactNode"}},action:{defaultValue:null,description:"Кнопка действия",name:"action",required:!1,type:{name:"ReactNode"}},stretched:{defaultValue:null,description:"Растягивает плейсхолдер на весь экран, но в таком случае на экране должен быть только плейсхолдер",name:"stretched",required:!1,type:{name:"boolean"}},withPadding:{defaultValue:{value:"true"},description:"Добавляет отступы к компоненту",name:"withPadding",required:!1,type:{name:"boolean"}},getRootRef:{defaultValue:null,description:"",name:"getRootRef",required:!1,type:{name:"Ref<HTMLDivElement>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Placeholder/Placeholder.tsx#Placeholder"]={docgenInfo:O.__docgenInfo,name:"Placeholder",path:"src/components/Placeholder/Placeholder.tsx#Placeholder"})}catch(e){}},"./src/hooks/useId.ts":function(e,t,n){n.d(t,{M:function(){return s}});var o,r=n("../../node_modules/react/index.js");function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=Array(t);n<t;n++)o[n]=e[n];return o}var a=(o||(o=n.t(r,2)))["useId".toString()],l=0,s=null!=a?a:function(){var e=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n,o,r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var i=[],a=!0,l=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(e){l=!0,o=e}finally{try{a||null==r.return||r.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(r.useState(function(){return l++}),1)[0];return":r".concat(e,":")}}}]);