import{j as i,m as v,B as J,bF as W,bG as o4,bH as a4,r as d,f as K,bI as Z,bJ as l4,X as s4,k as c4}from"./iframe-CDzsgUJ6.js";import{R as i4}from"./Removable-DwrvQD9J.js";import{S as G}from"./SimpleCell-BDHKWT_s.js";import{A as Y}from"./AdaptiveIconRenderer-DYyXL8CC.js";import{V as r4}from"./VisuallyHidden-hrbUbT1W.js";import{I as d4,a as f4,b as E4,c as p4}from"./reorder_ios_24-pUC9VdWS.js";import{c as m4,b as F4,a as D4,I as h4}from"./check_box_on_24-CVoHOfkf.js";import{I as A4,a as y4}from"./check_circle_on_24-DAurImow.js";import{I as j,A as g4,a as C4}from"./constants-CtEIZ0Vq.js";const B4="_host_89bwt_1",v4="_icon_89bwt_7",R4="_iconOn_89bwt_12",b4="_input_89bwt_16",_4="_iconOff_89bwt_16",k={host:B4,icon:v4,iconOn:R4,input:b4,iconOff:_4},I4=()=>i.jsx(Y,{IconCompact:h4,IconRegular:D4}),S4=()=>i.jsx(Y,{IconCompact:F4,IconRegular:m4}),q4=()=>i.jsx(Y,{IconCompact:y4,IconRegular:A4}),x4=()=>i.jsx(Y,{IconCompact:f4,IconRegular:d4});function V4(u){const e=J();return u!=="auto"?u:e==="ios"||e==="vkcom"?"circle":"square"}const $=({getRootRef:u,getRef:e,className:t,style:a,type:o="auto",...f})=>{const l=V4(o),p=l==="circle"?x4:S4,E=l==="circle"?q4:I4;return i.jsxs("span",{className:v(k.host,t),style:a,ref:u,children:[i.jsx(r4,{...f,Component:"input",type:"checkbox",className:k.input,getRootRef:e}),i.jsx("span",{className:v(k.icon,k.iconOff),"aria-hidden":!0,children:i.jsx(p,{})}),i.jsx("span",{className:v(k.icon,k.iconOn),"aria-hidden":!0,children:i.jsx(E,{})})]})};try{$.displayName="CellCheckbox",$.__docgenInfo={description:"",displayName:"CellCheckbox",props:{type:{defaultValue:{value:"auto"},description:"Вид чекбокса. Если auto, то зависит от платформы.",name:"type",required:!1,type:{name:"enum",value:[{value:'"auto"'},{value:'"circle"'},{value:'"square"'}]}},defaultChecked:{defaultValue:null,description:"В режиме `selectable` реагирует на входящие значения пропса `defaultChecked` как неконтролируемый компонент.",name:"defaultChecked",required:!1,type:{name:"boolean"}},checked:{defaultValue:null,description:"В режиме `selectable` реагирует на входящие значения пропса `cheсked`, как зависящий напрямую от входящего значения.",name:"checked",required:!1,type:{name:"boolean"}},getRootRef:{defaultValue:null,description:"",name:"getRootRef",required:!1,type:{name:"Ref<HTMLSpanElement>"}},getRef:{defaultValue:null,description:"",name:"getRef",required:!1,type:{name:"Ref<HTMLInputElement>"}}}}}catch{}const k4=u=>{let e=[],t=null;const a=(...o)=>{e=o,!t&&(t=requestAnimationFrame(()=>{t=null,u(...e)}))};return a.cancel=()=>{t&&(cancelAnimationFrame(t),t=null)},a},Q=10,P=50,P4=(u,e)=>{const t=Math.floor(W(e).scrollTop),{relative:a,edges:o}=o4(e),f=a.height,p=a4(e)-f,E=t>0,R=t<p,[S,D]=o.y,C=u-S,A=D-u,y=C<=P,g=A<=P,F={shouldScrolling:E&&y||R&&g,y:0};return y?F.y=-1*((P-C)/P)*Q:g&&(F.y=(P-A)/P*Q),F},T4=u=>{let e=!1;const t=k4(a);function a(l){const{shouldScrolling:p,y:E}=l();p?(e=!0,u.scrollBy(0,E),t(l)):(e=!1,t.cancel())}return{tryAutoScroll:l=>{t(l)},stop:()=>{e=!1,t.cancel()},get isRunning(){return e}}},N4=(u,e)=>{const t=e.height/2;return{isUnderEl:u<=e.bottom-t,isOverEl:u>=e.top+t}},u4=(u,e)=>{requestAnimationFrame(()=>{u.style.transform=`translateY(${e}px)`})},e4=([{el:u,draggingElRect:{height:e}},t],a=0)=>{requestAnimationFrame(()=>{t==="up"?(u.style.setProperty("transition","transform 0.3s ease-in 0s"),u.style.removeProperty("transform")):(u.style.setProperty("transition","transform 0.3s ease-out 0s"),u.style.setProperty("transform",`translateY(${e+a}px)`))})},O4=({el:u,draggingElRect:e})=>{const{top:t,left:a,width:o,height:f}=e;requestAnimationFrame(()=>{u.style.setProperty("pointer-events","none"),u.style.setProperty("position","fixed"),u.style.setProperty("top",`${t}px`),u.style.setProperty("left",`${a}px`),u.style.setProperty("width",`${o}px`),u.style.setProperty("height",`${f}px`),u.style.setProperty("z-index","var(--vkui_internal--z_index_cell_dragging)"),u.style.setProperty("box-sizing","border-box"),u.style.setProperty("transform","translateY(0)")})},M4=({el:u})=>{requestAnimationFrame(()=>{u.style.removeProperty("pointer-events"),u.style.removeProperty("position"),u.style.removeProperty("top"),u.style.removeProperty("left"),u.style.removeProperty("width"),u.style.removeProperty("height"),u.style.removeProperty("z-index"),u.style.removeProperty("box-sizing"),u.style.removeProperty("transform")})},L4=({el:u,draggingElRect:e})=>{if(u.firstElementChild)return;const{width:t,height:a}=e,o=u.cloneNode();o.style.setProperty("display","block"),o.style.setProperty("width",`${t}px`),o.style.setProperty("height",`${a}px`),o.style.setProperty("pointer-events","none"),u.appendChild(o),u.style.setProperty("display","block")},t4=({el:u})=>{u.style.display="",u.removeAttribute("style"),u.firstElementChild&&u.firstElementChild.remove()},w4=({el:u,shifted:e,draggingElRect:t},a=0)=>{const{height:o}=t;requestAnimationFrame(()=>{u.style.setProperty("pointer-events","none"),u.style.setProperty("transition","none 0s ease 0s"),e&&u.style.setProperty("transform",`translateY(${o+a}px)`)})},H4=({el:u})=>{requestAnimationFrame(()=>{u.style.removeProperty("pointer-events"),u.style.removeProperty("transition"),u.style.removeProperty("transform")})},j4=({elRef:u,onDragFinish:e})=>{const[t,a]=d.useState(!1),o=d.useRef(0),f=d.useRef(0),l=d.useRef(null),p=d.useRef(0),E=d.useRef(null),R=n=>{const r=l4(n);r&&(l.current=r,p.current=W(r).scrollTop,E.current=T4(l.current))},S=()=>{p.current=0,E.current?.stop(),l.current=E.current=null},D=d.useRef(void 0),C=(n,r)=>{const s=n-r;return s<0?"down":s>0?"up":D.current},A=d.useRef(j),y=d.useRef(j),g=d.useRef(null),F=d.useRef(null),b=d.useRef([]),x=d.useRef(0),z=n=>{const r=Z(n,!0),s=n.parentElement;x.current=s?parseInt(s.style.gridGap):0;const{children:c}=s||{children:[]};Array.prototype.forEach.call(c,(m,h)=>{m===n?(A.current=y.current=h,g.current={index:h,el:m,draggingElRect:r}):m.getAttribute(C4)!==null?F.current={index:h,el:m,draggingElRect:r}:b.current.push({index:h,el:m,shifted:A.current!==j&&A.current<h,draggingElRect:r})}),F.current&&L4(F.current),g.current&&O4(g.current),b.current.forEach(m=>w4(m,x.current))},O=()=>{F.current&&t4(F.current),g.current&&M4(g.current),b.current.forEach(H4),b.current=[],F.current=g.current=null;const n={from:A.current,to:y.current};return A.current=y.current=j,n},M=n=>{const r=[],s=[];return y.current=A.current,b.current.forEach(c=>{const{isOverEl:m,isUnderEl:h}=N4(n,Z(c.el));A.current<c.index?(m&&(y.current=y.current+1,D.current==="down"&&c.shifted&&(c.shifted=!1,r.push([c,"up"]))),h&&D.current==="up"&&!c.shifted&&(c.shifted=!0,s.push([c,"down"]))):A.current>c.index&&(h&&(y.current=y.current-1,D.current==="up"&&!c.shifted&&(c.shifted=!0,r.push([c,"down"]))),m&&D.current==="down"&&c.shifted&&(c.shifted=!1,s.push([c,"up"])))}),[r,s]},L=(n,r)=>{n.forEach(s=>e4(s,x.current)),r.forEach(s=>e4(s,x.current))},_=d.useRef(null),w=()=>{_.current&&(clearTimeout(_.current),_.current=null)},q=()=>{E.current&&E.current.tryAutoScroll(()=>l.current?P4(o.current,l.current):{shouldScrolling:!1,y:0})},T=()=>{w(),_.current=setTimeout(()=>{_.current=null,q()},g4)},H=n=>{n.originalEvent.stopPropagation(),n.originalEvent.preventDefault()},U=n=>{n.originalEvent.stopPropagation(),n.originalEvent.preventDefault();const r=u.current;if(r)if(t)if(D.current=C(f.current,n.shiftY),f.current=n.shiftY,o.current=n.clientY,E.current&&E.current.isRunning)u4(r,f.current);else{const[s,c]=M(o.current);u4(r,f.current),L(s,c),T()}else a(s=>s||(O(),R(r),z(r),!0))},V=n=>{if(n.originalEvent.stopPropagation(),n.originalEvent.preventDefault(),w(),S(),o.current=f.current=0,D.current=void 0,t){const r=O();e&&e(r),a(!1)}},I=d.useCallback(()=>{if(!u.current||!l.current)return;const n=W(l.current).scrollTop;D.current=C(p.current,n);const r=p.current-n,s=o.current+r;p.current=n;const[c,m]=M(s);L(c,m)},[u]);return K(function(){const r=l.current;if(!(!t||!r))return r.addEventListener("scroll",I),()=>{r&&r.removeEventListener("scroll",I)}},[t,I]),K(()=>function(){F.current&&t4(F.current)},[]),{dragging:t,onDragStart:H,onDragMove:U,onDragEnd:V}},$4="_host_1tkaf_2",Y4="_icon_1tkaf_9",n4={host:$4,icon:Y4},X=({elRef:u,disabled:e,className:t,onDragStateChange:a,onDragFinish:o,children:f,...l})=>{const E=J()==="ios"?E4:p4,{dragging:R,onDragStart:S,onDragMove:D,onDragEnd:C}=j4({elRef:u,onDragFinish:o});return K(()=>{a&&a(R)},[R,a]),i.jsxs(s4,{className:v(n4.host,t),onStart:e?void 0:S,onMoveY:e?void 0:D,onEnd:e?void 0:C,...l,children:[f&&i.jsx(r4,{children:f}),i.jsx(E,{className:n4.icon})]})};try{X.displayName="CellDragger",X.__docgenInfo={description:"",displayName:"CellDragger",props:{disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}},onDragStateChange:{defaultValue:null,description:"",name:"onDragStateChange",required:!1,type:{name:"((dragging: boolean) => void)"}},elRef:{defaultValue:null,description:"",name:"elRef",required:!0,type:{name:"RefObject<HTMLElement | null>"}},onDragFinish:{defaultValue:null,description:"",name:"onDragFinish",required:!1,type:{name:"((value: SwappedItemRange) => void)"}},getRootRef:{defaultValue:null,description:"",name:"getRootRef",required:!1,type:{name:"Ref<HTMLElement>"}}}}}catch{}const z4="Перенести ячейку",U4="_host_19q95_1",G4="_dragging_19q95_5",W4="_checkbox_19q95_10",K4="_dragger_19q95_11",X4="_controlNoBefore_19q95_27",J4="_content_19q95_36",Z4="_removable_19q95_41",Q4="_ios_19q95_62",B={host:U4,dragging:G4,checkbox:W4,dragger:K4,controlNoBefore:X4,content:J4,removable:Z4,ios:Q4},N=({mode:u,onRemove:e,removePlaceholder:t="Удалить",onDragFinish:a,before:o,after:f,disabled:l,draggable:p,Component:E,onChange:R,name:S,value:D,checked:C,defaultChecked:A,getRootRef:y,draggerLabel:g=z4,className:F,style:b,toggleButtonTestId:x,removeButtonTestId:z,draggerTestId:O,href:M,...L})=>{const[_,w]=d.useState(!1),q=u==="selectable",T=u==="removable",H=q?"label":E,U=q?void 0:M,V=J(),I=c4(y),n=p?i.jsx(X,{elRef:I,className:v(B.dragger,!o&&!q&&B.controlNoBefore),onDragStateChange:w,onDragFinish:a,"data-testid":O,children:g}):null;let r;if(q){const h={name:S,value:D,defaultChecked:A,checked:C,disabled:l,onChange:R};r=i.jsx($,{className:v(B.checkbox,!o&&B.controlNoBefore),...h})}const s=!l&&!_,c=v(B.host,_&&B.dragging,V==="ios"&&B.ios,T&&B.removable),m={hasActive:s,hasHover:s&&!T,disabled:l,href:U,...L,className:B.content,...H&&{Component:H},before:i.jsxs(d.Fragment,{children:[p&&V!=="ios"&&n,q&&r,o]}),after:i.jsxs(d.Fragment,{children:[p&&V==="ios"&&n,f]})};return T?i.jsx(i4,{className:v(c,F),style:b,getRootRef:I,removePlaceholder:t,onRemove:h=>e?.(h,I.current),toggleButtonTestId:x,removeButtonTestId:z,disabled:l,children:V==="ios"?(({isRemoving:h})=>i.jsx(G,{...m,...h?{onClick:void 0}:{}})):i.jsx(G,{...m})}):i.jsx("div",{className:v(c,F),style:b,ref:I,children:i.jsx(G,{...m})})};N.Checkbox=$;try{N.displayName="Cell",N.__docgenInfo={description:"",displayName:"Cell",props:{mode:{defaultValue:null,description:`Режим отображения ячейки:

- "removable": добавляется кнопка для удаления
- "selectable": добавляется чекбокс для выбора.`,name:"mode",required:!1,type:{name:"enum",value:[{value:'"removable"'},{value:'"selectable"'}]}},draggable:{defaultValue:null,description:"В режиме перетаскивания ячейка перестает реагировать на нажатие, то есть при нажатии переданный `onClick` вызываться не будет.",name:"draggable",required:!1,type:{name:"boolean"}},name:{defaultValue:null,description:"Имя для `input` в режиме `selectable`.",name:"name",required:!1,type:{name:"string"}},checked:{defaultValue:null,description:"В режиме `selectable` реагирует на входящие значения пропса `cheсked`, как зависящий напрямую от входящего значения.",name:"checked",required:!1,type:{name:"boolean"}},defaultChecked:{defaultValue:null,description:"В режиме `selectable` реагирует на входящие значения пропса `defaultChecked` как неконтролируемый компонент.",name:"defaultChecked",required:!1,type:{name:"boolean"}},onDragFinish:{defaultValue:null,description:"Обработчик, срабатывающий при завершении перетаскивания.\n**Важно:** режим перетаскивания не меняет порядок ячеек в DOM. В обработчике есть объект с полями `from` и `to`.\nЭти числа нужны для того, чтобы разработчик понимал, с какого индекса на какой произошел переход. В песочнице\nесть рабочий пример с обработкой этих чисел и перерисовкой списка.",name:"onDragFinish",required:!1,type:{name:"((swappedItemRange: SwappedItemRange) => void)"}},draggerLabel:{defaultValue:{value:"Перенести ячейку"},description:"Текст для кнопки перетаскивания ячейки.",name:"draggerLabel",required:!1,type:{name:"string"}},draggerTestId:{defaultValue:null,description:"Передает атрибут `data-testid` для кнопки перетаскивания ячейки.",name:"draggerTestId",required:!1,type:{name:"string"}},before:{defaultValue:null,description:"Иконка 28 или `<Avatar size={28|32|40|48|72} />`.",name:"before",required:!1,type:{name:"ReactNode"}},after:{defaultValue:null,description:"Иконка 24|28 или `<Switch />`. Располагается справа от `indicator`.",name:"after",required:!1,type:{name:"ReactNode"}},disabled:{defaultValue:null,description:"Блокировка взаимодействия с компонентом.",name:"disabled",required:!1,type:{name:"boolean"}},hasHover:{defaultValue:null,description:"Указывает, должен ли компонент реагировать на `hover`-состояние.",name:"hasHover",required:!1,type:{name:"boolean"}},Component:{defaultValue:null,description:"",name:"Component",required:!1,type:{name:"ElementType<any, keyof IntrinsicElements>"}},borderRadiusMode:{defaultValue:null,description:"Задает border-radius элементу\nВ режиме `auto` на маленьких экранах `border-radius: 0`, иначе определяется токеном `--vkui--size_border_radius--regular`.",name:"borderRadiusMode",required:!1,type:{name:"enum",value:[{value:'"inherit"'},{value:'"auto"'}]}},activeClassName:{defaultValue:null,description:"Стиль подсветки `active`-состояния.\n@deprecated Since 7.3.0. Будет удалeно в **VKUI v9**.\n\nИспользуйте свойство `activeMode`.",name:"activeClassName",required:!1,type:{name:"string"}},hoverClassName:{defaultValue:null,description:"Стиль подсветки `hover`-состояния.\n@deprecated Since 7.3.0. Будет удалeно в **VKUI v9**.\n\nИспользуйте свойство `hoverMode`.",name:"hoverClassName",required:!1,type:{name:"string"}},focusVisibleMode:{defaultValue:null,description:"Стиль аутлайна focus visible. Если передать произвольную строку, она добавится как css-класс при :focus-visible",name:"focusVisibleMode",required:!1,type:{name:"FocusVisibleMode"}},hovered:{defaultValue:null,description:"Позволяет управлять `hovered`-состоянием извне.",name:"hovered",required:!1,type:{name:"boolean"}},activated:{defaultValue:null,description:"Позволяет управлять `activated`-состоянием извне.",name:"activated",required:!1,type:{name:"boolean"}},hasActive:{defaultValue:null,description:"Указывает, должен ли компонент реагировать на `active`-состояние.",name:"hasActive",required:!1,type:{name:"boolean"}},hasHoverWithChildren:{defaultValue:null,description:`Позволяет родительскому компоненту
иметь \`hovered\`-cостояние при наведении
на любой дочерний элемент.
По умолчанию состояние hovered у родителя сбрасывается.

Присваивается родителькому компоненту.
@example <Tappable hasHoverWithChildren>
  <IconButton />
  <IconButton />
  <IconButton />
</Tappable>`,name:"hasHoverWithChildren",required:!1,type:{name:"boolean"}},unlockParentHover:{defaultValue:null,description:`Позволяет родительскому компоненту показывать hovered-состояние при наведении
на текущий дочерний компонент.

Присваивается дочернему компоненту.
@example <Tappable>
  <IconButton unlockParentHover />
  <IconButton unlockParentHover />
  <IconButton />
</Tappable>`,name:"unlockParentHover",required:!1,type:{name:"boolean"}},activeEffectDelay:{defaultValue:null,description:"Длительность показа `active`-состояния.",name:"activeEffectDelay",required:!1,type:{name:"number"}},activeMode:{defaultValue:null,description:"Стиль подсветки active-состояния. Если передать произвольную строку, она добавится как css-класс во время active.",name:"activeMode",required:!1,type:{name:"StateModeLiteral"}},hoverMode:{defaultValue:null,description:"Стиль подсветки hover-состояния. Если передать произвольную строку, она добавится как css-класс во время hover.",name:"hoverMode",required:!1,type:{name:"StateModeLiteral"}},badgeBeforeTitle:{defaultValue:null,description:"Иконка 12 или `<Badge />`. Добавится слева от текста `children`.",name:"badgeBeforeTitle",required:!1,type:{name:"ReactNode"}},badgeAfterTitle:{defaultValue:null,description:"Иконка 12 или `<Badge />`. Добавится справа от текста `children`.",name:"badgeAfterTitle",required:!1,type:{name:"ReactNode"}},badgeBeforeSubtitle:{defaultValue:null,description:"Иконка 12. Добавится слева от текста `subtitle`.",name:"badgeBeforeSubtitle",required:!1,type:{name:"ReactNode"}},badgeAfterSubtitle:{defaultValue:null,description:"Иконка 12. Добавится справа от текста `subtitle`.",name:"badgeAfterSubtitle",required:!1,type:{name:"ReactNode"}},indicator:{defaultValue:null,description:"Контейнер для текста справа от `children`.",name:"indicator",required:!1,type:{name:"ReactNode"}},chevron:{defaultValue:null,description:"Управляет видимостью иконки шеврона `›`.\n\n- `auto` - добавляет шеврон справа только для платформы `ios`;\n- `always` - всегда показывает шеврон.",name:"chevron",required:!1,type:{name:"enum",value:[{value:'"auto"'},{value:'"always"'}]}},multiline:{defaultValue:null,description:"Включает многострочный режим для отображения текста.",name:"multiline",required:!1,type:{name:"boolean"}},overTitle:{defaultValue:null,description:"Дополнительная строка текста над `children`.",name:"overTitle",required:!1,type:{name:"ReactNode"}},subtitle:{defaultValue:null,description:"Дополнительная строка текста под `children`.",name:"subtitle",required:!1,type:{name:"ReactNode"}},extraSubtitle:{defaultValue:null,description:"Дополнительная строка текста под `children` и `subtitle`.",name:"extraSubtitle",required:!1,type:{name:"ReactNode"}},chevronSize:{defaultValue:null,description:"Размер chevron.",name:"chevronSize",required:!1,type:{name:"enum",value:[{value:'"s"'},{value:'"m"'}]}},removePlaceholder:{defaultValue:{value:"Удалить"},description:"Текст кнопки удаления ячейки. Визуально скрыт везде, кроме iOS. На iOS появляется в выезжающей кнопке для удаления ячейки.",name:"removePlaceholder",required:!1,type:{name:"ReactNode"}},onRemove:{defaultValue:null,description:"Обработчик, срабатывающий при нажатии на контрол удаления.",name:"onRemove",required:!1,type:{name:"((e: MouseEvent<Element, MouseEvent>, rootEl?: HTMLElement | null) => void)"}},toggleButtonTestId:{defaultValue:null,description:"Передает атрибут `data-testid` для кнопки, которая активирует кнопку удаления (iOS only).",name:"toggleButtonTestId",required:!1,type:{name:"string"}},removeButtonTestId:{defaultValue:null,description:"Передает атрибут `data-testid` для кнопки удаления.",name:"removeButtonTestId",required:!1,type:{name:"string"}},getRootRef:{defaultValue:null,description:"",name:"getRootRef",required:!1,type:{name:"Ref<HTMLDivElement>"}}}}}catch{}try{N.Checkbox.displayName="Cell.Checkbox",N.Checkbox.__docgenInfo={description:"",displayName:"Cell.Checkbox",props:{type:{defaultValue:{value:"auto"},description:"Вид чекбокса. Если auto, то зависит от платформы.",name:"type",required:!1,type:{name:"enum",value:[{value:'"auto"'},{value:'"circle"'},{value:'"square"'}]}},defaultChecked:{defaultValue:null,description:"В режиме `selectable` реагирует на входящие значения пропса `defaultChecked` как неконтролируемый компонент.",name:"defaultChecked",required:!1,type:{name:"boolean"}},checked:{defaultValue:null,description:"В режиме `selectable` реагирует на входящие значения пропса `cheсked`, как зависящий напрямую от входящего значения.",name:"checked",required:!1,type:{name:"boolean"}},getRootRef:{defaultValue:null,description:"",name:"getRootRef",required:!1,type:{name:"Ref<HTMLSpanElement>"}},getRef:{defaultValue:null,description:"",name:"getRef",required:!1,type:{name:"Ref<HTMLInputElement>"}}}}}catch{}export{N as C,$ as a};
