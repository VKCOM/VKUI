import{a as d,b as O,o as C,s as E,d as x,e as A,f as I,h as U,i as L,j as P}from"./floating-ui.react-dom-B9MYDRsG.js";import{ax as T,r,f as j}from"./iframe-CDzsgUJ6.js";import{C as k}from"./customResizeObserver-CzwDpNji.js";const D={ancestorScroll:!0,ancestorResize:!0,elementResize:!1,animationFrame:!1};function q(s,t,i,a=D){const{elementResize:o=!1,...f}=a,c=window.ResizeObserver!==void 0,l=d(s,t,i,{...f,elementResize:o&&c});let n=null;return o&&!c&&(n=new k(i),T(s)&&n.observe(s),n.observe(t),n.appendToTheDOM()),()=>{n&&(n.disconnect(),n=null),l()}}const y=({placement:s="bottom-start",arrowRef:t=null,arrow:i,arrowHeight:a,arrowPadding:o,sameWidth:f,offsetByMainAxis:c=0,offsetByCrossAxis:l=0,customMiddlewares:n,hideWhenReferenceHidden:m,disableFlipMiddleware:h=!1,disableShiftMiddleware:b=!1,flipMiddlewareFallbackAxisSideDirection:v="end",overflowPadding:R})=>r.useMemo(()=>{const g=!O(s),e=[C({crossAxis:l,mainAxis:i&&a?c+a:c})],u=b?null:E({padding:R});if(g)e.push(x({alignment:A(s)})),u&&e.push(u);else if(h)u&&e.push(u);else{const p=I({crossAxis:"alignment",fallbackAxisSideDirection:v});s.includes("-")?(e.push(p),u&&e.push(u)):(u&&e.push(u),e.push(p))}return f&&e.push(U({apply({rects:p,elements:z}){Object.assign(z.floating.style,{width:`${p.reference.width}px`})}})),n&&e.push(...n),i&&e.push(L({element:t,padding:o})),m&&e.push(P()),{middlewares:e,strictPlacement:g?void 0:s}},[s,l,i,a,c,h,b,v,f,n,m,t,o,R]);function G(s,t,i){const a=r.useRef(void 0);r.useEffect(()=>{a.current=t}),j(()=>{if(!i)return;const o=a.current;(o===void 0&&s!==t||o!==void 0&&o!==t)&&i(t)},[s,t,i])}export{G as a,q as b,y as u};
