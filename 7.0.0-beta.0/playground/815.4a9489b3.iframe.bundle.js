"use strict";(self.webpackChunk_vkontakte_vkui=self.webpackChunk_vkontakte_vkui||[]).push([[815],{"../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[14].use[1]!../../node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[14].use[2]!./src/components/ChipsInputBase/ChipsInputBase.module.css":(module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/css-loader/dist/runtime/sourceMaps.js"),_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__),_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/css-loader/dist/runtime/api.js"),___CSS_LOADER_EXPORT___=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__)()(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default());___CSS_LOADER_EXPORT___.push([module.id,".ChipsInputBase__host--PHqxk{--vkui_internal--chips_input_base_container_gap:4px;display:flex;flex-grow:1;flex-shrink:1;flex-wrap:wrap;list-style:none;margin:0;max-inline-size:100%;overflow:hidden;padding:var(--vkui_internal--chips_input_base_container_gap);position:relative;z-index:var(--vkui_internal--z_index_form_field_element)}.ChipsInputBase__chip--wc_ND{margin:2px;max-inline-size:calc(100% - var(--vkui_internal--chips_input_base_container_gap))}.ChipsInputBase__el--B_h_d{-webkit-appearance:none;-moz-appearance:none;appearance:none;background:transparent;border:0;box-shadow:none;color:var(--vkui--color_text_primary);flex:1;inline-size:100%;margin-block:2px 4px;margin-inline:10px 2px;padding:0;position:relative}.ChipsInputBase__el--B_h_d:not(:-moz-read-only):focus{min-inline-size:64px}.ChipsInputBase__el--B_h_d:not(:read-only):focus{min-inline-size:64px}.ChipsInputBase__el--B_h_d::-ms-clear{display:none}.ChipsInputBase__el--B_h_d:disabled{opacity:var(--vkui--opacity_disable_accessibility)}.ChipsInputBase__el--B_h_d::placeholder{opacity:1}.ChipsInputBase__el--B_h_d::placeholder,.ChipsInputBase__el--B_h_d:disabled::placeholder{color:var(--vkui--color_text_secondary)}.ChipsInputBase__el--B_h_d[readonly]{cursor:default}.ChipsInputBase__hasPlaceholder--DZ1i1 .ChipsInputBase__el--B_h_d{margin-inline:calc(12px - var(--vkui_internal--chips_input_base_container_gap)) 0;text-overflow:ellipsis;white-space:nowrap}.ChipsInputBase__sizeYCompact--cEhnH{--vkui_internal--chips_input_base_container_gap:2px}@media (max-height:414.9px),(pointer:fine) and (min-width:768px){.ChipsInputBase__sizeYNone--TIe3z{--vkui_internal--chips_input_base_container_gap:2px}}","",{version:3,sources:["webpack://./src/components/ChipsInputBase/ChipsInputBase.module.css"],names:[],mappings:"AAAA,6BACE,mDAAoD,CAKpD,YAAa,CAHb,WAAY,CACZ,aAAc,CAGd,cAAe,CAEf,eAAgB,CAChB,QAAS,CAFT,oBAAqB,CAKrB,eAAgB,CAFhB,4DAA6D,CAN7D,iBAAkB,CAOlB,wDAEF,CAEA,6BAEE,UAAW,CADX,iFAEF,CAEA,2BAWE,uBAAgB,CAAhB,oBAAgB,CAAhB,eAAgB,CAHhB,sBAAuB,CACvB,QAAS,CACT,eAAgB,CAHhB,qCAAsC,CANtC,MAAO,CAEP,gBAAiB,CACjB,oBAAqB,CACrB,sBAAuB,CACvB,SAAU,CAJV,iBAUF,CAEA,sDACE,oBACF,CAFA,iDACE,oBACF,CAEA,sCACE,YACF,CAEA,oCACE,kDACF,CAEA,wCAGE,SACF,CAEA,yFALE,uCAOF,CAEA,qCACE,cACF,CAEA,kEAGE,iFAAkF,CADlF,sBAAuB,CADvB,kBAGF,CAKA,qCACE,mDACF,CAEA,iEACE,kCACE,mDACF,CACF",sourcesContent:[".host {\n  --vkui_internal--chips_input_base_container_gap: 4px;\n\n  flex-grow: 1;\n  flex-shrink: 1;\n  position: relative;\n  display: flex;\n  flex-wrap: wrap;\n  max-inline-size: 100%;\n  list-style: none;\n  margin: 0;\n  padding: var(--vkui_internal--chips_input_base_container_gap);\n  z-index: var(--vkui_internal--z_index_form_field_element);\n  overflow: hidden;\n}\n\n.chip {\n  max-inline-size: calc(100% - var(--vkui_internal--chips_input_base_container_gap));\n  margin: 2px;\n}\n\n.el {\n  flex: 1;\n  position: relative;\n  inline-size: 100%;\n  margin-block: 2px 4px;\n  margin-inline: 10px 2px;\n  padding: 0;\n  color: var(--vkui--color_text_primary);\n  background: transparent;\n  border: 0;\n  box-shadow: none;\n  appearance: none;\n}\n\n.el:not(:read-only):focus {\n  min-inline-size: 64px;\n}\n\n.el::-ms-clear {\n  display: none;\n}\n\n.el:disabled {\n  opacity: var(--vkui--opacity_disable_accessibility);\n}\n\n.el::placeholder {\n  color: var(--vkui--color_text_secondary);\n  /* Для Firefox */\n  opacity: 1;\n}\n\n.el:disabled::placeholder {\n  color: var(--vkui--color_text_secondary);\n}\n\n.el[readonly] {\n  cursor: default;\n}\n\n.hasPlaceholder .el {\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  margin-inline: calc(12px - var(--vkui_internal--chips_input_base_container_gap)) 0;\n}\n\n/**\n * sizeY COMPACT\n */\n.sizeYCompact {\n  --vkui_internal--chips_input_base_container_gap: 2px;\n}\n\n@media (--sizeY-compact) {\n  .sizeYNone {\n    --vkui_internal--chips_input_base_container_gap: 2px;\n  }\n}\n"],sourceRoot:""}]),___CSS_LOADER_EXPORT___.locals={host:"ChipsInputBase__host--PHqxk",chip:"ChipsInputBase__chip--wc_ND",el:"ChipsInputBase__el--B_h_d",hasPlaceholder:"ChipsInputBase__hasPlaceholder--DZ1i1",sizeYCompact:"ChipsInputBase__sizeYCompact--cEhnH",sizeYNone:"ChipsInputBase__sizeYNone--TIe3z"};const __WEBPACK_DEFAULT_EXPORT__=___CSS_LOADER_EXPORT___},"../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[14].use[1]!../../node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[14].use[2]!./src/components/Typography/Subhead/Subhead.module.css":(module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/css-loader/dist/runtime/sourceMaps.js"),_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__),_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/css-loader/dist/runtime/api.js"),___CSS_LOADER_EXPORT___=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__)()(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default());___CSS_LOADER_EXPORT___.push([module.id,".Subhead__host--lrvDp{font-family:var(--vkui--font_subhead--font_family--regular);font-size:var(--vkui--font_subhead--font_size--regular);font-weight:var(--vkui--font_subhead--font_weight--regular);line-height:var(--vkui--font_subhead--line_height--regular)}.Subhead__sizeYCompact--BUPsS{font-family:var(\n    --vkui--font_subhead--font_family--compact,var(--vkui--font_subhead--font_family--regular)\n  );font-size:var(\n    --vkui--font_subhead--font_size--compact,var(--vkui--font_subhead--font_size--regular)\n  );font-weight:var(\n    --vkui--font_subhead--font_weight--compact,var(--vkui--font_subhead--font_weight--regular)\n  );line-height:var(\n    --vkui--font_subhead--line_height--compact,var(--vkui--font_subhead--line_height--regular)\n  )}@media (max-height:414.9px),(pointer:fine) and (min-width:768px){.Subhead__sizeYNone--xNo2J{font-family:var(\n      --vkui--font_subhead--font_family--compact,var(--vkui--font_subhead--font_family--regular)\n    );font-size:var(\n      --vkui--font_subhead--font_size--compact,var(--vkui--font_subhead--font_size--regular)\n    );font-weight:var(\n      --vkui--font_subhead--font_weight--compact,var(--vkui--font_subhead--font_weight--regular)\n    );line-height:var(\n      --vkui--font_subhead--line_height--compact,var(--vkui--font_subhead--line_height--regular)\n    )}}","",{version:3,sources:["webpack://./src/components/Typography/Subhead/Subhead.module.css"],names:[],mappings:"AAAA,sBAIE,2DAA4D,CAH5D,uDAAwD,CAExD,2DAA4D,CAD5D,2DAGF,CAEA,8BAaE;;GAGC,CAfD;;GAGC,CAKD;;GAGC,CAPD;;GAYF,CAEA,iEACE,2BAaE;;KAGC,CAfD;;KAGC,CAKD;;KAGC,CAPD;;KAYF,CACF",sourcesContent:[".host {\n  font-size: var(--vkui--font_subhead--font_size--regular);\n  line-height: var(--vkui--font_subhead--line_height--regular);\n  font-weight: var(--vkui--font_subhead--font_weight--regular);\n  font-family: var(--vkui--font_subhead--font_family--regular);\n}\n\n.sizeYCompact {\n  font-size: var(\n    --vkui--font_subhead--font_size--compact,\n    var(--vkui--font_subhead--font_size--regular)\n  );\n  line-height: var(\n    --vkui--font_subhead--line_height--compact,\n    var(--vkui--font_subhead--line_height--regular)\n  );\n  font-weight: var(\n    --vkui--font_subhead--font_weight--compact,\n    var(--vkui--font_subhead--font_weight--regular)\n  );\n  font-family: var(\n    --vkui--font_subhead--font_family--compact,\n    var(--vkui--font_subhead--font_family--regular)\n  );\n}\n\n@media (--sizeY-compact) {\n  .sizeYNone {\n    font-size: var(\n      --vkui--font_subhead--font_size--compact,\n      var(--vkui--font_subhead--font_size--regular)\n    );\n    line-height: var(\n      --vkui--font_subhead--line_height--compact,\n      var(--vkui--font_subhead--line_height--regular)\n    );\n    font-weight: var(\n      --vkui--font_subhead--font_weight--compact,\n      var(--vkui--font_subhead--font_weight--regular)\n    );\n    font-family: var(\n      --vkui--font_subhead--font_family--compact,\n      var(--vkui--font_subhead--font_family--regular)\n    );\n  }\n}\n"],sourceRoot:""}]),___CSS_LOADER_EXPORT___.locals={host:"Subhead__host--lrvDp",sizeYCompact:"Subhead__sizeYCompact--BUPsS",sizeYNone:"Subhead__sizeYNone--xNo2J"};const __WEBPACK_DEFAULT_EXPORT__=___CSS_LOADER_EXPORT___},"./src/components/ChipsInput/useChipsInput.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{o:()=>transformValue,v:()=>useChipsInput});var react=__webpack_require__("../../node_modules/react/index.js"),useEnsuredControl=__webpack_require__("./src/hooks/useEnsuredControl.ts"),useNativeFormResetListener=__webpack_require__("./src/hooks/useNativeFormResetListener.ts");var constants=__webpack_require__("./src/components/ChipsInputBase/constants.tsx"),helpers=__webpack_require__("./src/components/ChipsInputBase/helpers.ts");const transformValue=(value,getOptionValue,getOptionLabel)=>value.map((option=>({...option,label:getOptionLabel(option),value:getOptionValue(option)}))),useChipsInput=({value:valueProp,defaultValue=constants.kH,onChange,getOptionLabel=constants.jX,getOptionValue=constants.Su,getNewOptionData=constants.Ti,inputValue:inputValueProp,defaultInputValue=constants.F3,onInputChange,disabled})=>{const[value,setValue]=(0,useEnsuredControl.m)({disabled,value:valueProp?transformValue(valueProp,getOptionValue,getOptionLabel):void 0,defaultValue:transformValue(defaultValue,getOptionValue,getOptionLabel),onChange}),inputRef=react.useRef(null),[inputValue,setInputChange]=(0,useEnsuredControl.D)({disabled,value:inputValueProp,defaultValue:defaultInputValue,onChange:onInputChange}),toggleOption=react.useCallback(((nextValueProp,isNewValue)=>{setValue((prevValue=>{const isLikeObjectOption=(0,helpers.zP)(nextValueProp),resolvedOption=isLikeObjectOption?getNewOptionData(nextValueProp.value,nextValueProp.label):getNewOptionData(nextValueProp,"string"==typeof nextValueProp?nextValueProp:""),nextValue=prevValue.filter((option=>resolvedOption.value!==option.value));return!0===isNewValue&&nextValue.push(isLikeObjectOption?{...nextValueProp,...resolvedOption}:resolvedOption),nextValue}))}),[setValue,getNewOptionData]),clearInput=react.useCallback((()=>{inputRef.current&&((target,nextValue="")=>{try{const prevValue=target.value;target.value=nextValue;const tracker=target._valueTracker;tracker&&tracker.setValue(prevValue);const event=new Event("input",{bubbles:!0});target.dispatchEvent(event)}catch(error){}})(inputRef.current,"")}),[inputRef]),addOption=react.useCallback((newValue=>toggleOption(newValue,!0)),[toggleOption]),removeOption=react.useCallback((newValue=>toggleOption(newValue,!1)),[toggleOption]),addOptionFromInput=react.useCallback((inputValue=>{const label=inputValue.trim();label&&(addOption(label),clearInput())}),[addOption,clearInput]),reset=react.useCallback((()=>{setValue(defaultValue)}),[defaultValue,setValue]),clearOptions=react.useCallback((()=>{setValue(constants.kH),clearInput()}),[clearInput,setValue]);return(0,useNativeFormResetListener.g)(inputRef,reset),{value,addOption,addOptionFromInput,removeOption,inputRef,inputValue,onInputChange:setInputChange,clearInput,clearOptions}}},"./src/components/ChipsInputBase/ChipsInputBase.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{j:()=>ChipsInputBase});var jsx_runtime=__webpack_require__("../../node_modules/react/jsx-runtime.js"),react=__webpack_require__("../../node_modules/react/index.js"),es6=__webpack_require__("../../node_modules/@vkontakte/vkjs/lib/es6/index.js"),floating_ui_utils_dom_esm=__webpack_require__("../../node_modules/@vkontakte/vkui-floating-ui/utils/dom/floating-ui.utils.dom.esm.js"),useAdaptivity=__webpack_require__("./src/hooks/useAdaptivity.ts"),useExternRef=__webpack_require__("./src/hooks/useExternRef.ts"),accessibility=__webpack_require__("./src/lib/accessibility.ts"),dom=__webpack_require__("./src/lib/dom.tsx"),FormField=__webpack_require__("./src/components/FormField/FormField.tsx"),cancel_16=__webpack_require__("../../node_modules/@vkontakte/icons/dist_es6/16/cancel_16.js"),utils=__webpack_require__("./src/lib/utils.ts"),IconButton=__webpack_require__("./src/components/IconButton/IconButton.tsx");const FormFieldClearButton=({className,onClick,...restProps})=>(0,jsx_runtime.jsx)(IconButton.K,{Component:"button",label:"Очистить поле",onKeyDown:utils.dG,type:"button",activeMode:"opacity",hoverMode:"opacity",...restProps,className,onClick:e=>{(0,utils.dG)(e),e.preventDefault(),onClick()},children:(0,jsx_runtime.jsx)(cancel_16.X,{})});try{FormFieldClearButton.displayName="FormFieldClearButton",FormFieldClearButton.__docgenInfo={description:"",displayName:"FormFieldClearButton",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},onClick:{defaultValue:null,description:"",name:"onClick",required:!0,type:{name:"() => void"}},disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/FormFieldClearButton/FormFieldClearButton.tsx#FormFieldClearButton"]={docgenInfo:FormFieldClearButton.__docgenInfo,name:"FormFieldClearButton",path:"src/components/FormFieldClearButton/FormFieldClearButton.tsx#FormFieldClearButton"})}catch(__react_docgen_typescript_loader_error){}var Text=__webpack_require__("./src/components/Typography/Text/Text.tsx"),constants=__webpack_require__("./src/components/ChipsInputBase/constants.tsx"),helpers=__webpack_require__("./src/components/ChipsInputBase/helpers.ts"),injectStylesIntoStyleTag=__webpack_require__("../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),injectStylesIntoStyleTag_default=__webpack_require__.n(injectStylesIntoStyleTag),singletonStyleDomAPI=__webpack_require__("../../node_modules/style-loader/dist/runtime/singletonStyleDomAPI.js"),singletonStyleDomAPI_default=__webpack_require__.n(singletonStyleDomAPI),insertBySelector=__webpack_require__("../../node_modules/style-loader/dist/runtime/insertBySelector.js"),insertBySelector_default=__webpack_require__.n(insertBySelector),setAttributesWithAttributesAndNonce=__webpack_require__("../../node_modules/style-loader/dist/runtime/setAttributesWithAttributesAndNonce.js"),setAttributesWithAttributesAndNonce_default=__webpack_require__.n(setAttributesWithAttributesAndNonce),insertStyleElement=__webpack_require__("../../node_modules/style-loader/dist/runtime/insertStyleElement.js"),insertStyleElement_default=__webpack_require__.n(insertStyleElement),ChipsInputBase_module=__webpack_require__("../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[14].use[1]!../../node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[14].use[2]!./src/components/ChipsInputBase/ChipsInputBase.module.css"),options={attributes:{class:"vkui-style"}};options.setAttributes=setAttributesWithAttributesAndNonce_default(),options.insert=insertBySelector_default().bind(null,"head"),options.domAPI=singletonStyleDomAPI_default(),options.insertStyleElement=insertStyleElement_default();injectStylesIntoStyleTag_default()(ChipsInputBase_module.A,options);const ChipsInputBase_ChipsInputBase_module=ChipsInputBase_module.A&&ChipsInputBase_module.A.locals?ChipsInputBase_module.A.locals:void 0,sizeYClassNames={none:ChipsInputBase_ChipsInputBase_module.sizeYNone,compact:ChipsInputBase_ChipsInputBase_module.sizeYCompact},ChipsInputBase=({getRootRef,style,className,before,after,status,mode,maxHeight,value=constants.kH,onAddChipOption,onRemoveChipOption:onRemoveChipOptionProp,renderChip=constants.ec,getRef,id:idProp,inputValue=constants.F3,placeholder,disabled,readOnly,addOnBlur,onBlur,onInputChange,ClearButton=FormFieldClearButton,clearButtonShown,clearButtonTestId,onClear,...restProps})=>{const{sizeY="none"}=(0,useAdaptivity.L)(),idGenerated=react.useId(),inputRef=(0,useExternRef.Z)(getRef),listboxRef=react.useRef(null),valueLength=value.length,withPlaceholder=0===valueLength,[lastFocusedChipOptionIndex,setLastFocusedChipOptionIndex]=react.useState(0),moveFocusToChipOption=(currentIndex,navigateTo,listboxEl)=>{const index=(0,helpers.pm)(currentIndex,navigateTo,valueLength),foundEl=listboxEl.querySelector(`[data-index="${index}"]`);foundEl&&(setLastFocusedChipOptionIndex(index),foundEl.focus())},removeChipOption=(o,index)=>{var inputEl;inputRef.current&&listboxRef.current&&(valueLength>1?moveFocusToChipOption(index,index===valueLength-1?"prev":"next",listboxRef.current):(inputEl=inputRef.current,setLastFocusedChipOptionIndex(0),inputEl.focus()),onRemoveChipOptionProp(o))},handleChipRemove=(event,v)=>{event.preventDefault(),event.stopPropagation(),removeChipOption(v,(0,helpers.HK)(v,value))},clearButton=react.useMemo((()=>{if(clearButtonShown)return(0,jsx_runtime.jsx)(ClearButton,{onClick:onClear,disabled,"data-testid":clearButtonTestId})}),[ClearButton,clearButtonShown,clearButtonTestId,disabled,onClear]),afterItems=react.useMemo((()=>{if(clearButton||after)return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[clearButton,after]})}),[after,clearButton]);return(0,jsx_runtime.jsx)(FormField.z,{Component:"div",getRootRef,style,disabled,before,after:afterItems,status,mode,className,maxHeight,onClick:disabled?void 0:event=>{event.defaultPrevented||(0,dom.gR)(event.currentTarget,(0,dom.HC)(event.currentTarget))||inputRef.current&&inputRef.current.focus()},children:(0,jsx_runtime.jsxs)("div",{className:(0,es6.xW)(ChipsInputBase_ChipsInputBase_module.host,"regular"!==sizeY&&sizeYClassNames[sizeY],withPlaceholder&&ChipsInputBase_ChipsInputBase_module.hasPlaceholder),ref:listboxRef,role:"listbox","aria-orientation":"horizontal","aria-disabled":disabled,"aria-readonly":readOnly,onKeyDown:disabled?void 0:event=>{const targetEl=event.target;if(!event.defaultPrevented&&listboxRef.current&&(0,floating_ui_utils_dom_esm.sb)(targetEl))switch(event.key){case accessibility.D$.ENTER:!readOnly&&(0,dom.gR)(targetEl,inputRef.current)&&inputRef.current&&!(0,helpers.$z)(inputRef.current)&&(event.preventDefault(),onAddChipOption(inputRef.current.value));break;case accessibility.D$.DELETE:case accessibility.D$.BACKSPACE:!readOnly&&valueLength>0&&((0,dom.gR)(targetEl,inputRef.current)?event.key===accessibility.D$.BACKSPACE&&(0,helpers.$z)(inputRef.current)&&(event.preventDefault(),moveFocusToChipOption((0,helpers.oN)(targetEl),"last",listboxRef.current)):(event.preventDefault(),removeChipOption((0,helpers.tP)(targetEl),(0,helpers.oN)(targetEl))));break;case accessibility.D$.ARROW_UP:case accessibility.D$.ARROW_LEFT:case accessibility.D$.ARROW_DOWN:case accessibility.D$.ARROW_RIGHT:0===valueLength||(0,dom.gR)(targetEl,inputRef.current)||(event.preventDefault(),moveFocusToChipOption((0,helpers.oN)(targetEl),(0,accessibility.Oz)(event.key),listboxRef.current))}},children:[value.map(((option,index)=>(0,jsx_runtime.jsx)(react.Fragment,{children:renderChip({Component:"div",value:option.value,label:option.label,disabled:option.disabled||disabled,readOnly:option.readOnly||readOnly,className:ChipsInputBase_ChipsInputBase_module.chip,onRemove:handleChipRemove,"data-index":index,"data-value":option.value,tabIndex:lastFocusedChipOptionIndex===index?0:-1,role:"option","aria-selected":!0,"aria-posinset":index+1,"aria-setsize":valueLength},option)},`${typeof option.value}-${option.value}`))),(0,jsx_runtime.jsx)(Text.E,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",spellCheck:!1,...restProps,Component:"input",type:"text",id:idProp||`chips-input-base-generated-id-${idGenerated}`,getRootRef:inputRef,className:ChipsInputBase_ChipsInputBase_module.el,disabled,readOnly,placeholder:withPlaceholder?placeholder:void 0,value:inputValue,onChange:onInputChange,onBlur:event=>{onBlur&&onBlur(event),addOnBlur&&!event.defaultPrevented&&inputRef.current&&onAddChipOption(inputRef.current.value)}})]})})};try{ChipsInputBase.displayName="ChipsInputBase",ChipsInputBase.__docgenInfo={description:"",displayName:"ChipsInputBase",props:{onClear:{defaultValue:null,description:"",name:"onClear",required:!0,type:{name:"() => void"}},onAddChipOption:{defaultValue:null,description:"",name:"onAddChipOption",required:!0,type:{name:"(value: string) => void"}},onRemoveChipOption:{defaultValue:null,description:"",name:"onRemoveChipOption",required:!0,type:{name:"(value: ChipOptionValue | O) => void"}},getRootRef:{defaultValue:null,description:"",name:"getRootRef",required:!1,type:{name:"Ref<HTMLDivElement>"}},addOnBlur:{defaultValue:null,description:"Добавляет значение в список на событие `onBlur`",name:"addOnBlur",required:!1,type:{name:"boolean"}},renderChip:{defaultValue:{value:"Используется [Chip](#/Chip)"},description:"Render prop функция для возврата своего компонента.",name:"renderChip",required:!1,type:{name:"RenderChip<ChipOption>"}},clearButtonShown:{defaultValue:null,description:"Показывать ли кнопку для очистки значения",name:"clearButtonShown",required:!1,type:{name:"boolean"}},clearButtonTestId:{defaultValue:null,description:"(e2e) testId кнопки очистки",name:"clearButtonTestId",required:!1,type:{name:"string"}},ClearButton:{defaultValue:{value:'({\n  className,\n  onClick,\n  ...restProps\n}: FormFieldClearButtonProps): React.ReactNode => {\n  return (\n    <IconButton\n      Component="button"\n      label="Очистить поле"\n      onKeyDown={stopPropagation}\n      type="button"\n      activeMode="opacity"\n      hoverMode="opacity"\n      {...restProps}\n      className={className}\n      onClick={(e) => {\n        stopPropagation(e);\n        e.preventDefault();\n        onClick();\n      }}\n    >\n      <Icon16Cancel />\n    </IconButton>\n  );\n}'},description:"Кастомная кнопка для очистки значения.\nДолжна принимать обязательное свойство `onClick`",name:"ClearButton",required:!1,type:{name:"ComponentType<FormFieldClearButtonProps>"}},disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}},value:{defaultValue:{value:"[]"},description:"",name:"value",required:!1,type:{name:"O[]"}},onInputChange:{defaultValue:null,description:"",name:"onInputChange",required:!1,type:{name:"OnInputChange"}},inputValue:{defaultValue:{value:""},description:"",name:"inputValue",required:!1,type:{name:"string"}},getRef:{defaultValue:null,description:"",name:"getRef",required:!1,type:{name:"Ref<HTMLInputElement>"}},align:{defaultValue:null,description:"",name:"align",required:!1,type:{name:"enum",value:[{value:'"center"'},{value:'"right"'},{value:'"left"'}]}},mode:{defaultValue:null,description:"Режим отображения.\n\n- `default` — показывает фон, обводку и, при наличии, текст-подсказку.\n- `plain` — показывает только текст-подсказку.",name:"mode",required:!1,type:{name:"enum",value:[{value:'"plain"'},{value:'"default"'}]}},status:{defaultValue:null,description:"",name:"status",required:!1,type:{name:"enum",value:[{value:'"error"'},{value:'"default"'},{value:'"valid"'}]}},before:{defaultValue:null,description:"Добавляет иконку слева.\n\nРекомендации:\n\n- Используйте следующие размеры иконок `12` | `16` | `20` | `24` | `28`.\n- Используйте [IconButton](https://vkcom.github.io/VKUI/#/IconButton), если вам нужна кликабельная иконка.",name:"before",required:!1,type:{name:"ReactNode"}},after:{defaultValue:null,description:"Добавляет иконку справа.\n\nРекомендации:\n\n- Используйте следующие размеры иконок `12` | `16` | `20` | `24` | `28`.\n- Используйте [IconButton](https://vkcom.github.io/VKUI/#/IconButton), если вам нужна кликабельная иконка.",name:"after",required:!1,type:{name:"ReactNode"}},maxHeight:{defaultValue:null,description:"Максимальная высота поля",name:"maxHeight",required:!1,type:{name:"number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/ChipsInputBase/ChipsInputBase.tsx#ChipsInputBase"]={docgenInfo:ChipsInputBase.__docgenInfo,name:"ChipsInputBase",path:"src/components/ChipsInputBase/ChipsInputBase.tsx#ChipsInputBase"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/ChipsInputBase/constants.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{F3:()=>DEFAULT_INPUT_VALUE,Su:()=>getOptionValueDefault,Ti:()=>getNewOptionDataDefault,ec:()=>renderChipDefault,jX:()=>getOptionLabelDefault,kH:()=>DEFAULT_VALUE});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/react/jsx-runtime.js"),_Chip_Chip__WEBPACK_IMPORTED_MODULE_2__=(__webpack_require__("../../node_modules/react/index.js"),__webpack_require__("./src/components/ChipsInputBase/Chip/Chip.tsx"));const DEFAULT_VALUE=[],DEFAULT_INPUT_VALUE="";function getOptionValueDefault(option){return option.value}function getOptionLabelDefault(option){return option.label}function getNewOptionDataDefault(value,label){return{value,label}}function renderChipDefault(props){const{label,...rest}=props;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_Chip_Chip__WEBPACK_IMPORTED_MODULE_2__.v,{removable:!props.disabled,...rest,children:label})}try{getOptionValueDefault.displayName="getOptionValueDefault",getOptionValueDefault.__docgenInfo={description:"",displayName:"getOptionValueDefault",props:{value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"ChipOptionValue"}},label:{defaultValue:null,description:"",name:"label",required:!0,type:{name:"ChipOptionLabel"}},disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/ChipsInputBase/constants.tsx#getOptionValueDefault"]={docgenInfo:getOptionValueDefault.__docgenInfo,name:"getOptionValueDefault",path:"src/components/ChipsInputBase/constants.tsx#getOptionValueDefault"})}catch(__react_docgen_typescript_loader_error){}try{getOptionLabelDefault.displayName="getOptionLabelDefault",getOptionLabelDefault.__docgenInfo={description:"",displayName:"getOptionLabelDefault",props:{value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"ChipOptionValue"}},label:{defaultValue:null,description:"",name:"label",required:!0,type:{name:"ChipOptionLabel"}},disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/ChipsInputBase/constants.tsx#getOptionLabelDefault"]={docgenInfo:getOptionLabelDefault.__docgenInfo,name:"getOptionLabelDefault",path:"src/components/ChipsInputBase/constants.tsx#getOptionLabelDefault"})}catch(__react_docgen_typescript_loader_error){}try{renderChipDefault.displayName="renderChipDefault",renderChipDefault.__docgenInfo={description:"",displayName:"renderChipDefault",props:{label:{defaultValue:null,description:"",name:"label",required:!0,type:{name:"ChipOptionLabel"}},value:{defaultValue:null,description:"",name:"value",required:!1,type:{name:"ChipOptionValue"}},removable:{defaultValue:null,description:"",name:"removable",required:!1,type:{name:"boolean"}},disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}},readOnly:{defaultValue:null,description:"",name:"readOnly",required:!1,type:{name:"boolean"}},removeLabel:{defaultValue:null,description:"",name:"removeLabel",required:!1,type:{name:"string"}},before:{defaultValue:null,description:"",name:"before",required:!1,type:{name:"ReactNode"}},after:{defaultValue:null,description:"",name:"after",required:!1,type:{name:"ReactNode"}},onRemove:{defaultValue:null,description:"",name:"onRemove",required:!1,type:{name:"((event: MouseEvent<Element, MouseEvent>, value: ChipOptionValue) => void)"}},Component:{defaultValue:null,description:"",name:"Component",required:!1,type:{name:"ElementType<any, keyof IntrinsicElements>"}},getRootRef:{defaultValue:null,description:"",name:"getRootRef",required:!1,type:{name:"Ref<HTMLElement>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/ChipsInputBase/constants.tsx#renderChipDefault"]={docgenInfo:renderChipDefault.__docgenInfo,name:"renderChipDefault",path:"src/components/ChipsInputBase/constants.tsx#renderChipDefault"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/ChipsInputBase/helpers.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{$z:()=>isInputValueEmpty,HK:()=>getChipOptionIndexByValueProp,oN:()=>getChipOptionIndexByHTMLElement,pm:()=>getNextChipOptionIndexByNavigateToProp,tP:()=>getChipOptionValueByHTMLElement,zP:()=>isValueLikeChipOptionObject});var _constants__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/components/ChipsInputBase/constants.tsx");const isValueLikeChipOptionObject=v=>"object"==typeof v&&"value"in v,isInputValueEmpty=input=>!input||input.value===_constants__WEBPACK_IMPORTED_MODULE_0__.F3,getChipOptionIndexByValueProp=(optionProp,valueProp)=>{const value=isValueLikeChipOptionObject(optionProp)?optionProp.value:optionProp;return valueProp.findIndex((option=>option.value===value))},getChipOptionIndexByHTMLElement=el=>{const value=el&&el.dataset.index;return"string"==typeof value?Number(value):-1},getChipOptionValueByHTMLElement=el=>{const value=el&&el.dataset.value;return"string"==typeof value?value:-1},getNextChipOptionIndexByNavigateToProp=(currentIndex,navigateTo,length)=>{const LAST_INDEX=length-1;switch(navigateTo){case"prev":const prevIndex=currentIndex-1;return prevIndex<0?LAST_INDEX:prevIndex;case"next":const nextIndex=currentIndex+1;return nextIndex>LAST_INDEX?0:nextIndex;case"last":return LAST_INDEX;default:return-1}}},"./src/components/Typography/Subhead/Subhead.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{L:()=>Subhead});var jsx_runtime=__webpack_require__("../../node_modules/react/jsx-runtime.js"),es6=__webpack_require__("../../node_modules/@vkontakte/vkjs/lib/es6/index.js"),useAdaptivity=__webpack_require__("./src/hooks/useAdaptivity.ts"),Typography=__webpack_require__("./src/components/Typography/Typography.tsx"),injectStylesIntoStyleTag=__webpack_require__("../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),injectStylesIntoStyleTag_default=__webpack_require__.n(injectStylesIntoStyleTag),singletonStyleDomAPI=__webpack_require__("../../node_modules/style-loader/dist/runtime/singletonStyleDomAPI.js"),singletonStyleDomAPI_default=__webpack_require__.n(singletonStyleDomAPI),insertBySelector=__webpack_require__("../../node_modules/style-loader/dist/runtime/insertBySelector.js"),insertBySelector_default=__webpack_require__.n(insertBySelector),setAttributesWithAttributesAndNonce=__webpack_require__("../../node_modules/style-loader/dist/runtime/setAttributesWithAttributesAndNonce.js"),setAttributesWithAttributesAndNonce_default=__webpack_require__.n(setAttributesWithAttributesAndNonce),insertStyleElement=__webpack_require__("../../node_modules/style-loader/dist/runtime/insertStyleElement.js"),insertStyleElement_default=__webpack_require__.n(insertStyleElement),Subhead_module=__webpack_require__("../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[14].use[1]!../../node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[14].use[2]!./src/components/Typography/Subhead/Subhead.module.css"),options={attributes:{class:"vkui-style"}};options.setAttributes=setAttributesWithAttributesAndNonce_default(),options.insert=insertBySelector_default().bind(null,"head"),options.domAPI=singletonStyleDomAPI_default(),options.insertStyleElement=insertStyleElement_default();injectStylesIntoStyleTag_default()(Subhead_module.A,options);const Subhead_Subhead_module=Subhead_module.A&&Subhead_module.A.locals?Subhead_module.A.locals:void 0,sizeYClassNames={none:Subhead_Subhead_module.sizeYNone,compact:Subhead_Subhead_module.sizeYCompact},Subhead=({className,Component="span",normalize=!0,inline=!1,...restProps})=>{const{sizeY="none"}=(0,useAdaptivity.L)();return(0,jsx_runtime.jsx)(Typography.o,{Component,normalize,inline,className:(0,es6.xW)(className,Subhead_Subhead_module.host,"regular"!==sizeY&&sizeYClassNames[sizeY]),...restProps})};try{Subhead.displayName="Subhead",Subhead.__docgenInfo={description:"Используется для подзаголовков 2 уровня.",displayName:"Subhead",props:{weight:{defaultValue:null,description:"Задаёт начертание шрифта, отличное от стандартного.",name:"weight",required:!1,type:{name:"enum",value:[{value:'"1"'},{value:'"2"'},{value:'"3"'}]}},useAccentWeight:{defaultValue:null,description:"Включает акцентный тип начертания шрифта.\nИспользуются токены fontWeightAccent[1, 2, 3]\nИспользуется только вместе с `weight`",name:"useAccentWeight",required:!1,type:{name:"boolean"}},normalize:{defaultValue:{value:"true"},description:"Убирает внешние отступы",name:"normalize",required:!1,type:{name:"boolean"}},inline:{defaultValue:{value:"false"},description:"Делает блок инлайновым",name:"inline",required:!1,type:{name:"boolean"}},Component:{defaultValue:{value:"span"},description:"",name:"Component",required:!1,type:{name:"ElementType<any, keyof IntrinsicElements>"}},getRootRef:{defaultValue:null,description:"",name:"getRootRef",required:!1,type:{name:"Ref<HTMLElement>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Typography/Subhead/Subhead.tsx#Subhead"]={docgenInfo:Subhead.__docgenInfo,name:"Subhead",path:"src/components/Typography/Subhead/Subhead.tsx#Subhead"})}catch(__react_docgen_typescript_loader_error){}},"./src/hooks/useEnsuredControl.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{D:()=>useEnsuredControl,m:()=>useCustomEnsuredControl});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/react/index.js"),_vkontakte_vkjs__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/@vkontakte/vkjs/lib/es6/index.js"),_lib_useIsomorphicLayoutEffect__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/lib/useIsomorphicLayoutEffect.ts");function useEnsuredControl({onChange:onChangeProp,disabled,...props}){const[value,onChangeValue]=useCustomEnsuredControl(props);return[value,react__WEBPACK_IMPORTED_MODULE_0__.useCallback((e=>{disabled||(onChangeValue(e.target.value),onChangeProp&&onChangeProp(e))}),[onChangeValue,onChangeProp,disabled])]}(0,__webpack_require__("./src/lib/warnOnce.ts").m)("useCustomEnsuredControl");function useCustomEnsuredControl({value,defaultValue,disabled,onChange:onChangeProp}){const isControlled=void 0!==value,[localValue,setLocalValue]=react__WEBPACK_IMPORTED_MODULE_0__.useState(defaultValue),preservedControlledValueRef=react__WEBPACK_IMPORTED_MODULE_0__.useRef();(0,_lib_useIsomorphicLayoutEffect__WEBPACK_IMPORTED_MODULE_3__.E)((()=>{preservedControlledValueRef.current=value}));const currentFallbackValueRef=react__WEBPACK_IMPORTED_MODULE_0__.useRef(value);currentFallbackValueRef.current=value;const onChange=react__WEBPACK_IMPORTED_MODULE_0__.useCallback((nextValue=>{if(!disabled)if((0,_vkontakte_vkjs__WEBPACK_IMPORTED_MODULE_1__.Tn)(nextValue))if(isControlled){if(onChangeProp){0;const prevValue=void 0===preservedControlledValueRef.current?currentFallbackValueRef.current:preservedControlledValueRef.current;if(void 0!==prevValue){const resolvedValue=nextValue(prevValue);onChangeProp(resolvedValue)}}}else setLocalValue((prevValue=>{const resolvedValue=nextValue(prevValue);return onChangeProp&&onChangeProp(resolvedValue),resolvedValue}));else onChangeProp&&onChangeProp(nextValue),isControlled||setLocalValue(nextValue)}),[disabled,isControlled,onChangeProp]);return[isControlled?value:localValue,onChange]}},"./src/hooks/useFocusWithin.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{R:()=>useFocusWithin});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/react/index.js"),_lib_dom__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/lib/dom.tsx"),_lib_useIsomorphicLayoutEffect__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/lib/useIsomorphicLayoutEffect.ts");const isFocusWithin=(ref,document)=>ref.contains(document.activeElement);function useFocusWithin(ref){const{document}=(0,_lib_dom__WEBPACK_IMPORTED_MODULE_1__.a4)(),[focusWithin,setFocusWithin]=react__WEBPACK_IMPORTED_MODULE_0__.useState((()=>!(!ref.current||!document)&&isFocusWithin(ref.current,document)));return(0,_lib_useIsomorphicLayoutEffect__WEBPACK_IMPORTED_MODULE_2__.E)((function handleAutoFocus(){if(!document)return;const handleFocusOrBlurEvents=()=>{ref.current&&setFocusWithin(isFocusWithin(ref.current,document))};return handleFocusOrBlurEvents(),document.addEventListener("focus",handleFocusOrBlurEvents,{capture:!0}),document.addEventListener("blur",handleFocusOrBlurEvents,{capture:!0}),()=>{document.removeEventListener("focus",handleFocusOrBlurEvents,{capture:!0}),document.removeEventListener("blur",handleFocusOrBlurEvents,{capture:!0})}}),[]),focusWithin}},"./src/hooks/useNativeFormResetListener.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{g:()=>useNativeFormResetListener});var _lib_useIsomorphicLayoutEffect__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/lib/useIsomorphicLayoutEffect.ts");const useNativeFormResetListener=(ref,handler)=>{(0,_lib_useIsomorphicLayoutEffect__WEBPACK_IMPORTED_MODULE_0__.E)((()=>{if(!ref.current)return;const formEl=ref.current.closest("form");return formEl?(formEl.addEventListener("reset",handler),()=>{formEl.removeEventListener("reset",handler)}):void 0}),[ref,handler])}},"./src/testing/presets/getFormFieldIconsPresets.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{b:()=>getFormFieldIconsPresets});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/react/jsx-runtime.js"),_vkontakte_icons__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../../node_modules/@vkontakte/icons/dist_es6/28/message_outline_28.js"),_vkontakte_icons__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("../../node_modules/@vkontakte/icons/dist_es6/16/clear_16.js"),_vkontakte_vkjs__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/@vkontakte/vkjs/lib/es6/index.js"),_components_IconButton_IconButton__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/components/IconButton/IconButton.tsx"),_createFieldWithPresets__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/testing/presets/createFieldWithPresets.tsx");const getFormFieldIconsPresets=()=>(0,_createFieldWithPresets__WEBPACK_IMPORTED_MODULE_2__.z)({iconSizes:["12","16","20","24","28"],additionalPresets:{MessageButton:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_IconButton_IconButton__WEBPACK_IMPORTED_MODULE_3__.K,{onClick:_vkontakte_vkjs__WEBPACK_IMPORTED_MODULE_1__.lQ,label:"Сообщения",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_vkontakte_icons__WEBPACK_IMPORTED_MODULE_4__.P,{})}),DeleteIconButton:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_IconButton_IconButton__WEBPACK_IMPORTED_MODULE_3__.K,{onClick:_vkontakte_vkjs__WEBPACK_IMPORTED_MODULE_1__.lQ,label:"Очистить",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_vkontakte_icons__WEBPACK_IMPORTED_MODULE_5__.M,{})})}})}}]);