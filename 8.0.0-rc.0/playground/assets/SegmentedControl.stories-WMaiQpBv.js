import{j as e,k as q,r as I,i as E,q as O,R as H,g as M}from"./iframe-CWLi0Dwx.js";import{D as z,C as P}from"./constants-DdkjnEgz.js";import{c as k}from"./createStoryParameters-CcwS40kl.js";import{u as D}from"./useConfigDirection-EPKxpKX2.js";import{u as w}from"./useEnsuredControl-D9d4ZMOI.js";import{u as A}from"./useTabsNavigation-BU84NkaF.js";import{C as $}from"./Clickable-qvNFYhPA.js";import{H as F}from"./Headline-BBfhp0Vp.js";import{V as B}from"./VisuallyHidden-DcnlEFVn.js";const K="_host_1aeb2_1",U="_hover_1aeb2_19",Y="_before_1aeb2_23",d={host:K,hover:U,before:Y},_=({getRef:t,children:u,getRootRef:o,before:l,rootProps:g,inputProps:i})=>e.jsxs($,{Component:"label",baseClassName:d.host,hoverClassName:d.hover,activeClassName:d.hover,getRootRef:o,...g,children:[i&&e.jsx(B,{...i,Component:"input",getRootRef:t,type:"radio"}),q(l)&&e.jsx("div",{className:d.before,children:l}),e.jsx(F,{level:"2",weight:"2",children:u})]});try{_.displayName="SegmentedControlOption",_.__docgenInfo={description:"",displayName:"SegmentedControlOption",props:{rootProps:{defaultValue:null,description:"",name:"rootProps",required:!1,type:{name:"LabelHTMLAttributes<HTMLLabelElement>"}},inputProps:{defaultValue:null,description:"",name:"inputProps",required:!1,type:{name:"InputHTMLAttributes<HTMLInputElement>"}},before:{defaultValue:null,description:"",name:"before",required:!1,type:{name:"ReactNode"}},getRootRef:{defaultValue:null,description:"",name:"getRootRef",required:!1,type:{name:"Ref<HTMLLabelElement>"}},getRef:{defaultValue:null,description:"",name:"getRef",required:!1,type:{name:"Ref<HTMLInputElement>"}}}}}catch{}const G="_host_17ynb_1",J="_sizeL_17ynb_10",Q="_slider_17ynb_23",W="_rtl_17ynb_42",X="_densityRegular_17ynb_49",Z="_densityNone_17ynb_58",a={host:G,sizeL:J,in:"_in_17ynb_14",slider:Q,rtl:W,densityRegular:X,densityNone:Z},ee={none:a.densityNone,regular:a.densityRegular},f=({size:t="l",name:u,options:o,defaultValue:l=o[0]?.value,children:g,onChange:i,value:C,role:r="radiogroup",...R})=>{const S=I.useId(),y=D()==="rtl",[v,x]=w({onChange:i,value:C,defaultValue:l}),{density:b="none"}=E(),{tabsRef:N}=A(r==="tablist",y),c=o.findIndex(m=>m.value===v);O(()=>{},[c]);const V={"--vkui_internal--SegmentedControl_actual_index":String(c),"--vkui_internal--SegmentedControl_options":String(o.length)};return e.jsx(H,{...R,baseClassName:M(a.host,b!=="compact"&&ee[b],t==="l"&&a.sizeL,y&&a.rtl),children:e.jsxs("div",{role:r,ref:N,className:a.in,children:[c>-1&&e.jsx("div",{"aria-hidden":!0,className:a.slider,style:V}),o.map(({label:m,before:L,...n})=>{const p=v===n.value,h=()=>x(n.value),T=r==="tablist"?{role:"tab","aria-selected":p,onClick:h,tabIndex:n.tabIndex??(p?0:-1),...n}:void 0,j=r!=="tablist"?{role:n.role||(r==="radiogroup"?"radio":void 0),checked:p,onChange:h,name:u??S,...n}:void 0;return e.jsx(_,{before:L,rootProps:T,inputProps:j,children:m},`${n.value}`)})]})})};try{f.displayName="SegmentedControl",f.__docgenInfo={description:"",displayName:"SegmentedControl",props:{options:{defaultValue:null,description:"Массив опций для отображения в компоненте.",name:"options",required:!0,type:{name:"SegmentedControlOptionInterface<T>[]"}},size:{defaultValue:{value:"l"},description:"Размер компонента.",name:"size",required:!1,type:{name:"enum",value:[{value:'"m"'},{value:'"l"'}]}},name:{defaultValue:null,description:"Имя для input-элементов внутри компонента.",name:"name",required:!1,type:{name:"string"}},onChange:{defaultValue:null,description:"Обработчик изменения выбранного значения.",name:"onChange",required:!1,type:{name:"((value: T) => void)"}},value:{defaultValue:null,description:"Текущее выбранное значение (для контролируемого компонента).",name:"value",required:!1,type:{name:"SegmentedControlValue"}},defaultValue:{defaultValue:{value:"options[0]?.value"},description:"Значение по умолчанию (для неконтролируемого компонента).",name:"defaultValue",required:!1,type:{name:"SegmentedControlValue"}},getRootRef:{defaultValue:null,description:"",name:"getRootRef",required:!1,type:{name:"Ref<HTMLDivElement>"}}}}}catch{}const{fn:te}=__STORYBOOK_MODULE_TEST__,ne={title:"Forms/SegmentedControl",component:f,parameters:k("SegmentedControl",P,z),args:{onChange:te()},argTypes:{role:{control:"select",options:["radiogroup","tablist"]}},tags:["Формы и поля ввода"]},s={args:{options:[{label:"Баг",value:"bug"},{label:"Идея",value:"idea"},{label:"Другое",value:"other"}],role:"radiogroup"},decorators:[t=>e.jsx("div",{style:{width:"100%"},children:e.jsx(t,{})})]};s.parameters={...s.parameters,docs:{...s.parameters?.docs,source:{originalSource:`{
  args: {
    options: [{
      label: 'Баг',
      value: 'bug'
    }, {
      label: 'Идея',
      value: 'idea'
    }, {
      label: 'Другое',
      value: 'other'
    }],
    role: 'radiogroup'
  },
  decorators: [Component => <div style={{
    width: '100%'
  }}>
        <Component />
      </div>]
}`,...s.parameters?.docs?.source}}};const ae=["Playground"],_e=Object.freeze(Object.defineProperty({__proto__:null,Playground:s,__namedExportsOrder:ae,default:ne},Symbol.toStringTag,{value:"Module"}));export{s as P,f as S,_e as a};
