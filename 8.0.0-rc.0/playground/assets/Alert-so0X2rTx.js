import{c as f,j as t,g as m,r as o,T as u4,m as e4,n as g,R as t4,k as z,a2 as n4,ap as a4}from"./iframe-D-vjmezP.js";import{A as o4}from"./AppRootPortal-CyZtHULY.js";import{P as i4}from"./PopoutWrapper-BUF5FlTh.js";import{u as l4}from"./useAdaptivityWithJSMediaQueries-DevrISR8.js";import{u as s4}from"./useGlobalEscKeyDown-CJjuXJTQ.js";import{F as r4}from"./FocusTrap-bmUu0BLP.js";import{I as c4}from"./IconButton-DrzcArVi.js";import{M as d4}from"./ModalDismissButton-DKgqJCs-.js";import{B as p4}from"./Button-iOPheJU3.js";import{T as m4}from"./Tappable-DMeLy5rU.js";import{C as f4}from"./Caption-Cdq4IzHJ.js";import{F as E4}from"./Footnote-DApQXU2r.js";import{T as S}from"./Title-5rqdnq6p.js";import{u as A4}from"./useCSSKeyframesAnimationController-BPrxArYG.js";import{I as _4}from"./cancel_20-iVWticgh.js";const D4="_host_jh5rr_1",F4="_desktop_jh5rr_15",y4="_opening_jh5rr_19",C4="_closing_jh5rr_24",B4="_content_jh5rr_41",g4="_contentWithButton_jh5rr_47",v4="_action_jh5rr_51",h4="_actions_jh5rr_56",V4="_title_jh5rr_64",b4="_description_jh5rr_68",j4="_actionsDirectionHorizontal_jh5rr_77",k4="_actionsDirectionVertical_jh5rr_81",q4="_actionsAlignLeft_jh5rr_91",I4="_actionsAlignCenter_jh5rr_96",R4="_actionsAlignRight_jh5rr_101",x4="_ios_jh5rr_109",M4="_actionModeCancel_jh5rr_246",N4="_actionModeDestructive_jh5rr_250",T4="_vkcom_jh5rr_258",L4="_button_jh5rr_274",H4="_buttonModeCancel_jh5rr_278",P4="_dismiss_jh5rr_282",e={host:D4,desktop:F4,opening:y4,closing:C4,content:B4,contentWithButton:g4,action:v4,actions:h4,title:V4,description:b4,actionsDirectionHorizontal:j4,actionsDirectionVertical:k4,actionsAlignLeft:q4,actionsAlignCenter:I4,actionsAlignRight:R4,ios:x4,actionModeCancel:M4,actionModeDestructive:N4,vkcom:T4,button:L4,buttonModeCancel:H4,dismiss:P4},z4=({mode:u,...n})=>t.jsx(m4,{Component:n.href?"a":"button",baseClassName:m(e.action,u==="destructive"&&e.actionModeDestructive,u==="cancel"&&e.actionModeCancel),...n}),S4=({mode:u,...n})=>{const s=f();let a="tertiary";return s==="vkcom"&&(a=u==="cancel"?"secondary":"primary"),t.jsx(p4,{className:m(e.button,u==="cancel"&&e.buttonModeCancel),mode:a,size:"m",...n})},v=u=>f()==="ios"?t.jsx(z4,{...u}):t.jsx(S4,{...u});try{v.displayName="AlertAction",v.__docgenInfo={description:"",displayName:"AlertAction",props:{children:{defaultValue:null,description:"Содержимое компонента.",name:"children",required:!0,type:{name:"string"}},onClick:{defaultValue:null,description:"Обработчик нажатия.",name:"onClick",required:!0,type:{name:"MouseEventHandler<HTMLElement>"}},Component:{defaultValue:null,description:"",name:"Component",required:!1,type:{name:"ElementType<any, keyof IntrinsicElements>"}},mode:{defaultValue:null,description:"Режим отображения опции.",name:"mode",required:!0,type:{name:"enum",value:[{value:'"default"'},{value:'"destructive"'},{value:'"cancel"'}]}}}}}catch{}const w4={left:e.actionsAlignLeft,center:e.actionsAlignCenter,right:e.actionsAlignRight},O4={vertical:e.actionsDirectionVertical,horizontal:e.actionsDirectionHorizontal},h=({actions:u=[],renderAction:n=d=>t.jsx(v,{...d}),onItemClick:s,actionsAlign:a,actionsLayout:i})=>{const r=f()==="vkcom"?"horizontal":i;return t.jsx("div",{className:m(e.actions,a&&w4[a],r&&O4[r]),children:u.map((l,E)=>{const{title:F,action:A,autoCloseDisabled:y,..._}=l;return t.jsx(o.Fragment,{children:n({children:F,onClick:()=>s(l),..._})},E)})})};try{h.displayName="AlertActions",h.__docgenInfo={description:"",displayName:"AlertActions",props:{onItemClick:{defaultValue:null,description:"Обработчик нажатия на одну из опций.",name:"onItemClick",required:!0,type:{name:"ItemClickHandler"}},actionsLayout:{defaultValue:null,description:"Расположение действий - вертикально или горизонтально.",name:"actionsLayout",required:!1,type:{name:"enum",value:[{value:'"horizontal"'},{value:'"vertical"'}]}},actionsAlign:{defaultValue:null,description:"Тип выравнивания действий.",name:"actionsAlign",required:!1,type:{name:"enum",value:[{value:'"center"'},{value:'"left"'},{value:'"right"'}]}},actions:{defaultValue:{value:"[]"},description:"Список действий.",name:"actions",required:!1,type:{name:"AlertActionInterface[]"}},renderAction:{defaultValue:{value:"(props) => <AlertAction {...props} />"},description:"Функция для отрисовки действия.",name:"renderAction",required:!1,type:{name:"((props: AlertActionProps) => ReactNode)"}}}}}catch{}const V=u=>{switch(f()){case"ios":return t.jsx(S,{className:e.title,weight:"1",level:"3",...u});default:return t.jsx(S,{className:e.title,weight:"2",level:"2",...u})}},b=u=>{switch(f()){case"vkcom":return t.jsx(E4,{className:e.description,...u});case"ios":return t.jsx(f4,{className:e.description,...u});default:return t.jsx(u4,{Component:"span",className:e.description,weight:"3",...u})}};try{V.displayName="AlertTitle",V.__docgenInfo={description:"",displayName:"AlertTitle",props:{id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"string"}},"data-testid":{defaultValue:null,description:"",name:"data-testid",required:!1,type:{name:"string"}}}}}catch{}try{b.displayName="AlertDescription",b.__docgenInfo={description:"",displayName:"AlertDescription",props:{id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"string"}},"data-testid":{defaultValue:null,description:"",name:"data-testid",required:!1,type:{name:"string"}}}}}catch{}const j=({actions:u,actionsLayout:n="horizontal",children:s,title:a,description:i,onClose:d,onClosed:r,dismissLabel:l="Закрыть предупреждение",renderAction:E,actionsAlign:F,dismissButtonMode:A="outside",dismissButtonTestId:y,onClick:_,allowClickPropagation:O=!1,titleTestId:W,descriptionTestId:K,closing:k,setClosing:q,autoFocus:I,restoreFocus:$,...G})=>{const R=o.useId(),x=`vkui-alert-${R}-title`,M=`vkui-alert-${R}-description`,N=e4(d||g),C=f(),{isDesktop:T}=l4(),B=o.useRef(g),[J,Q]=A4(k?"exit":"enter",{onExited(){B.current(),B.current=g,r()}}),L=T&&C!=="ios",H=o.useRef(null),c=o.useCallback(p=>{N?.(p),q?.(!0)},[N,q]),U=o.useCallback(p=>{const{action:D,autoCloseDisabled:Z=!1}=p;Z?D&&D({close:()=>c("click-item")}):(D&&(B.current=D),c("click-item"))},[c]),X=O?_:p=>{n4(p),_?.(p)},Y=o.useCallback(()=>c("escape-key"),[c]),P=o.useCallback(()=>c("click-close-button"),[c]);return s4(!0,Y),t.jsx(r4,{rootRef:H,autoFocus:I===void 0?J==="entered":I,restoreFocus:$,children:t.jsxs(t4,{...Q,tabIndex:-1,onClick:X,getRootRef:H,className:m(e.host,C==="ios"&&e.ios,C==="vkcom"&&e.vkcom,k?e.closing:e.opening,T&&e.desktop),role:"alertdialog","aria-modal":!0,"aria-labelledby":x,"aria-describedby":M,...G,children:[t.jsxs("div",{className:m(e.content,A==="inside"&&e.contentWithButton),tabIndex:-1,children:[z(a)&&t.jsx(V,{"data-testid":W,id:x,children:a}),z(i)&&t.jsx(b,{"data-testid":K,id:M,children:i}),s,L&&A==="inside"&&t.jsx(c4,{label:l,className:m(e.dismiss,"vkuiInternalAlert__dismiss"),onClick:P,hoverMode:"opacity",activeMode:"opacity","data-testid":y,children:t.jsx(_4,{})})]}),L&&A==="outside"&&t.jsx(d4,{onClick:P,"data-testid":y,children:l}),t.jsx(h,{actions:u,actionsAlign:F,actionsLayout:n,renderAction:E,onItemClick:U})]})})};try{j.displayName="AlertBase",j.__docgenInfo={description:"",displayName:"AlertBase",props:{closing:{defaultValue:null,description:`Флаг, определяющий состояние закрытия модального окна.
Когда установлен в true, запускает анимацию закрытия окна.`,name:"closing",required:!1,type:{name:"boolean"}},setClosing:{defaultValue:null,description:`Функция обратного вызова для управления состоянием закрытия модального окна.
Принимает булево значение, которое определяет, находится ли окно в процессе закрытия.`,name:"setClosing",required:!1,type:{name:"((closing: boolean) => void)"}},title:{defaultValue:null,description:"Заголовок модального окна.",name:"title",required:!1,type:{name:"ReactNode"}},autoFocus:{defaultValue:{value:"true"},description:"Управление поведением автофокуса при появлении всплывающего окна.\nПри прокидывании `true` фокус будет установлен на первый элемент.\nПри прокидывании `root` фокус будет установлен в корень.",name:"autoFocus",required:!1,type:{name:'boolean | "root"'}},onClose:{defaultValue:null,description:"Обработчик закрытия модального окна.",name:"onClose",required:!1,type:{name:"((reason: AlertCloseReason) => void)"}},description:{defaultValue:null,description:"Описание модального окна.",name:"description",required:!1,type:{name:"ReactNode"}},actionsLayout:{defaultValue:{value:"horizontal"},description:"Расположение действий - вертикально или горизонтально.",name:"actionsLayout",required:!1,type:{name:"enum",value:[{value:'"horizontal"'},{value:'"vertical"'}]}},actionsAlign:{defaultValue:null,description:"Тип выравнивания действий.",name:"actionsAlign",required:!1,type:{name:"enum",value:[{value:'"center"'},{value:'"left"'},{value:'"right"'}]}},actions:{defaultValue:null,description:"Список действий.",name:"actions",required:!1,type:{name:"AlertActionInterface[]"}},renderAction:{defaultValue:null,description:"Функция для отрисовки действия.",name:"renderAction",required:!1,type:{name:"((props: AlertActionProps) => ReactNode)"}},onClosed:{defaultValue:null,description:"Обработчик закрытия модального окна, срабатывающий после окончания анимации.",name:"onClosed",required:!0,type:{name:"VoidFunction"}},dismissLabel:{defaultValue:{value:"Закрыть предупреждение"},description:"Текст кнопки закрытия. Делает ее доступной для ассистивных технологий.",name:"dismissLabel",required:!1,type:{name:"string"}},dismissButtonMode:{defaultValue:{value:"outside"},description:"Расположение кнопки закрытия (внутри и вне `popout'a`)\nДоступно только в `compact`-режиме, не отображается на `iOS`.\n\n⚠️ ВНИМАНИЕ: использование `none` скрывает крестик, это негативно сказывается на пользовательском опыте.",name:"dismissButtonMode",required:!1,type:{name:"enum",value:[{value:'"none"'},{value:'"inside"'},{value:'"outside"'}]}},dismissButtonTestId:{defaultValue:null,description:"Передает атрибут `data-testid` для кнопки закрытия.",name:"dismissButtonTestId",required:!1,type:{name:"string"}},titleTestId:{defaultValue:null,description:"Передает атрибут `data-testid` для заголовка.",name:"titleTestId",required:!1,type:{name:"string"}},descriptionTestId:{defaultValue:null,description:"Передает атрибут `data-testid` для описания.",name:"descriptionTestId",required:!1,type:{name:"string"}},allowClickPropagation:{defaultValue:{value:"false"},description:"По умолчанию событие onClick не всплывает.",name:"allowClickPropagation",required:!1,type:{name:"boolean"}},restoreFocus:{defaultValue:{value:"true"},description:"Управление поведением возврата фокуса при закрытии всплывающего окна.",name:"restoreFocus",required:!1,type:{name:"boolean | (() => boolean | HTMLElement)"}}}}}catch{}const w=({usePortal:u,style:n,className:s,getRootRef:a,onClose:i,...d})=>{const[r,l]=o.useState(!1),E=o.useCallback(()=>{i?.("click-overlay"),l(!0)},[i]);return a4(),t.jsx(o4,{usePortal:u,children:t.jsx(i4,{className:s,closing:r,style:n,onClick:E,getRootRef:a,children:t.jsx(j,{...d,onClose:i,closing:r,setClosing:l})})})};try{w.displayName="Alert",w.__docgenInfo={description:"",displayName:"Alert",props:{actionsLayout:{defaultValue:null,description:"Расположение действий - вертикально или горизонтально.",name:"actionsLayout",required:!1,type:{name:"enum",value:[{value:'"horizontal"'},{value:'"vertical"'}]}},actionsAlign:{defaultValue:null,description:"Тип выравнивания действий.",name:"actionsAlign",required:!1,type:{name:"enum",value:[{value:'"center"'},{value:'"left"'},{value:'"right"'}]}},actions:{defaultValue:null,description:"Список действий.",name:"actions",required:!1,type:{name:"AlertActionInterface[]"}},renderAction:{defaultValue:null,description:"Функция для отрисовки действия.",name:"renderAction",required:!1,type:{name:"((props: AlertActionProps) => ReactNode)"}},title:{defaultValue:null,description:"Заголовок модального окна.",name:"title",required:!1,type:{name:"ReactNode"}},description:{defaultValue:null,description:"Описание модального окна.",name:"description",required:!1,type:{name:"ReactNode"}},onClose:{defaultValue:null,description:"Обработчик закрытия модального окна.",name:"onClose",required:!1,type:{name:"((reason: AlertCloseReason) => void)"}},onClosed:{defaultValue:null,description:"Обработчик закрытия модального окна, срабатывающий после окончания анимации.",name:"onClosed",required:!0,type:{name:"VoidFunction"}},dismissLabel:{defaultValue:null,description:"Текст кнопки закрытия. Делает ее доступной для ассистивных технологий.",name:"dismissLabel",required:!1,type:{name:"string"}},dismissButtonMode:{defaultValue:null,description:"Расположение кнопки закрытия (внутри и вне `popout'a`)\nДоступно только в `compact`-режиме, не отображается на `iOS`.\n\n⚠️ ВНИМАНИЕ: использование `none` скрывает крестик, это негативно сказывается на пользовательском опыте.",name:"dismissButtonMode",required:!1,type:{name:"enum",value:[{value:'"none"'},{value:'"inside"'},{value:'"outside"'}]}},dismissButtonTestId:{defaultValue:null,description:"Передает атрибут `data-testid` для кнопки закрытия.",name:"dismissButtonTestId",required:!1,type:{name:"string"}},titleTestId:{defaultValue:null,description:"Передает атрибут `data-testid` для заголовка.",name:"titleTestId",required:!1,type:{name:"string"}},descriptionTestId:{defaultValue:null,description:"Передает атрибут `data-testid` для описания.",name:"descriptionTestId",required:!1,type:{name:"string"}},allowClickPropagation:{defaultValue:null,description:"По умолчанию событие onClick не всплывает.",name:"allowClickPropagation",required:!1,type:{name:"boolean"}},restoreFocus:{defaultValue:{value:"true"},description:"Управление поведением возврата фокуса при закрытии всплывающего окна.",name:"restoreFocus",required:!1,type:{name:"boolean | (() => boolean | HTMLElement)"}},autoFocus:{defaultValue:{value:"true"},description:"Управление поведением автофокуса при появлении всплывающего окна.\nПри прокидывании `true` фокус будет установлен на первый элемент.\nПри прокидывании `root` фокус будет установлен в корень.",name:"autoFocus",required:!1,type:{name:'boolean | "root"'}},usePortal:{defaultValue:{value:"true (использует `document.body` как портал по умолчанию)"},description:"Настройка портала для рендеринга компонента.\n\n`true` - использует `portalRoot` из контекста `AppRoot` (если доступен) или `document.body`;\n`false` - отключает использование портала;\n`HTMLElement` - указывает конкретный DOM-элемент для использования в качестве портала;\n`React.RefObject<HTMLElement | null>` - ссылка на DOM-элемент для использования в качестве портала;\n`null` - эквивалентно `false`, отключает использование портала.",name:"usePortal",required:!1,type:{name:"boolean | HTMLElement | RefObject<HTMLElement | null> | null"}},getRootRef:{defaultValue:null,description:"",name:"getRootRef",required:!1,type:{name:"Ref<HTMLDivElement>"}}}}}catch{}export{w as A,j as a};
