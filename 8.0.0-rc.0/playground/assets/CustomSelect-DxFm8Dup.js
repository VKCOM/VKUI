import{i as Xe,x as X,h as oe,j as C,T as Qu,g as le,r as n,c as Zu,a2 as We,m as z,n as te,s as et,K as E,q as se,bj as ut,o as tt,R as Ke}from"./iframe-DP0c1f9Y.js";import{a as nt}from"./getValueByKey-D-251Osc.js";import{c as Ee}from"./callMultiple-ChqatQlo.js";import{g as ot,D as lt,d as at}from"./DropdownIcon-Cj-cillC.js";import{C as st}from"./CustomSelectDropdown-CHa8KMS6.js";import{C as rt}from"./CustomSelectOption-BWyM2ouI.js";import{a as g,r as ae,b as ne}from"./NativeSelect-Matn3s-N.js";import{F as it}from"./Footnote-DJoQQEv9.js";import{V as Je}from"./VisuallyHidden-CsBByQHJ.js";import{u as ct}from"./useFocusWithin-CvS6Su5o.js";import{F as dt}from"./FormField-CPyOAnhV.js";import{S as pt}from"./Select.module-NB4erb4C.js";import{g as ft}from"./children-Bag1sNQQ.js";import{w as mt}from"./warnOnce-BsOPdcXO.js";import{I as Ct}from"./IconButton-DX6zaS9g.js";import{I as yt}from"./cancel_16-CKShxaQm.js";import{u as vt}from"./useBooleanState-CFH-Qq-E.js";import{u as ht}from"./useStateWithPrev-CZTRyD_R.js";const gt="_host_1whlp_1",bt="_el_1whlp_5",Et="_elCursorPointer_1whlp_25",Vt="_densityCompact_1whlp_29",It="_densityNone_1whlp_34",_t="_hasBefore_1whlp_39",Dt="_hasAfter_1whlp_43",Rt="_inputHidden_1whlp_47",St="_labelHidden_1whlp_51",At="_container_1whlp_51",Tt="_accessible_1whlp_66",Bt="_hasInputValue_1whlp_66",Ft="_multiline_1whlp_74",Nt="_inputGroup_1whlp_88",wt="_title_1whlp_101",Ot="_empty_1whlp_111",qt="_alignRight_1whlp_122",kt="_alignCenter_1whlp_127",h={host:gt,el:bt,elCursorPointer:Et,densityCompact:Vt,densityNone:It,hasBefore:_t,hasAfter:Dt,inputHidden:Rt,labelHidden:St,container:At,accessible:Tt,hasInputValue:Bt,multiline:Ft,inputGroup:Nt,title:wt,empty:Ot,alignRight:qt,alignCenter:kt},xt={none:h.densityNone,compact:h.densityCompact},Ve=({style:e,className:u,getRootRef:o,align:l="left",getRef:d,before:a,after:r,status:p,children:m,placeholder:i,selectType:c="default",multiline:s,fetching:y,labelTextTestId:f,searchable:v,accessible:_,slotProps:D,...M})=>{const{density:B="none"}=Xe(),{style:P,className:k,getRootRef:re,...ie}=X({style:e,className:u,getRootRef:o},D?.root),{className:ce,value:H,readOnly:L,disabled:j,placeholder:x,...de}=X({getRootRef:d,placeholder:i,...M},D?.input),pe=m||x,N=!H,J=oe(re),W=ct(J),K=L||j&&y,Q=C.jsx(Qu,{type:"text",disabled:j&&!y,readOnly:K,Component:"input",normalize:!1,placeholder:m?"":x,className:le(h.el,(L||N&&!W)&&h.elCursorPointer,ce),value:H,...de}),U=n.useMemo(()=>_?v?!W||K&&!y:!0:!1,[_,y,W,K,v]),fe=N?!1:!U,me=Zu();return C.jsx(dt,{Component:"div",style:P,className:le(h.host,l==="right"&&h.alignRight,l==="center"&&h.alignCenter,!m&&h.empty,s&&h.multiline,B!=="regular"&&xt[B],a&&h.hasBefore,r&&h.hasAfter,U&&h.inputHidden,fe&&h.labelHidden,_&&h.accessible,H&&h.hasInputValue,k),getRootRef:J,before:a,after:r,disabled:j,mode:ot(c),status:p,...ie,children:C.jsxs("div",{className:h.inputGroup,children:[C.jsx("div",{className:le(h.container,k),tabIndex:-1,"aria-hidden":!0,"data-testid":f,children:C.jsx(pt,{selectType:c,className:h.title,children:pe})}),L&&me==="ios"?C.jsx(Je,{children:Q}):Q]})})};try{Ve.displayName="CustomSelectInput",Ve.__docgenInfo={description:"",displayName:"CustomSelectInput",props:{slotProps:{defaultValue:null,description:"",name:"slotProps",required:!1,type:{name:"{ input?: (InputHTMLAttributes<HTMLInputElement> & HasRootRef<HTMLInputElement> & HasDataAttribute); root?: (Omit<...> & ... 1 more ... & HasDataAttribute); } | undefined"}},selectType:{defaultValue:{value:"default"},description:"",name:"selectType",required:!1,type:{name:"enum",value:[{value:'"default"'},{value:'"plain"'},{value:'"accent"'}]}},multiline:{defaultValue:null,description:"",name:"multiline",required:!1,type:{name:"boolean"}},labelTextTestId:{defaultValue:null,description:"",name:"labelTextTestId",required:!1,type:{name:"string"}},fetching:{defaultValue:null,description:"",name:"fetching",required:!1,type:{name:"boolean"}},searchable:{defaultValue:null,description:"",name:"searchable",required:!1,type:{name:"boolean"}},accessible:{defaultValue:null,description:"",name:"accessible",required:!1,type:{name:"boolean"}},getRef:{defaultValue:null,description:"",name:"getRef",required:!1,type:{name:"Ref<HTMLInputElement>"}},getRootRef:{defaultValue:null,description:"",name:"getRootRef",required:!1,type:{name:"Ref<HTMLDivElement>"}},align:{defaultValue:{value:"left"},description:"",name:"align",required:!1,type:{name:"enum",value:[{value:'"center"'},{value:'"left"'},{value:'"right"'}]}},status:{defaultValue:null,description:"Статус отображения поля в форме.",name:"status",required:!1,type:{name:"enum",value:[{value:'"default"'},{value:'"error"'},{value:'"valid"'}]}},before:{defaultValue:null,description:"Добавляет иконку слева.\n\nРекомендации:\n\n- Используйте следующие размеры иконок `12` | `16` | `20` | `24` | `28`.\n- Используйте [IconButton](https://vkui.io/components/icon-button), если вам нужна иконка, реагирующая на нажатие.",name:"before",required:!1,type:{name:"ReactNode"}},after:{defaultValue:null,description:"Добавляет иконку справа.\n\nРекомендации:\n\n- Используйте следующие размеры иконок `12` | `16` | `20` | `24` | `28`.\n- Используйте [IconButton](https://vkui.io/components/icon-button), если вам нужна иконка, реагируюущая на нажатие.",name:"after",required:!1,type:{name:"ReactNode"}},beforeAlign:{defaultValue:null,description:"Вертикальное выравнивание иконки слева.",name:"beforeAlign",required:!1,type:{name:"enum",value:[{value:'"start"'},{value:'"center"'},{value:'"end"'}]}},afterAlign:{defaultValue:null,description:"Вертикальное выравнивание иконки справа.",name:"afterAlign",required:!1,type:{name:"enum",value:[{value:'"start"'},{value:'"center"'},{value:'"end"'}]}}}}}catch{}const Ue=(e=[],u=-1)=>u>=e.length-1?-1:e.findIndex((o,l)=>l>u&&!o.disabled),$e=(e=[],u=e.length)=>{let o=-1;if(u<=0)return o;for(let l=u-1;l>=0;l--)if(!e[l].disabled){o=l;break}return o},Ge=mt("CustomSelect"),Mt=(e,u)=>{!e&&u&&Ge("Похоже, что компонент был переведен из состояния Uncontrolled в Controlled. Пожалуйста, не делайте так. Если вам нужно отобразить невыбранное состояние компонента, используйте value=null вместо undefined","error"),e&&!u&&Ge("Похоже, что компонент был переведен из состояния Controlled в Uncontrolled. Пожалуйста, не делайте так. Если вам нужно отобразить невыбранное состояние компонента, используйте value=null вместо undefined","error")};function De(e=[],u){return u===g.CUSTOM?-1:e.findIndex(o=>(u=typeof o.value=="number"?Number(u):u,o.value===u))??-1}function Qe(e=[],u){const o=De(e,u);return o===-1?null:e[o]}const Pt=(e,u,o)=>typeof o=="function"?e.filter(l=>o(u,l)):e;function Ht(e=[],u){const o=Qe(e,u);return o?ft(o.label):""}const Ie=({className:e,onClick:u,...o})=>C.jsx(Ct,{Component:"button",label:"Очистить поле",onKeyDown:We,type:"button",activeMode:"opacity",hoverMode:"opacity",...o,className:e,onClick:l=>{We(l),l.preventDefault(),u()},children:C.jsx(yt,{})});try{Ie.displayName="CustomSelectClearButton",Ie.__docgenInfo={description:"",displayName:"CustomSelectClearButton",props:{className:{defaultValue:null,description:"`className` для компонента.",name:"className",required:!1,type:{name:"string"}},onClick:{defaultValue:null,description:"Обработчик нажатия на кнопку.",name:"onClick",required:!0,type:{name:"() => void"}},disabled:{defaultValue:null,description:"Блокировка взаимодействия с компонентом.",name:"disabled",required:!1,type:{name:"boolean"}}}}}catch{}const Lt="_host_94pn7_1",jt="_popDown_94pn7_8",Wt="_popUp_94pn7_13",Kt="_control_94pn7_18",Ut="_empty_94pn7_22",$t="_dropdownIcon_94pn7_35",Gt="_clearIcon_94pn7_39",Yt="_densityCompact_94pn7_43",zt="_densityNone_94pn7_52",T={host:Lt,popDown:jt,popUp:Wt,control:Kt,empty:Ut,dropdownIcon:$t,clearIcon:Gt,densityCompact:Yt,densityNone:zt};function _e({value:e,nativeSelectValue:u,isControlledOutside:o,opened:l,allowClearButton:d,ClearButton:a=Ie,onClearButtonClick:r,clearButtonTestId:p,disabled:m,readOnly:i,icon:c}){const s=z(r),y=o&&e!==g.CUSTOM,f=!o&&u!==g.NATIVE,v=d&&!l&&(y||f),_=n.useMemo(()=>v?C.jsx(a,{className:c===void 0?T.clearIcon:void 0,onClick:s,disabled:m,"data-testid":p}):null,[v,a,c,s,m,p]),D=n.useMemo(()=>c!==void 0?c:C.jsx(lt,{className:v?T.dropdownIcon:void 0,opened:l}),[v,c,l]);return n.useMemo(()=>!i&&(D||v)&&C.jsxs(n.Fragment,{children:[_,D]}),[_,v,D,i])}try{_e.displayName="useAfterItems",_e.__docgenInfo={description:"",displayName:"useAfterItems",props:{isControlledOutside:{defaultValue:null,description:"",name:"isControlledOutside",required:!0,type:{name:"boolean"}},nativeSelectValue:{defaultValue:null,description:"",name:"nativeSelectValue",required:!0,type:{name:"NativeSelectValue"}},opened:{defaultValue:null,description:"",name:"opened",required:!0,type:{name:"boolean"}},onClearButtonClick:{defaultValue:null,description:"",name:"onClearButtonClick",required:!0,type:{name:"() => void"}},value:{defaultValue:null,description:"Выбранное значение.\n\n> ⚠️  Важно: При прокидывании `undefined` компонент будет считаться `Uncontrolled`.\n>\n> Не используйте `undefined`, чтобы показать невыбранное состояние. Вместо этого используйте `null`.",name:"value",required:!1,type:{name:"SelectValue"}},clearButtonTestId:{defaultValue:null,description:"Передает атрибут `data-testid` для кнопки очистки.",name:"clearButtonTestId",required:!1,type:{name:"string"}},icon:{defaultValue:null,description:"Иконка раскрывающегося списка.",name:"icon",required:!1,type:{name:"ReactNode"}},ClearButton:{defaultValue:{value:`({
  className,
  onClick,
  ...restProps
}: CustomSelectClearButtonProps): React.ReactNode => {
  return (
    <IconButton
      Component="button"
      label="Очистить поле"
      onKeyDown={stopPropagation}
      type="button"
      activeMode="opacity"
      hoverMode="opacity"
      {...restProps}
      className={className}
      onClick={(e) => {
        stopPropagation(e);
        e.preventDefault();
        onClick();
      }}
    >
      <Icon16Cancel />
    </IconButton>
  );
}`},description:"Кастомная кнопка для очистки значения.\nДолжна принимать обязательное свойство `onClick`.",name:"ClearButton",required:!1,type:{name:"ComponentType<CustomSelectClearButtonProps>"}},allowClearButton:{defaultValue:null,description:"Если `true`, то справа будет отображаться кнопка для очистки значения.",name:"allowClearButton",required:!1,type:{name:"boolean"}}}}}catch{}function Xt({onClose:e,onOpen:u,onOpened:o,onClosed:l}){const[d,a,r]=vt(),p=z(e||te),m=z(u||te),i=z(o||te),c=z(l||te),s=n.useCallback(()=>{d&&(r(),p?.())},[p,d,r]),y=n.useCallback(()=>{d||(a(),m?.())},[m,d,a]),f=n.useCallback(()=>{d?s():y()},[s,y,d]);return n.useEffect(()=>{d?i():c()},[c,i,d]),[d,y,s,f]}function Jt({selectedOptionValue:e,filteredOptions:u,scrollToElement:o}){const[l,d]=n.useState(null),a=n.useCallback((i,c=!0)=>{if(i===void 0||i<0||i>u.length-1)return;const s=u[i];!s||s.disabled||(c&&o(i),d(s.value))},[u,o]),r=n.useCallback(()=>{d(null)},[]),p=n.useCallback(i=>{let c=De(u,l);if(i==="next"){const s=Ue(u,c);c=s===-1?Ue(u):s}else if(i==="prev"){const s=$e(u,c);c=s===-1?$e(u):s}a(c)},[u,l,a]),m=n.useCallback(()=>d(e),[e]);return{focusedOptionValue:l,setFocusedOptionValue:d,focusOptionByIndex:a,resetFocusedOption:r,focusOption:p,selectFocusedValue:m}}const Qt=[E.ARROW_UP,E.ARROW_DOWN,E.ESCAPE,E.ENTER];function Zt({opened:e,resetFocusedOption:u,focusOption:o,scrollBoxRef:l,selectFocused:d,onInputKeyDown:a,open:r,close:p}){const m=n.useCallback(s=>{const y=et(s);if(s.key.length===1&&y!==E.SPACE){r(),u();return}if(!y)return;const f=()=>l.current!==null;switch(Qt.includes(y)&&s.preventDefault(),y){case E.ARROW_UP:e?f()&&o("prev"):r();break;case E.ARROW_DOWN:e?f()&&o("next"):r();break;case E.ESCAPE:p();break;case E.BACKSPACE:case E.DELETE:{r(),u();break}case E.ENTER:case E.SPACE:e?f()&&d():r();break}},[l,e,p,o,r,u,d]),i=n.useCallback(s=>{a?.(s,e)},[e,a]);return s=>{m(s),i(s)}}function en({options:e,accessible:u,selectedValue:o,onInputChange:l}){const[d,a]=n.useState(""),r=n.useRef(e);se(()=>{r.current=e},[e]);const p=n.useCallback(()=>{a(Ht(r.current,o))},[o]);se(()=>{u&&p()},[u,p]);const m=n.useCallback(()=>{a("")},[]),i=n.useCallback(c=>{l&&l(c),a(c.target.value)},[l,a]);return{inputValue:d,resetInputValue:m,resetInputValueBySelectedOption:p,onInputChange:i}}function un(){const e=n.useRef(null),u=n.useRef(null);return{scrollToElement:n.useCallback((l,d=!1)=>{const a=e.current,r=u.current;if(!a||!r||l<0||l>r.children.length)return;const p=r.children[l];if(!p)return;const m=a.offsetHeight,i=a.scrollTop,c=p.offsetTop,s=p.offsetHeight;d?a.scrollTop=c-m/2+s/2:c+s>m+i?a.scrollTop=c-m+s:c<i&&(a.scrollTop=c)},[u,e]),scrollBoxRef:e,optionsWrapperRef:u}}function tn({value:e,defaultValue:u,isControlledOutside:o,allowClearButton:l,onChange:d}){const[[a,r],p]=ht(()=>e!==void 0?ne(e):u!==void 0?ne(u):g.NATIVE),m=n.useRef(a),[i,c]=n.useState(()=>ae(a)),s=n.useCallback(f=>{p(f),m.current=f},[p]);return n.useEffect(function(){e!==void 0&&s(ne(e))},[e,s]),n.useEffect(function(){const v=ne(i);m.current!==v&&p(v)},[i,p]),{selectedOptionValue:i,setSelectedOptionValue:c,nativeSelectValue:a,setNativeSelectValue:s,onNativeSelectChange:f=>{const v=typeof a=="number"&&(typeof e=="string"||typeof r=="string")?String(a):a,_=o&&e===ae(v),D=v!==r&&r!==void 0,M=l&&a===g.NATIVE&&r!==void 0&&r!==g.NATIVE;if(!(!_&&(D||M)))return;const P=ae(f.currentTarget.value);f.target.value===g.NATIVE&&(f.target.value=""),f.currentTarget.value===g.NATIVE&&(f.currentTarget.value=""),d?.(f,P)}}}const nn={none:T.densityNone,compact:T.densityCompact};function on({option:e,...u}){return C.jsx(rt,{...u})}function Ye(e,u){return Math.abs(u.x-e.clientX)>=1||Math.abs(u.y-e.clientY)>=1}const ln=2e3,an=({fetching:e=!1,options:u,fetchingInProgressLabel:o="Список опций загружается...",fetchingCompletedLabel:l=`Загружено опций: ${u.length}`})=>{const[d,a]=n.useState("none"),r=nt(d,{fetching:o,loaded:typeof l=="function"?l(u.length):l,none:""});return se(function(){e?a("fetching"):d==="fetching"&&(a("loaded"),setTimeout(()=>a("none"),ln))},[e]),C.jsx(Je,{"aria-live":"polite",children:r})};function ze(e){const{status:u,before:o,overscrollBehavior:l,children:d,getSelectInputRef:a,searchable:r=!1,emptyText:p="Ничего не найдено",onInputChange:m,options:i,filterFn:c=at,popupDirection:s="bottom",renderOption:y=on,renderDropdown:f,fetching:v,onClose:_,onOpen:D,ClearButton:M,allowClearButton:B=!1,clearButtonTestId:P,dropdownOffsetDistance:k=0,dropdownAutoWidth:re=!1,forceDropdownPortal:ie,noMaxHeight:ce=!1,labelTextTestId:H,nativeSelectTestId:L,onInputKeyDown:j,accessible:x=!0,fetchingInProgressLabel:de,fetchingCompletedLabel:pe,value:N,defaultValue:J,onChange:W,getRef:K,multiline:Q,placeholder:U,icon:fe,selectType:me="default",align:Ze,autoFocus:eu,disabled:uu,id:tu,readOnly:nu,required:ou,name:lu,onClick:au,onFocus:su,onBlur:ru,"aria-labelledby":Re,slotProps:Ce,...iu}=e,{density:Se="none"}=Xe(),{onClick:cu,onMouseMove:du,onMouseDown:pu,getRootRef:fu,...mu}=X(iu,Ce?.root),{getRootRef:Cu,...yu}=X({getRootRef:K,required:ou,name:lu,onClick:au,onFocus:su,onBlur:ru},Ce?.select),{getRootRef:vu,onChange:hu,onFocus:gu,onBlur:bu,onKeyDown:Ae,onClick:Te,readOnly:Z,...Be}=X({getRootRef:a,onChange:m,autoFocus:eu,disabled:uu,id:tu,readOnly:nu,placeholder:U},Ce?.input),Fe=n.useRef(null),Eu=oe(Fe,fu),F=oe(Cu),R=oe(vu),S=n.useMemo(()=>{if(N!==void 0)return Qe(i,N)?.value??null},[i,N]),[ee,Vu]=n.useState(N!==void 0),[ye,Iu]=n.useState(s),{nativeSelectValue:V,setNativeSelectValue:ve,selectedOptionValue:w,setSelectedOptionValue:Ne,onNativeSelectChange:_u}=tn({value:S,defaultValue:J,isControlledOutside:ee,allowClearButton:B,onChange:W}),Du=n.useMemo(()=>i.find(t=>t.value===w),[i,w]),{inputValue:he,onInputChange:Ru,resetInputValue:we,resetInputValueBySelectedOption:Su}=en({options:i,accessible:x,selectedValue:w,onInputChange:hu}),A=n.useMemo(()=>Pt(i,r?he:"",c),[c,he,i,r]),{scrollToElement:Oe,optionsWrapperRef:qe,scrollBoxRef:ke}=un(),{focusedOptionValue:O,setFocusedOptionValue:xe,resetFocusedOption:ge,focusOptionByIndex:Me,focusOption:Au,selectFocusedValue:Tu}=Jt({selectedOptionValue:w,filteredOptions:A,scrollToElement:Oe}),Bu=()=>{Oe(De(A,w),!0)},[q,Fu,$,Nu]=Xt({onOpen:Ee(Tu,D),onOpened:Bu,onClose:_,onClosed:x?Su:we});n.useEffect(function(){const b=S!==void 0?S:ae(V);Ne(b),xe(b)},[S,V,xe,Ne]),n.useEffect(function(){Vu(b=>{const I=S!==void 0;return Mt(b,I),I})},[S]),se(()=>{if(A.some(({value:t})=>V===t)||B&&V===g.NATIVE){const t=new Event("change",{bubbles:!0});F.current?.dispatchEvent(t)}},[V]);const wu=n.useMemo(()=>q&&k===0&&(ye.includes("top")?T.popUp:T.popDown)||void 0,[k,q,ye]),ue=n.useCallback(t=>{if(ve(t??g.NATIVE),$(),ee&&S!==V&&V===t){const I=new Event("change",{bubbles:!0});F.current?.dispatchEvent(I)}},[$,ve,ee,S,V,F]),Ou=n.useCallback(()=>{O!==null&&ue(O)},[O,ue]),qu=Zt({opened:q,open:Fu,close:$,resetFocusedOption:ge,selectFocused:Ou,focusOption:Au,scrollBoxRef:ke,onInputKeyDown:j}),ku=n.useCallback(()=>{$();const t=new Event("focusout",{bubbles:!0});F.current?.dispatchEvent(t)},[$,F]),xu=n.useCallback(()=>{const t=new Event("focusin",{bubbles:!0});F.current?.dispatchEvent(t)},[F]),Pe=n.useCallback(t=>{const b=Array.prototype.indexOf.call(t.currentTarget.parentNode?.children,t.currentTarget),I=A[b];I&&!I.disabled&&ue(I.value)},[A,ue]),be=n.useRef({x:0,y:0}),He=n.useCallback((t,b)=>{Ye(t,be.current)&&Me(b,!1)},[Me]),G=n.useId(),Le=n.useCallback((t,b)=>{const I=t.value===O,Xu=t.value===w;return C.jsx(n.Fragment,{children:y({option:t,hovered:I,children:t.label,selected:Xu,disabled:t.disabled,onClick:Pe,onMouseDown:ut,onMouseMove:Ju=>He(Ju,b),id:`${G}-${t.value}`,...t})},`${typeof t.value}-${t.value}`)},[O,w,y,Pe,G,He]),Mu=n.useMemo(()=>{const t=A.length>0?C.jsx("div",{ref:qe,children:A.map(Le)}):C.jsx(it,{className:T.empty,children:p});return typeof f=="function"?f({defaultDropdownContent:t}):t},[p,A,qe,f,Le]),Pu=_e({value:S,nativeSelectValue:V,isControlledOutside:ee,opened:q,allowClearButton:B,ClearButton:M,onClearButtonClick:()=>{ve(g.NATIVE),we(),R.current&&R.current.focus()},clearButtonTestId:P,disabled:Be.disabled,readOnly:Z,icon:fe}),{document:Y}=tt(),Hu=n.useCallback(t=>{if(!R.current||!Y)return;t.target!==R.current&&(R.current.click(),Y.activeElement!==R.current&&R.current.focus())},[Y,R]),Lu=t=>{Y&&Y.activeElement===R.current&&t.preventDefault()},je=O!==null?O:void 0,ju={role:"combobox","aria-controls":G,"aria-expanded":q,"aria-activedescendant":je&&q?`${G}-${je}`:void 0,"aria-labelledby":Re,"aria-haspopup":"listbox","aria-autocomplete":"none"},Wu=n.useCallback(t=>{Ye(t,be.current)&&ge()},[ge]),Ku=t=>{be.current={x:t.clientX,y:t.clientY}},Uu=t=>{cu?.(t),Hu(t)},$u=t=>{pu?.(t),Lu(t)},Gu=t=>{du?.(t),Ku(t)},Yu=t=>{xu(),gu?.(t)},zu=t=>{ku(),bu?.(t)};return C.jsxs(Ke,{baseClassName:le(T.host,Se!=="regular"&&nn[Se]),getRootRef:Eu,onClick:Uu,onMouseDown:$u,onMouseMove:Gu,...mu,children:[C.jsx(Ve,{fetching:v,searchable:r,accessible:x,before:o,after:Pu,selectType:me,align:Ze,status:u,multiline:Q,labelTextTestId:H,slotProps:{root:{className:wu},input:{autoComplete:"off",autoCapitalize:"none",autoCorrect:"off",spellCheck:"false",getRootRef:R,onChange:Ru,value:he,readOnly:Z||!r,placeholder:U,onFocus:Yu,onBlur:zu,onKeyDown:Z?Ae:Ee(qu,Ae),onClick:Z?Te:Ee(Nu,Te),...ju,...Be}},children:Du?.label}),C.jsx(an,{fetching:v,options:A,fetchingInProgressLabel:de,fetchingCompletedLabel:pe}),C.jsxs(Ke,{Component:"select",baseClassName:T.control,tabIndex:-1,value:V,"aria-hidden":!0,"data-testid":L,onChange:_u,getRootRef:F,...yu,children:[(B||V===g.NATIVE)&&C.jsx("option",{value:g.NATIVE},g.NATIVE),i.map(t=>C.jsx("option",{value:t.value},`${t.value}`))]}),q&&C.jsx(st,{targetRef:Fe,placement:ye,scrollBoxRef:ke,onPlacementChange:Iu,onMouseLeave:Wu,fetching:v,overscrollBehavior:l,offsetDistance:k,autoWidth:re,forcePortal:ie,noMaxHeight:ce,role:"listbox",id:G,"aria-labelledby":Re,tabIndex:-1,children:Mu})]})}try{ze.displayName="CustomSelect",ze.__docgenInfo={description:"",displayName:"CustomSelect",props:{slotProps:{defaultValue:null,description:"Свойства, которые можно прокинуть внутрь компонента:\n- `root`: свойства для прокидывания в корень компонента;\n- `select`: свойства для прокидывания в нативный `select`;\n- `input`: свойства для прокидывания в нативный `input`.",name:"slotProps",required:!1,type:{name:'({ root?: (Omit<HTMLAttributes<HTMLDivElement>, "children"> & HasDataAttribute & HasRootRef<HTMLDivElement>); select?: (NativeHTMLSelectProps & ... 1 more ... & HasDataAttribute); } & { ...; }) | undefined'}},getSelectInputRef:{defaultValue:null,description:"@deprecated Since 7.9.0. Вместо этого используйте `slotProps={ input: { getRootRef: ... } }`.\n\nRef на внутрений компонент input.",name:"getSelectInputRef",required:!1,type:{name:"Ref<HTMLInputElement>"}},searchable:{defaultValue:null,description:"Если `true`, то при нажатии на `CustomSelect` в нём появится текстовое поле для поиска по `options`. По умолчанию поиск\nпроизводится по `option.label`.",name:"searchable",required:!1,type:{name:"boolean"}},emptyText:{defaultValue:null,description:"Текст, который будет отображен, если приходит пустой `options`.",name:"emptyText",required:!1,type:{name:"string"}},onInputChange:{defaultValue:null,description:"Событие изменения текстового поля.",name:"onInputChange",required:!1,type:{name:"((e: ChangeEvent<HTMLInputElement>) => void)"}},options:{defaultValue:null,description:"Список опций в списке.",name:"options",required:!0,type:{name:"OptionInterfaceT[]"}},filterFn:{defaultValue:null,description:"Функция для кастомной фильтрации. По умолчанию поиск производится по `option.label`.",name:"filterFn",required:!1,type:{name:"false | FilterFn<OptionInterfaceT>"}},popupDirection:{defaultValue:null,description:"Направление раскрытия выпадающего списка.",name:"popupDirection",required:!1,type:{name:"enum",value:[{value:'"bottom"'},{value:'"top"'},{value:'"bottom-start"'},{value:'"bottom-end"'},{value:'"top-start"'},{value:'"top-end"'}]}},renderOption:{defaultValue:null,description:"Рендер-проп для кастомного рендера опции.\nВ объекте аргумента приходят [свойства опции](https://vkui.io/components/custom-select#custom-select-option-api).\n\n> ⚠️  Важно: свойство опции `disabled` должно выставляться только через проп `options`.\n> Запрещается выставлять `disabled` проп опциям в обход `options`, иначе `CustomSelect` не будет знать об актуальном состоянии\nопции.",name:"renderOption",required:!1,type:{name:"((props: CustomSelectRenderOption<OptionInterfaceT>) => ReactNode)"}},renderDropdown:{defaultValue:null,description:"Рендер-проп для кастомного рендера содержимого дропдауна.\nВ `defaultDropdownContent` содержится список опций в виде скроллящегося блока.",name:"renderDropdown",required:!1,type:{name:"(({ defaultDropdownContent, }: { defaultDropdownContent: ReactNode; }) => ReactNode)"}},fetching:{defaultValue:{value:"false"},description:'Если `true`, то в дропдауне вместо списка опций рисуется спиннер. При переданных `renderDropdown` и `fetching: true`\n"победит" `renderDropdown`.',name:"fetching",required:!1,type:{name:"boolean"}},onClose:{defaultValue:null,description:"Обработчик закрытия выпадающего списка.",name:"onClose",required:!1,type:{name:"VoidFunction"}},onOpen:{defaultValue:null,description:"Обработчик открытия выпадающего списка.",name:"onOpen",required:!1,type:{name:"VoidFunction"}},ClearButton:{defaultValue:null,description:"Кастомная кнопка для очистки значения.\nДолжна принимать обязательное свойство `onClick`.",name:"ClearButton",required:!1,type:{name:"ComponentType<CustomSelectClearButtonProps>"}},allowClearButton:{defaultValue:null,description:"Если `true`, то справа будет отображаться кнопка для очистки значения.",name:"allowClearButton",required:!1,type:{name:"boolean"}},clearButtonTestId:{defaultValue:null,description:"Передает атрибут `data-testid` для кнопки очистки.",name:"clearButtonTestId",required:!1,type:{name:"string"}},dropdownOffsetDistance:{defaultValue:null,description:"Отступ от выпадающего списка.",name:"dropdownOffsetDistance",required:!1,type:{name:"number"}},dropdownAutoWidth:{defaultValue:null,description:"Ширина раскрывающегося списка зависит от контента.",name:"dropdownAutoWidth",required:!1,type:{name:"boolean"}},forceDropdownPortal:{defaultValue:null,description:"Использовать Portal для рендеринга выпадающего списка.",name:"forceDropdownPortal",required:!1,type:{name:"boolean"}},noMaxHeight:{defaultValue:null,description:"Отключает максимальную высоту по умолчанию.",name:"noMaxHeight",required:!1,type:{name:"boolean"}},labelTextTestId:{defaultValue:null,description:"Передает атрибут `data-testid` для элемента, внутри которого отображается текст выбранной опции `CustomSelect` или плейсхолдер.",name:"labelTextTestId",required:!1,type:{name:"string"}},nativeSelectTestId:{defaultValue:null,description:"@deprecated Since 7.9.0. Вместо этого используйте `slotProps={ select: { 'data-testid': ... } }`.\n\nПередает атрибут `data-testid` для нативного элемента `select`.",name:"nativeSelectTestId",required:!1,type:{name:"string"}},onInputKeyDown:{defaultValue:null,description:"Обработчик события `keyDown` в поле ввода.",name:"onInputKeyDown",required:!1,type:{name:"((e: KeyboardEvent<Element>, isOpen: boolean) => void)"}},accessible:{defaultValue:null,description:`@deprecated Since 8.0.0. Будет удалено в 9.0.0.

Включает режим в котором выбранное значение \`CustomSelect\` читается скринридерами корректно.
В данном режиме введенное в поле ввода значение не сбрасывается при потере фокуса.`,name:"accessible",required:!1,type:{name:"boolean"}},fetchingInProgressLabel:{defaultValue:{value:"Список опций загружается..."},description:'Текстовая метка для индикации процесса загрузки данных для пользователей скринридерами. По умолчанию: `"Список опций загружается..."`.',name:"fetchingInProgressLabel",required:!1,type:{name:"string"}},fetchingCompletedLabel:{defaultValue:{value:"`Загружено опций: ${options.length}`"},description:'Текстовая метка для индикации завершения процесса загрузки данных для пользователей скринридерами. По умолчанию: `"Загружено опций: ${options.length}"`.',name:"fetchingCompletedLabel",required:!1,type:{name:"string | ((optionsCount: number) => string)"}},placeholder:{defaultValue:null,description:"Текст-подсказка при отсутствии выбранного значения.",name:"placeholder",required:!1,type:{name:"string"}},value:{defaultValue:null,description:"Выбранное значение.\n\n> ⚠️  Важно: При прокидывании `undefined` компонент будет считаться `Uncontrolled`.\n>\n> Не используйте `undefined`, чтобы показать невыбранное состояние. Вместо этого используйте `null`.",name:"value",required:!1,type:{name:"SelectValue"}},onChange:{defaultValue:null,description:`Обработчик, срабатывающий при изменении выбранного значения.
Вторым параметром прокидывается новое значение.

> ⚠️ Лучше использовать второй параметр при работе с компонентом.`,name:"onChange",required:!1,type:{name:"((e: ChangeEvent<HTMLSelectElement>, newValue: SelectValue) => void)"}},defaultValue:{defaultValue:null,description:"См. `value`.",name:"defaultValue",required:!1,type:{name:"SelectValue"}},getRootRef:{defaultValue:null,description:"",name:"getRootRef",required:!1,type:{name:"Ref<HTMLDivElement>"}},status:{defaultValue:null,description:"Статус отображения поля в форме.",name:"status",required:!1,type:{name:"enum",value:[{value:'"default"'},{value:'"error"'},{value:'"valid"'}]}},align:{defaultValue:null,description:"",name:"align",required:!1,type:{name:"enum",value:[{value:'"center"'},{value:'"left"'},{value:'"right"'}]}},before:{defaultValue:null,description:"Добавляет иконку слева.\n\nРекомендации:\n\n- Используйте следующие размеры иконок `12` | `16` | `20` | `24` | `28`.\n- Используйте [IconButton](https://vkui.io/components/icon-button), если вам нужна иконка, реагирующая на нажатие.",name:"before",required:!1,type:{name:"ReactNode"}},multiline:{defaultValue:null,description:"Флаг для включения многострочного режима.",name:"multiline",required:!1,type:{name:"boolean"}},getRef:{defaultValue:null,description:"@deprecated Since 7.9.0. Вместо этого используйте `slotProps={ select: { getRootRef: ... } }`.",name:"getRef",required:!1,type:{name:"Ref<HTMLSelectElement>"}},selectType:{defaultValue:null,description:"Тип селекта, влияющий на отображение.",name:"selectType",required:!1,type:{name:"enum",value:[{value:'"default"'},{value:'"plain"'},{value:'"accent"'}]}},icon:{defaultValue:null,description:"Иконка раскрывающегося списка.",name:"icon",required:!1,type:{name:"ReactNode"}},mode:{defaultValue:null,description:"Режим отображения.\n\n- `default` — показывает фон, обводку и, при наличии, текст-подсказку.\n- `plain` — показывает только текст-подсказку.",name:"mode",required:!1,type:{name:"enum",value:[{value:'"default"'},{value:'"plain"'}]}},after:{defaultValue:null,description:"Добавляет иконку справа.\n\nРекомендации:\n\n- Используйте следующие размеры иконок `12` | `16` | `20` | `24` | `28`.\n- Используйте [IconButton](https://vkui.io/components/icon-button), если вам нужна иконка, реагируюущая на нажатие.",name:"after",required:!1,type:{name:"ReactNode"}},beforeAlign:{defaultValue:null,description:"Вертикальное выравнивание иконки слева.",name:"beforeAlign",required:!1,type:{name:"enum",value:[{value:'"start"'},{value:'"center"'},{value:'"end"'}]}},afterAlign:{defaultValue:null,description:"Вертикальное выравнивание иконки справа.",name:"afterAlign",required:!1,type:{name:"enum",value:[{value:'"start"'},{value:'"center"'},{value:'"end"'}]}},overscrollBehavior:{defaultValue:null,description:"Поведение overscroll, подробнее можно почитать в [документации](https://developer.mozilla.org/en-US/docs/Web/CSS/overscroll-behavior).",name:"overscrollBehavior",required:!1,type:{name:"enum",value:[{value:'"none"'},{value:'"auto"'},{value:'"contain"'}]}}}}}catch{}export{ze as C};
