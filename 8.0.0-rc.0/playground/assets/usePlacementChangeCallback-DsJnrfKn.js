import{a as d,b as O,o as A,d as C,e as E,f as I,h as U,s as x,i as L,j as P}from"./floating-ui.react-dom-C28MpNR-.js";import{aA as T,r,q as j}from"./iframe-DP0c1f9Y.js";import{C as k}from"./customResizeObserver-CzwDpNji.js";const D={ancestorScroll:!0,ancestorResize:!0,elementResize:!1,animationFrame:!1};function $(s,t,i,a=D){const{elementResize:o=!1,...l}=a,c=window.ResizeObserver!==void 0,f=d(s,t,i,{...l,elementResize:o&&c});let n=null;return o&&!c&&(n=new k(i),T(s)&&n.observe(s),n.observe(t),n.appendToTheDOM()),()=>{n&&(n.disconnect(),n=null),f()}}const y=({placement:s="bottom-start",arrowRef:t=null,arrow:i,arrowHeight:a,arrowPadding:o,sameWidth:l,offsetByMainAxis:c=0,offsetByCrossAxis:f=0,customMiddlewares:n,hideWhenReferenceHidden:m,disableFlipMiddleware:h=!1,disableShiftMiddleware:b=!1,flipMiddlewareFallbackAxisSideDirection:v="end",overflowPadding:R})=>r.useMemo(()=>{const g=!O(s),e=[A({crossAxis:f,mainAxis:i&&a?c+a:c})],u=b?null:C({padding:R});if(g)e.push(E({alignment:I(s)})),u&&e.push(u);else if(h)u&&e.push(u);else{const p=U({crossAxis:"alignment",fallbackAxisSideDirection:v});s.includes("-")?(e.push(p),u&&e.push(u)):(u&&e.push(u),e.push(p))}return l&&e.push(x({apply({rects:p,elements:z}){Object.assign(z.floating.style,{width:`${p.reference.width}px`})}})),n&&e.push(...n),i&&e.push(L({element:t,padding:o})),m&&e.push(P()),{middlewares:e,strictPlacement:g?void 0:s}},[s,f,i,a,c,h,b,v,l,n,m,t,o,R]);function G(s,t,i){const a=r.useRef(void 0);r.useEffect(()=>{a.current=t}),j(()=>{if(!i)return;const o=a.current;(o===void 0&&s!==t||o!==void 0&&o!==t)&&i(t)},[s,t,i])}export{G as a,$ as b,y as u};
